- en: Page
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 页面
- en: 原文：[https://pymupdf.readthedocs.io/en/latest/page.html](https://pymupdf.readthedocs.io/en/latest/page.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pymupdf.readthedocs.io/en/latest/page.html](https://pymupdf.readthedocs.io/en/latest/page.html)
- en: Class representing a document page. A page object is created by [`Document.load_page()`](document.html#Document.load_page
    "Document.load_page") or, equivalently, via indexing the document like `doc[n]`
    - it has no independent constructor.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 代表文档页面的类。页面对象通过[`Document.load_page()`](document.html#Document.load_page "Document.load_page")或通过像`doc[n]`这样的文档索引创建
    - 它没有独立的构造函数。
- en: 'There is a parent-child relationship between a document and its pages. If the
    document is closed or deleted, all page objects (and their respective children,
    too) in existence will become unusable (“orphaned”): If a page property or method
    is being used, an exception is raised.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 文档和其页面之间存在父子关系。如果文档关闭或删除，所有现存的页面对象（及其各自的子对象）将变得不可用（“孤立”）：如果正在使用页面的属性或方法，则会引发异常。
- en: Several page methods have a [Document](document.html#document) counterpart for
    convenience. At the end of this chapter you will find a synopsis.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 几个页面方法具有方便使用的[文档](document.html#document)对应项。本章末尾将找到一个简介。
- en: Note
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Many times in this chapter we are using the term **coordinate**. It is of high
    importance to have at least a basic understanding of what that is and that you
    feel comfortable with the section [Coordinates](app3.html#coordinates).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们多次使用术语**坐标**。理解其基本概念并确保对[坐标系](app3.html#coordinates)部分感到自在至关重要。
- en: Modifying Pages
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修改页面
- en: Changing page properties and adding or changing page content is available for
    PDF documents only.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 只有对 PDF 文档才能进行更改页面属性、添加或更改页面内容。
- en: 'In a nutshell, this is what you can do with PyMuPDF:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，这是您可以使用 PyMuPDF 所做的事情：
- en: Modify page rotation and the visible part (“cropbox”) of the page.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改页面旋转和页面的可见部分（“裁剪框”）。
- en: Insert images, other PDF pages, text and simple geometrical objects.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插入图像、其他 PDF 页面、文本和简单的几何对象。
- en: Add annotations and form fields.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加注释和表单字段。
- en: Note
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Methods require coordinates (points, rectangles) to put content in desired
    places. Please be aware that these coordinates **must always** be provided relative
    to the **unrotated** page (since v1.17.0). The reverse is also true: except [`Page.rect`](#Page.rect
    "Page.rect"), resp. [`Page.bound()`](#Page.bound "Page.bound") (both *reflect*
    when the page is rotated), all coordinates returned by methods and attributes
    pertain to the unrotated page.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 方法需要坐标（点、矩形）以将内容放置在所需位置。请注意，这些坐标**必须始终**相对于**未旋转**的页面提供（自 v1.17.0 起）。反之亦然：除了[`Page.rect`](#Page.rect
    "Page.rect")和[`Page.bound()`](#Page.bound "Page.bound")（两者在页面旋转时*反映*）外，方法和属性返回的所有坐标均与未旋转的页面相关。
- en: So the returned value of e.g. [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") will not change if you do a [`Page.set_rotation()`](#Page.set_rotation
    "Page.set_rotation"). The same is true for coordinates returned by [`Page.get_text()`](#Page.get_text
    "Page.get_text"), annotation rectangles, and so on. If you want to find out, where
    an object is located in **rotated coordinates**, multiply the coordinates with
    [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix"). There
    also is its inverse, [`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix"),
    which you can use when interfacing with other readers, which may behave differently
    in this respect.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，例如[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")返回的值，如果执行[`Page.set_rotation()`](#Page.set_rotation
    "Page.set_rotation")不会改变。同样适用于[`Page.get_text()`](#Page.get_text "Page.get_text")返回的坐标，注释矩形等等。如果要查找对象在**旋转坐标**中的位置，可以将坐标乘以[`Page.rotation_matrix`](#Page.rotation_matrix
    "Page.rotation_matrix")。同样还有其逆，[`Page.derotation_matrix`](#Page.derotation_matrix
    "Page.derotation_matrix")，在与可能在此方面行为不同的其他阅读器接口时可以使用。
- en: Note
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you add or update annotations, links or form fields on the page and immediately
    afterwards need to work with them (i.e. **without leaving the page**), you should
    reload the page using [`Document.reload_page()`](document.html#Document.reload_page
    "Document.reload_page") before referring to these new or updated items.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 如果添加或更新注释、链接或表单字段，并且需要立即使用它们（即**不离开页面**），则应在引用这些新添加或更新的项目之前使用[`Document.reload_page()`](document.html#Document.reload_page
    "Document.reload_page")重新加载页面。
- en: Reloading the page is generally recommended – although not strictly required
    in all cases. However, some annotation and widget types have extended features
    in PyMuPDF compared to MuPDF. More of these extensions may also be added in the
    future.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载页面通常是建议的，尽管并非在所有情况下都严格需要。然而，与MuPDF相比，PyMuPDF中的一些注释和小部件类型具有扩展功能。今后可能还会添加更多这些扩展。
- en: Releoading the page ensures all your changes have been fully applied to PDF
    structures, so you can safely create Pixmaps or successfully iterate over annotations,
    links and form fields.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载页面确保所有更改已完全应用于PDF结构，因此您可以安全地创建像素图或成功迭代注释、链接和表单字段。
- en: '| **Method / Attribute** | **Short Description** |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| **方法 / 属性** | **简要描述** |'
- en: '| --- | --- |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| [`Page.add_caret_annot()`](#Page.add_caret_annot "Page.add_caret_annot")
    | PDF only: add a caret annotation |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_caret_annot()`](#Page.add_caret_annot "Page.add_caret_annot")
    | 仅适用于PDF：添加插入符注释 |'
- en: '| [`Page.add_circle_annot()`](#Page.add_circle_annot "Page.add_circle_annot")
    | PDF only: add a circle annotation |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_circle_annot()`](#Page.add_circle_annot "Page.add_circle_annot")
    | 仅适用于PDF：添加圆形注释 |'
- en: '| [`Page.add_file_annot()`](#Page.add_file_annot "Page.add_file_annot") | PDF
    only: add a file attachment annotation |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_file_annot()`](#Page.add_file_annot "Page.add_file_annot") | 仅适用于PDF：添加文件附件注释
    |'
- en: '| [`Page.add_freetext_annot()`](#Page.add_freetext_annot "Page.add_freetext_annot")
    | PDF only: add a text annotation |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_freetext_annot()`](#Page.add_freetext_annot "Page.add_freetext_annot")
    | 仅适用于PDF：添加文本注释 |'
- en: '| [`Page.add_highlight_annot()`](#Page.add_highlight_annot "Page.add_highlight_annot")
    | PDF only: add a “highlight” annotation |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_highlight_annot()`](#Page.add_highlight_annot "Page.add_highlight_annot")
    | 仅适用于PDF：添加“高亮”注释 |'
- en: '| [`Page.add_ink_annot()`](#Page.add_ink_annot "Page.add_ink_annot") | PDF
    only: add an ink annotation |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_ink_annot()`](#Page.add_ink_annot "Page.add_ink_annot") | 仅适用于PDF：添加墨迹注释
    |'
- en: '| [`Page.add_line_annot()`](#Page.add_line_annot "Page.add_line_annot") | PDF
    only: add a line annotation |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_line_annot()`](#Page.add_line_annot "Page.add_line_annot") | 仅适用于PDF：添加线条注释
    |'
- en: '| [`Page.add_polygon_annot()`](#Page.add_polygon_annot "Page.add_polygon_annot")
    | PDF only: add a polygon annotation |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_polygon_annot()`](#Page.add_polygon_annot "Page.add_polygon_annot")
    | 仅适用于PDF：添加多边形注释 |'
- en: '| [`Page.add_polyline_annot()`](#Page.add_polyline_annot "Page.add_polyline_annot")
    | PDF only: add a multi-line annotation |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_polyline_annot()`](#Page.add_polyline_annot "Page.add_polyline_annot")
    | 仅适用于PDF：添加多行注释 |'
- en: '| [`Page.add_rect_annot()`](#Page.add_rect_annot "Page.add_rect_annot") | PDF
    only: add a rectangle annotation |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_rect_annot()`](#Page.add_rect_annot "Page.add_rect_annot") | 仅适用于PDF：添加矩形注释
    |'
- en: '| [`Page.add_redact_annot()`](#Page.add_redact_annot "Page.add_redact_annot")
    | PDF only: add a redaction annotation |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_redact_annot()`](#Page.add_redact_annot "Page.add_redact_annot")
    | 仅适用于PDF：添加遮盖注释 |'
- en: '| [`Page.add_squiggly_annot()`](#Page.add_squiggly_annot "Page.add_squiggly_annot")
    | PDF only: add a “squiggly” annotation |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_squiggly_annot()`](#Page.add_squiggly_annot "Page.add_squiggly_annot")
    | 仅适用于PDF：添加“波浪线”注释 |'
- en: '| [`Page.add_stamp_annot()`](#Page.add_stamp_annot "Page.add_stamp_annot")
    | PDF only: add a “rubber stamp” annotation |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_stamp_annot()`](#Page.add_stamp_annot "Page.add_stamp_annot")
    | 仅适用于PDF：添加“图章”注释 |'
- en: '| [`Page.add_strikeout_annot()`](#Page.add_strikeout_annot "Page.add_strikeout_annot")
    | PDF only: add a “strike-out” annotation |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_strikeout_annot()`](#Page.add_strikeout_annot "Page.add_strikeout_annot")
    | 仅适用于PDF：添加“删除线”注释 |'
- en: '| [`Page.add_text_annot()`](#Page.add_text_annot "Page.add_text_annot") | PDF
    only: add a comment |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_text_annot()`](#Page.add_text_annot "Page.add_text_annot") | 仅适用于PDF：添加评论
    |'
- en: '| [`Page.add_underline_annot()`](#Page.add_underline_annot "Page.add_underline_annot")
    | PDF only: add an “underline” annotation |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_underline_annot()`](#Page.add_underline_annot "Page.add_underline_annot")
    | 仅适用于PDF：添加“下划线”注释 |'
- en: '| [`Page.add_widget()`](#Page.add_widget "Page.add_widget") | PDF only: add
    a PDF Form field |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.add_widget()`](#Page.add_widget "Page.add_widget") | 仅适用于PDF：添加PDF表单字段
    |'
- en: '| [`Page.annot_names()`](#Page.annot_names "Page.annot_names") | PDF only:
    a list of annotation (and widget) names |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.annot_names()`](#Page.annot_names "Page.annot_names") | 仅适用于PDF：注释（和小部件）名称列表
    |'
- en: '| [`Page.annot_xrefs()`](#Page.annot_xrefs "Page.annot_xrefs") | PDF only:
    a list of annotation (and widget) xrefs |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.annot_xrefs()`](#Page.annot_xrefs "Page.annot_xrefs") | 仅适用于PDF：注释（和小部件）交叉引用列表
    |'
- en: '| [`Page.annots()`](#Page.annots "Page.annots") | return a generator over the
    annots on the page |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.annots()`](#Page.annots "Page.annots") | 返回页面上注释的生成器 |'
- en: '| [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    | PDF only: process the redactions of the page |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    | 仅适用于PDF：处理页面的遮盖 |'
- en: '| [`Page.bound()`](#Page.bound "Page.bound") | rectangle of the page |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.bound()`](#Page.bound "Page.bound") | 页面的矩形边界 |'
- en: '| [`Page.cluster_drawings()`](#Page.cluster_drawings "Page.cluster_drawings")
    | PDF only: bounding boxes of vector graphics |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.cluster_drawings()`](#Page.cluster_drawings "Page.cluster_drawings")
    | 仅限 PDF：矢量图形的边界框 |'
- en: '| [`Page.delete_annot()`](#Page.delete_annot "Page.delete_annot") | PDF only:
    delete an annotation |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.delete_annot()`](#Page.delete_annot "Page.delete_annot") | 仅限 PDF：删除一个注释
    |'
- en: '| [`Page.delete_image()`](#Page.delete_image "Page.delete_image") | PDF only:
    delete an image |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.delete_image()`](#Page.delete_image "Page.delete_image") | 仅限 PDF：删除一个图像
    |'
- en: '| [`Page.delete_link()`](#Page.delete_link "Page.delete_link") | PDF only:
    delete a link |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.delete_link()`](#Page.delete_link "Page.delete_link") | 仅限 PDF：删除一个链接
    |'
- en: '| [`Page.delete_widget()`](#Page.delete_widget "Page.delete_widget") | PDF
    only: delete a widget / field |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.delete_widget()`](#Page.delete_widget "Page.delete_widget") | 仅限 PDF：删除一个小部件
    / 字段 |'
- en: '| [`Page.draw_bezier()`](#Page.draw_bezier "Page.draw_bezier") | PDF only:
    draw a cubic Bezier curve |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_bezier()`](#Page.draw_bezier "Page.draw_bezier") | 仅限 PDF：绘制一个三次贝塞尔曲线
    |'
- en: '| [`Page.draw_circle()`](#Page.draw_circle "Page.draw_circle") | PDF only:
    draw a circle |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_circle()`](#Page.draw_circle "Page.draw_circle") | 仅限 PDF：绘制一个圆
    |'
- en: '| [`Page.draw_curve()`](#Page.draw_curve "Page.draw_curve") | PDF only: draw
    a special Bezier curve |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_curve()`](#Page.draw_curve "Page.draw_curve") | 仅限 PDF：绘制一个特殊的贝塞尔曲线
    |'
- en: '| [`Page.draw_line()`](#Page.draw_line "Page.draw_line") | PDF only: draw a
    line |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_line()`](#Page.draw_line "Page.draw_line") | 仅限 PDF：绘制一条直线 |'
- en: '| [`Page.draw_oval()`](#Page.draw_oval "Page.draw_oval") | PDF only: draw an
    oval / ellipse |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_oval()`](#Page.draw_oval "Page.draw_oval") | 仅限 PDF：绘制一个椭圆 /
    椭圆形 |'
- en: '| [`Page.draw_polyline()`](#Page.draw_polyline "Page.draw_polyline") | PDF
    only: connect a point sequence |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_polyline()`](#Page.draw_polyline "Page.draw_polyline") | 仅限 PDF：连接一个点序列
    |'
- en: '| [`Page.draw_quad()`](#Page.draw_quad "Page.draw_quad") | PDF only: draw a
    quad |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_quad()`](#Page.draw_quad "Page.draw_quad") | 仅限 PDF：绘制一个四边形 |'
- en: '| [`Page.draw_rect()`](#Page.draw_rect "Page.draw_rect") | PDF only: draw a
    rectangle |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_rect()`](#Page.draw_rect "Page.draw_rect") | 仅限 PDF：绘制一个矩形 |'
- en: '| [`Page.draw_sector()`](#Page.draw_sector "Page.draw_sector") | PDF only:
    draw a circular sector |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_sector()`](#Page.draw_sector "Page.draw_sector") | 仅限 PDF：绘制一个圆形扇区
    |'
- en: '| [`Page.draw_squiggle()`](#Page.draw_squiggle "Page.draw_squiggle") | PDF
    only: draw a squiggly line |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_squiggle()`](#Page.draw_squiggle "Page.draw_squiggle") | 仅限 PDF：绘制一个波浪线
    |'
- en: '| [`Page.draw_zigzag()`](#Page.draw_zigzag "Page.draw_zigzag") | PDF only:
    draw a zig-zagged line |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.draw_zigzag()`](#Page.draw_zigzag "Page.draw_zigzag") | 仅限 PDF：绘制一条锯齿状线
    |'
- en: '| [`Page.find_tables()`](#Page.find_tables "Page.find_tables") | locate tables
    on the page |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.find_tables()`](#Page.find_tables "Page.find_tables") | 定位页面上的表格 |'
- en: '| [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings") | get vector
    graphics on page |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings") | 获取页面上的矢量图形
    |'
- en: '| [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts") | PDF only: get list
    of referenced fonts |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts") | 仅限 PDF：获取引用字体的列表
    |'
- en: '| [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox") | PDF
    only: get bbox and matrix of embedded image |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox") | 仅限
    PDF：获取嵌入图像的边界框和矩阵 |'
- en: '| [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info") | get
    list of meta information for all used images |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info") | 获取所有使用图像的元信息列表
    |'
- en: '| [`Page.get_image_rects()`](#Page.get_image_rects "Page.get_image_rects")
    | PDF only: improved version of [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_image_rects()`](#Page.get_image_rects "Page.get_image_rects")
    | 仅限 PDF：[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")
    的改进版本 |'
- en: '| [`Page.get_images()`](#Page.get_images "Page.get_images") | PDF only: get
    list of referenced images |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_images()`](#Page.get_images "Page.get_images") | 仅限 PDF：获取引用图像的列表
    |'
- en: '| [`Page.get_label()`](#Page.get_label "Page.get_label") | PDF only: return
    the label of the page |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_label()`](#Page.get_label "Page.get_label") | 仅限 PDF：返回页面的标签 |'
- en: '| [`Page.get_links()`](#Page.get_links "Page.get_links") | get all links |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_links()`](#Page.get_links "Page.get_links") | 获取所有链接 |'
- en: '| [`Page.get_pixmap()`](#Page.get_pixmap "Page.get_pixmap") | create a page
    image in raster format |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_pixmap()`](#Page.get_pixmap "Page.get_pixmap") | 创建一个以光栅格式的页面图像
    |'
- en: '| [`Page.get_svg_image()`](#Page.get_svg_image "Page.get_svg_image") | create
    a page image in SVG format |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_svg_image()`](#Page.get_svg_image "Page.get_svg_image") | 创建一个以
    SVG 格式的页面图像 |'
- en: '| [`Page.get_text()`](#Page.get_text "Page.get_text") | extract the page’s
    text |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.get_text()`](#Page.get_text "Page.get_text") | 提取页面的文本 |'
- en: '| [`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox") | extract text
    contained in a rectangle |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox") | 提取矩形框中包含的文本
    |'
- en: '| [`Page.get_textpage_ocr()`](#Page.get_textpage_ocr "Page.get_textpage_ocr")
    | create a TextPage with OCR for the page |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textpage_ocr()`](#Page.get_textpage_ocr "Page.get_textpage_ocr")
    | 创建带有 OCR 的 TextPage |'
- en: '| [`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage") | create
    a TextPage for the page |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage") | 创建页面的 TextPage
    |'
- en: '| [`Page.get_xobjects()`](#Page.get_xobjects "Page.get_xobjects") | PDF only:
    get list of referenced xobjects |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_xobjects()`](#Page.get_xobjects "Page.get_xobjects") | PDF only:
    获取引用的 xobjects 列表 |'
- en: '| [`Page.insert_font()`](#Page.insert_font "Page.insert_font") | PDF only:
    insert a font for use by the page |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_font()`](#Page.insert_font "Page.insert_font") | PDF only: 插入页面使用的字体
    |'
- en: '| [`Page.insert_image()`](#Page.insert_image "Page.insert_image") | PDF only:
    insert an image |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_image()`](#Page.insert_image "Page.insert_image") | PDF only:
    插入图像 |'
- en: '| [`Page.insert_link()`](#Page.insert_link "Page.insert_link") | PDF only:
    insert a link |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_link()`](#Page.insert_link "Page.insert_link") | PDF only: 插入链接
    |'
- en: '| [`Page.insert_text()`](#Page.insert_text "Page.insert_text") | PDF only:
    insert text |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_text()`](#Page.insert_text "Page.insert_text") | PDF only: 插入文本
    |'
- en: '| [`Page.insert_htmlbox()`](#Page.insert_htmlbox "Page.insert_htmlbox") | PDF
    only: insert html text in a rectangle |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_htmlbox()`](#Page.insert_htmlbox "Page.insert_htmlbox") | PDF
    only: 在矩形框中插入 HTML 文本 |'
- en: '| [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") | PDF
    only: insert a text box |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") | PDF
    only: 插入文本框 |'
- en: '| [`Page.links()`](#Page.links "Page.links") | return a generator of the links
    on the page |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '[`Page.links()`](#Page.links "Page.links") | 返回页面上链接的生成器 |'
- en: '| [`Page.load_annot()`](#Page.load_annot "Page.load_annot") | PDF only: load
    a specific annotation |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_annot()`](#Page.load_annot "Page.load_annot") | PDF only: 加载特定注释
    |'
- en: '| [`Page.load_widget()`](#Page.load_widget "Page.load_widget") | PDF only:
    load a specific field |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_widget()`](#Page.load_widget "Page.load_widget") | PDF only: 加载特定字段
    |'
- en: '| [`Page.load_links()`](#Page.load_links "Page.load_links") | return the first
    link on a page |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_links()`](#Page.load_links "Page.load_links") | 返回页面上的第一个链接 |'
- en: '| [`Page.new_shape()`](#Page.new_shape "Page.new_shape") | PDF only: create
    a new [Shape](shape.html#shape) |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '[`Page.new_shape()`](#Page.new_shape "Page.new_shape") | PDF only: 创建新的 [Shape](shape.html#shape)
    |'
- en: '| [`Page.remove_rotation()`](#Page.remove_rotation "Page.remove_rotation")
    | PDF only: set page rotation to 0 |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '[`Page.remove_rotation()`](#Page.remove_rotation "Page.remove_rotation") |
    PDF only: 将页面旋转设置为 0 |'
- en: '| [`Page.replace_image()`](#Page.replace_image "Page.replace_image") | PDF
    only: replace an image |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '[`Page.replace_image()`](#Page.replace_image "Page.replace_image") | PDF only:
    替换图像 |'
- en: '| [`Page.search_for()`](#Page.search_for "Page.search_for") | search for a
    string |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '[`Page.search_for()`](#Page.search_for "Page.search_for") | 搜索字符串 |'
- en: '| [`Page.set_artbox()`](#Page.set_artbox "Page.set_artbox") | PDF only: modify
    `/ArtBox` |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_artbox()`](#Page.set_artbox "Page.set_artbox") | PDF only: 修改 `/ArtBox`
    |'
- en: '| [`Page.set_bleedbox()`](#Page.set_bleedbox "Page.set_bleedbox") | PDF only:
    modify `/BleedBox` |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_bleedbox()`](#Page.set_bleedbox "Page.set_bleedbox") | PDF only:
    修改 `/BleedBox` |'
- en: '| [`Page.set_cropbox()`](#Page.set_cropbox "Page.set_cropbox") | PDF only:
    modify the `cropbox` (visible page) |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_cropbox()`](#Page.set_cropbox "Page.set_cropbox") | PDF only: 修改
    `cropbox`（可见页面） |'
- en: '| [`Page.set_mediabox()`](#Page.set_mediabox "Page.set_mediabox") | PDF only:
    modify `/MediaBox` |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_mediabox()`](#Page.set_mediabox "Page.set_mediabox") | PDF only:
    修改 `/MediaBox` |'
- en: '| [`Page.set_rotation()`](#Page.set_rotation "Page.set_rotation") | PDF only:
    set page rotation |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_rotation()`](#Page.set_rotation "Page.set_rotation") | PDF only:
    设置页面旋转 |'
- en: '| [`Page.set_trimbox()`](#Page.set_trimbox "Page.set_trimbox") | PDF only:
    modify `/TrimBox` |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_trimbox()`](#Page.set_trimbox "Page.set_trimbox") | PDF only: 修改
    `/TrimBox` |'
- en: '| [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") | PDF
    only: display PDF page image |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") | PDF only:
    显示 PDF 页面图像 |'
- en: '| [`Page.update_link()`](#Page.update_link "Page.update_link") | PDF only:
    modify a link |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '[`Page.update_link()`](#Page.update_link "Page.update_link") | PDF only: 修改链接
    |'
- en: '| [`Page.widgets()`](#Page.widgets "Page.widgets") | return a generator over
    the fields on the page |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '[`Page.widgets()`](#Page.widgets "Page.widgets") | 返回页面字段的生成器 |'
- en: '| [`Page.write_text()`](#Page.write_text "Page.write_text") | write one or
    more [TextWriter](textwriter.html#textwriter) objects |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '[`Page.write_text()`](#Page.write_text "Page.write_text") | 写入一个或多个 [TextWriter](textwriter.html#textwriter)
    对象 |'
- en: '| [`Page.cropbox_position`](#Page.cropbox_position "Page.cropbox_position")
    | displacement of the `cropbox` |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '[`Page.cropbox_position`](#Page.cropbox_position "Page.cropbox_position") |
    `cropbox` 的位置偏移 |'
- en: '| [`Page.cropbox`](#Page.cropbox "Page.cropbox") | the page’s `cropbox` |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.cropbox`](#Page.cropbox "Page.cropbox") | 页面的`cropbox` |'
- en: '| [`Page.artbox`](#Page.artbox "Page.artbox") | the page’s `/ArtBox` |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.artbox`](#Page.artbox "Page.artbox") | 页面的`/ArtBox` |'
- en: '| [`Page.bleedbox`](#Page.bleedbox "Page.bleedbox") | the page’s `/BleedBox`
    |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.bleedbox`](#Page.bleedbox "Page.bleedbox") | 页面的`/BleedBox` |'
- en: '| [`Page.trimbox`](#Page.trimbox "Page.trimbox") | the page’s `/TrimBox` |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.trimbox`](#Page.trimbox "Page.trimbox") | 页面的`/TrimBox` |'
- en: '| [`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix")
    | PDF only: get coordinates in unrotated page space |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix")
    | 仅适用于PDF：获取未旋转页面空间中的坐标 |'
- en: '| [`Page.first_annot`](#Page.first_annot "Page.first_annot") | first [Annot](annot.html#annot)
    on the page |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.first_annot`](#Page.first_annot "Page.first_annot") | 页面上的第一个[Annot](annot.html#annot)
    |'
- en: '| [`Page.first_link`](#Page.first_link "Page.first_link") | first [Link](link.html#link)
    on the page |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.first_link`](#Page.first_link "Page.first_link") | 页面上的第一个[Link](link.html#link)
    |'
- en: '| [`Page.first_widget`](#Page.first_widget "Page.first_widget") | first widget
    (form field) on the page |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.first_widget`](#Page.first_widget "Page.first_widget") | 页面上的第一个小部件（表单字段）
    |'
- en: '| [`Page.mediabox_size`](#Page.mediabox_size "Page.mediabox_size") | bottom-right
    point of `mediabox` |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.mediabox_size`](#Page.mediabox_size "Page.mediabox_size") | `mediabox`的右下角点
    |'
- en: '| [`Page.mediabox`](#Page.mediabox "Page.mediabox") | the page’s `mediabox`
    |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.mediabox`](#Page.mediabox "Page.mediabox") | 页面的`mediabox` |'
- en: '| [`Page.number`](#Page.number "Page.number") | page number |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.number`](#Page.number "Page.number") | 页码 |'
- en: '| [`Page.parent`](#Page.parent "Page.parent") | owning document object |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.parent`](#Page.parent "Page.parent") | 拥有文档对象 |'
- en: '| [`Page.rect`](#Page.rect "Page.rect") | rectangle of the page |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rect`](#Page.rect "Page.rect") | 页面的矩形 |'
- en: '| [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix") |
    PDF only: get coordinates in rotated page space |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix") |
    仅适用于PDF：获取旋转页面空间中的坐标 |'
- en: '| [`Page.rotation`](#Page.rotation "Page.rotation") | PDF only: page rotation
    |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rotation`](#Page.rotation "Page.rotation") | 仅适用于PDF：页面旋转 |'
- en: '| [`Page.transformation_matrix`](#Page.transformation_matrix "Page.transformation_matrix")
    | PDF only: translate between PDF and MuPDF space |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.transformation_matrix`](#Page.transformation_matrix "Page.transformation_matrix")
    | 仅适用于PDF：在PDF和MuPDF空间之间进行转换 |'
- en: '| [`Page.xref`](#Page.xref "Page.xref") | PDF only: page [`xref`](glossary.html#xref
    "xref") |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.xref`](#Page.xref "Page.xref") | 仅适用于PDF：页面的[`xref`](glossary.html#xref
    "xref") |'
- en: '**Class API**'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**类API**'
- en: '[PRE0]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Determine the rectangle of the page. Same as property [`Page.rect`](#Page.rect
    "Page.rect"). For PDF documents this **usually** also coincides with [`mediabox`](#Page.mediabox
    "Page.mediabox") and [`cropbox`](#Page.cropbox "Page.cropbox"), but not always.
    For example, if the page is rotated, then this is reflected by this method – the
    [`Page.cropbox`](#Page.cropbox "Page.cropbox") however will not change.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 确定页面的矩形。与属性[`Page.rect`](#Page.rect "Page.rect")相同。对于PDF文档，这通常也与[`mediabox`](#Page.mediabox
    "Page.mediabox")和[`cropbox`](#Page.cropbox "Page.cropbox")相符，但并非总是如此。例如，如果页面被旋转，则此方法会反映这一点，但[`Page.cropbox`](#Page.cropbox
    "Page.cropbox")不会改变。
- en: 'Return type:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE2]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'PDF only: Add a caret icon. A caret annotation is a visual symbol normally
    used to indicate the presence of text edits on the page.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加一个插入符号图标。插入符号注释是一个视觉符号，通常用于指示页面上的文本编辑。
- en: 'Parameters:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**point** (*point_like*) – the top left point of a 20 x 20 rectangle containing
    the MuPDF-provided icon.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '**point** (*point_like*) – 包含MuPDF提供的图标的20 x 20矩形的左上角点。'
- en: 'Return type:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Stroke color blue = (0, 0, 1), no fill color support.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色蓝色 = (0, 0, 1)，不支持填充颜色。
- en: '[![_images/img-caret-annot.jpg](../Images/28a34a51f7aa8adf8818bec9637b0e49.png)](_images/img-caret-annot.jpg)<details><summary>Show/hide
    history</summary></details> *   New in v1.16.0'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-caret-annot.jpg](../Images/28a34a51f7aa8adf8818bec9637b0e49.png)](_images/img-caret-annot.jpg)<details><summary>显示/隐藏历史记录</summary></details>
    *   v1.16.0中的新功能'
- en: '[PRE3]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'PDF only: Add a comment icon (“sticky note”) with accompanying text. Only the
    icon is visible, the accompanying text is hidden and can be visualized by many
    PDF viewers by hovering the mouse over the symbol.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加一个评论图标（“便笺”）及其附带文本。仅图标可见，附带文本则被隐藏，可以通过许多PDF查看器将鼠标悬停在符号上来可视化。
- en: 'Parameters:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**point** (*point_like*) – the top left point of a 20 x 20 rectangle containing
    the MuPDF-provided “note” icon.'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**point** (*point_like*) – 包含MuPDF提供的“注释”图标的20 x 20矩形的左上角点。'
- en: '**text** (*str*) – the commentary text. This will be shown on double clicking
    or hovering over the icon. May contain any Latin characters.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*str*) – 注释文本。双击或悬停图标时将显示。可以包含任何拉丁字符。'
- en: '**icon** (*str*) – choose one of “Note” (default), “Comment”, “Help”, “Insert”,
    “Key”, “NewParagraph”, “Paragraph” as the visual symbol for the embodied text
    [[4]](#f4). (New in v1.16.0)'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**icon** (*str*) – 选择“Note”（默认）、“Comment”、“Help”、“Insert”、“Key”、“NewParagraph”、“Paragraph”中的一个作为体现文本的视觉符号[[4]](#f4)。（自
    v1.16.0 起新功能）'
- en: 'Return type:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Stroke color yellow = (1, 1, 0), no fill color support.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色为黄色 = (1, 1, 0)，不支持填充颜色。
- en: '[PRE4]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'PDF only: Add text in a given rectangle.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：在给定矩形中添加文本。
- en: 'Parameters:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – the rectangle into which the text should be inserted.
    Text is automatically wrapped to a new line at box width. Lines not fitting into
    the box will be invisible.'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 要插入文本的矩形。文本会自动换行到盒子宽度的新行。不适合盒子的行将不可见。'
- en: '**text** (*str*) – the text. May contain any mixture of Latin, Greek, Cyrillic,
    Chinese, Japanese and Korean characters. The respective required font is automatically
    determined. (New in v1.17.0)'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*str*) – 文本。可以包含拉丁文、希腊文、西里尔文、中文、日文和韩文字符的任意混合。自动确定所需的字体。（自 v1.17.0
    起新功能）'
- en: '**fontsize** (*float*) – the [`fontsize`](glossary.html#fontsize "fontsize").
    Default is 12.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize** (*float*) – [`fontsize`](glossary.html#fontsize "fontsize")。默认为12。'
- en: '**fontname** (*str*) – the font name. Default is “Helv”. Accepted alternatives
    are “Cour”, “TiRo”, “ZaDb” and “Symb”. The name may be abbreviated to the first
    two characters, like “Co” for “Cour”. Lower case is also accepted. Bold or italic
    variants of the fonts are **not accepted** (changed in v1.16.0). A user-contributed
    script provides a circumvention for this restriction – see section *Using Buttons
    and JavaScript* in chapter [FAQ](faq.html#faq). The actual font to use is now
    determined on a by-character level, and all required fonts (or sub-fonts) are
    automatically included. Therefore, you should rarely ever need to care about this
    parameter and let it default (except you insist on a serifed font for your non-CJK
    text parts). (New in v1.17.0)'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname** (*str*) – 字体名称。默认为“Helv”。可接受的备选项包括“Cour”、“TiRo”、“ZaDb”和“Symb”。名称可以缩写为前两个字符，如“Co”代表“Cour”。也接受小写。字体的粗体或斜体变体**不被接受**（自
    v1.16.0 起更改）。用户贡献的脚本提供了对此限制的绕过方法——参见章节*使用按钮和JavaScript*中的[FAQ](faq.html#faq)。现在根据每个字符的需要确定实际使用的字体（或子字体），所有必需的字体（或子字体）都会自动包含。因此，除非您坚持为非CJK文本部分使用衬线字体，否则您几乎不需要关心此参数，可以让其默认。（自
    v1.17.0 起新功能）'
- en: '**text_color** (*sequence**,**float*) – the text color. Default is black. (New
    in v1.16.0)'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color** (*sequence**,**float*) – 文本颜色。默认为黑色。（自 v1.16.0 起新功能）'
- en: '**fill_color** (*sequence**,**float*) – the fill color. Default is white. (New
    in v1.16.0)'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fill_color** (*sequence**,**float*) – 填充颜色。默认为白色。（自 v1.16.0 起新功能）'
- en: '**text_color** – the text color. Default is black.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color** – 文本颜色。默认为黑色。'
- en: '**border_color** (*sequence**,**float*) – the border color. Default is `None`.
    (New in v1.19.6)'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**border_color** (*sequence**,**float*) – 边框颜色。默认为`None`。（自 v1.19.6 起新功能）'
- en: '**align** (*int*) – text alignment, one of TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER,
    TEXT_ALIGN_RIGHT - justify is **not supported**. (New in v1.17.0)'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**align** (*int*) – 文本对齐方式，TEXT_ALIGN_LEFT、TEXT_ALIGN_CENTER、TEXT_ALIGN_RIGHT之一——不支持右对齐。（自
    v1.17.0 起新功能）'
- en: '**rotate** (*int*) – the text orientation. Accepted values are 0, 90, 270,
    invalid entries are set to zero.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 文本方向。可接受的值为 0、90、270，无效条目将被设为零。'
- en: 'Return type:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Color properties **can only be changed** using special
    parameters of [`Annot.update()`](annot.html#Annot.update "Annot.update"). There,
    you can also set a border color different from the text color.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。颜色属性只能使用[`Annot.update()`](annot.html#Annot.update "Annot.update")的特殊参数进行更改。在那里，您还可以设置与文本颜色不同的边框颜色。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.6:
    add border color parameter'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details>
- en: '[PRE5]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'PDF only: Add a file attachment annotation with a “PushPin” icon at the specified
    location.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：在指定位置添加带有“PushPin”图标的文件附件注释。
- en: 'Parameters:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**pos** (*point_like*) – the top-left point of a 18x18 rectangle containing
    the MuPDF-provided “PushPin” icon.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pos** (*point_like*) – 包含MuPDF提供的“PushPin”图标的18x18矩形的左上角点。'
- en: '**buffer** (*bytes**,**bytearray**,**BytesIO*) –'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**buffer** (*bytes**,**bytearray**,**BytesIO*) –'
- en: the data to be stored (actual file content, any data, etc.).
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要存储的数据（实际文件内容，任何数据等）。
- en: 'Changed in v1.14.13: *io.BytesIO* is now also supported.'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: v1.14.13 中的更改：现在还支持 *io.BytesIO*。
- en: '**filename** (*str*) – the filename to associate with the data.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename**（*str*）- 与数据关联的文件名。'
- en: '**ufilename** (*str*) – the optional PDF unicode version of filename. Defaults
    to filename.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ufilename**（*str*）- 可选的 PDF Unicode 文件名版本。默认为文件名。'
- en: '**desc** (*str*) – an optional description of the file. Defaults to filename.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**desc**（*str*）- 文件的可选描述。默认为文件名。'
- en: '**icon** (*str*) – choose one of “PushPin” (default), “Graph”, “Paperclip”,
    “Tag” as the visual symbol for the attached data [[4]](#f4). (New in v1.16.0)'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**icon**（*str*）- 选择“PushPin”（默认）、“Graph”、“Paperclip”、“Tag”之一作为附加数据的视觉符号 [[4]](#f4)。（在
    v1.16.0 中新增）'
- en: 'Return type:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Stroke color yellow = (1, 1, 0), no fill color support.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色为黄色 = (1, 1, 0)，不支持填充颜色。
- en: '[PRE6]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'PDF only: Add a “freehand” scribble annotation.'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加“自由手绘”涂鸦注释。
- en: 'Parameters:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**list** (*sequence*) – a list of one or more lists, each containing [`point_like`](glossary.html#point_like
    "point_like") items. Each item in these sublists is interpreted as a [Point](point.html#point)
    through which a connecting line is drawn. Separate sublists thus represent separate
    drawing lines.'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '**list**（*sequence*）- 包含一个或多个列表的列表，每个子列表都包含[`point_like`](glossary.html#point_like
    "point_like")项。这些子列表中的每个项被解释为通过它连接的[Point](point.html#point)。因此，单独的子列表表示单独的绘制线条。'
- en: 'Return type:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation in default appearance black =(0, 0, 0),line width 1\.
    No fill color support.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释的默认外观为黑色 =(0, 0, 0)，线宽为 1。不支持填充颜色。
- en: '[PRE7]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'PDF only: Add a line annotation.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加线条注释。
- en: 'Parameters:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**p1** (*point_like*) – the starting point of the line.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**p1**（*point_like*）- 线条的起点。'
- en: '**p2** (*point_like*) – the end point of the line.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**p2**（*point_like*）- 线条的终点。'
- en: 'Return type:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. It is drawn with line (stroke) color red = (1, 0, 0)
    and line width 1\. No fill color support. The **annot rectangle** is automatically
    created to contain both points, each one surrounded by a circle of radius 3 *
    line width to make room for any line end symbols.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。它用红色线条（描边）绘制，颜色为红色 = (1, 0, 0)，线宽为 1。不支持填充颜色。**注释矩形**会自动创建，以包含两个点，每个点周围都有半径为
    3 * 线宽的圆圈，以容纳任何线条结束符号。
- en: '[PRE8]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'PDF only: Add a rectangle, resp. circle annotation.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加矩形或圆形注释。
- en: 'Parameters:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – the rectangle in which the circle or rectangle is
    drawn, must be finite and not empty. If the rectangle is not equal-sided, an ellipse
    is drawn.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*）- 矩形，用于绘制圆形或矩形，必须是有限且非空的。如果矩形不是等边的，则绘制椭圆。'
- en: 'Return type:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. It is drawn with line (stroke) color red = (1, 0, 0),
    line width 1, fill color is supported.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。它用红色线条（描边）绘制，颜色为红色 = (1, 0, 0)，线宽为 1，支持填充颜色。
- en: '* * *'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Redactions
  id: totrans-203
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除内容
- en: '[PRE10]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**PDF only**: Add a redaction annotation. A redaction annotation identifies
    content to be removed from the document. Adding such an annotation is the first
    of two steps. It makes visible what will be removed in the subsequent step, [`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions").'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加红线注释。红线注释标识要从文档中删除的内容。添加这样的注释是两个步骤中的第一步。它使后续步骤中的[`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions")可见将要移除的内容。
- en: 'Parameters:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quad** (*quad_like**,**rect_like*) – specifies the (rectangular) area to
    be removed which is always equal to the annotation rectangle. This may be a [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like") object. If
    a quad is specified, then the enveloping rectangle is taken.'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quad**（*quad_like**,**rect_like*）- 指定要移除的（矩形）区域，始终等于注释矩形。这可以是一个[`rect_like`](glossary.html#rect_like
    "rect_like")或[`quad_like`](glossary.html#quad_like "quad_like")对象。如果指定了四边形，则采用包围矩形。'
- en: '**text** (*str*) – text to be placed in the rectangle after applying the redaction
    (and thus removing old content). (New in v1.16.12)'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text**（*str*）- 应用编辑后，要放置在矩形中的文本（从而删除旧内容）。 （在 v1.16.12 中新增）'
- en: '**fontname** (*str*) –'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname**（*str*）-'
- en: the font to use when *text* is given, otherwise ignored. The same rules apply
    as for [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") –
    which is the method [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    internally invokes. The replacement text will be **vertically centered**, if this
    is one of the CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts). (New in v1.16.12)
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当给出*text*时使用的字体，否则将被忽略。与[`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox")相同的规则适用于此方法内部调用的[`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions") - 替换文本将是**垂直居中**的，如果这是CJK或[PDF Base 14 Fonts](app3.html#base-14-fonts)之一。（在
    v1.16.12 中新增）
- en: Note
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: For an **existing** font of the page, use its reference name as *fontname* (this
    is *item[4]* of its entry in [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")).
  id: totrans-212
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于页面上的**现有**字体，请使用其引用名称作为*fontname*（这是其在[`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts")中条目的*item[4]*）。
- en: 'For a **new, non-builtin** font, proceed as follows:'
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于**新的、非内置**字体，请按以下步骤进行：
- en: '[PRE11]'
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '**fontsize** (*float*) – the [`fontsize`](glossary.html#fontsize "fontsize")
    to use for the replacing text. If the text is too large to fit, several insertion
    attempts will be made, gradually reducing the [`fontsize`](glossary.html#fontsize
    "fontsize") to no less than 4\. If then the text will still not fit, no text insertion
    will take place at all. (New in v1.16.12)'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize**（*float*） - 用于替换文本的[`fontsize`](glossary.html#fontsize "fontsize")。如果文本太大而无法容纳，则将尝试进行多次插入，逐渐减小[`fontsize`](glossary.html#fontsize
    "fontsize")至不低于4。如果文本仍然无法容纳，则根本不会进行文本插入。（在 v1.16.12 中新增）'
- en: '**align** (*int*) – the horizontal alignment for the replacing text. See [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") for available values. The vertical alignment is (approximately)
    centered if a PDF built-in font is used (CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts)).
    (New in v1.16.12)'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**align**（*int*） - 替换文本的水平对齐方式。查看[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")获取可用值。如果使用PDF内置字体（CJK或[PDF Base 14 Fonts](app3.html#base-14-fonts)）则垂直对齐方式（大约）居中。（在
    v1.16.12 中新增）'
- en: '**fill** (*sequence*) – the fill color of the rectangle **after applying**
    the redaction. The default is *white = (1, 1, 1)*, which is also taken if *None*
    is specified. To suppress a fill color altogether, specify *False*. In this cases
    the rectangle remains transparent. (New in v1.16.12)'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fill**（*sequence*） - 应用遮挡后矩形的填充颜色。默认为*white = (1, 1, 1)*，如果指定*None*也是如此。要完全取消填充颜色，请指定*False*。在这种情况下，矩形保持透明。（在
    v1.16.12 中新增）'
- en: '**text_color** (*sequence*) – the color of the replacing text. Default is *black
    = (0, 0, 0)*. (New in v1.16.12)'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color**（*sequence*） - 替换文本的颜色。默认为*black = (0, 0, 0)*。（在 v1.16.12 中新增）'
- en: '**cross_out** (*bool*) – add two diagonal lines to the annotation rectangle.
    (New in v1.17.2)'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**cross_out**（*bool*） - 向注释矩形添加两条对角线。（在 v1.17.2 中新增）'
- en: 'Return type:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Its standard appearance looks like a red rectangle (no
    fill color), optionally showing two diagonal lines. Colors, line width, dashing,
    opacity and blend mode can now be set and applied via [`Annot.update()`](annot.html#Annot.update
    "Annot.update") like with other annotations. (Changed in v1.17.2)
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。其标准外观类似于一个红色矩形（无填充颜色），可选择显示两条对角线。现在可以通过[`Annot.update()`](annot.html#Annot.update
    "Annot.update")设置和应用颜色、线宽、虚线、不透明度和混合模式，就像其他注释一样。（在 v1.17.2 中更改）
- en: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>Show/hide
    history</summary></details> *   New in v1.16.11'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>显示/隐藏历史记录</summary></details>
    * 新增于 v1.16.11'
- en: '[PRE12]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '**PDF only**: Remove all **content** contained in any redaction rectangle on
    the page.'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅适用于PDF**：删除页面上任何遮挡矩形中包含的所有**内容**。'
- en: '**This method applies and then deletes all redactions from the page.**'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '**此方法应用然后从页面中删除所有遮挡。**'
- en: 'Parameters:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**images** (*int*) – How to redact overlapping images. The default (2) blanks
    out overlapping pixels. `PDF_REDACT_IMAGE_NONE | 0` ignores, and `PDF_REDACT_IMAGE_REMOVE
    | 1` completely removes images overlapping any redaction annotation. Option `PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE
    | 3` only removes images that are actually visible.'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**images**（*int*） - 如何编辑重叠的图像。默认值（2）会消除重叠的像素。`PDF_REDACT_IMAGE_NONE | 0`表示忽略，`PDF_REDACT_IMAGE_REMOVE
    | 1`完全删除任何与任何遮挡注释重叠的图像。选项`PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE | 3`仅删除实际可见的图像。（在
    v1.16.12 中新增）'
- en: '**graphics** (*int*) – How to redact overlapping vector graphics (also called
    “line-art” or “drawings”). The default (2) removes any overlapping vector graphics.
    `PDF_REDACT_LINE_ART_NONE | 0` ignores, and `PDF_REDACT_LINE_ART_IF_COVERED |
    1` removes graphics fully contained in a redaction annotation. When removing line-art,
    please be aware that **stroked** vector graphics (i.e. type “s” or “sf”) have
    a **larger wrapping rectangle** than one might expect: first of all, at least
    50% of the path’s line width have to be added in each direction to truly include
    all of the drawing. If a so-called “miter limit” is provided (see page 121 of
    the PDF specification), the enlarging value is `miter * width / 2`. So, when letting
    everything default (width = 1, miter = 10), the redaction rectangle should be
    at least 5 points larger in every direction.'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图形** (*int*) – 如何对重叠的矢量图形（也称为“线条艺术”或“绘图”）进行删除。默认值（2）会删除任何重叠的矢量图形。`PDF_REDACT_LINE_ART_NONE
    | 0` 会忽略，而 `PDF_REDACT_LINE_ART_IF_COVERED | 1` 则会移除完全包含在隐私保护注释中的图形。在删除线条艺术时，请注意**描边**矢量图形（即类型“s”或“sf”）的**包裹矩形较大**，这可能超出您的预期：首先，每个方向至少必须添加路径线宽的50%以确实包括所有绘图。如果提供了所谓的“斜角极限”（参见PDF规范的第121页），则扩展值为
    `miter * width / 2`。因此，当所有内容保持默认值（宽度=1，斜角=10）时，隐私保护矩形在每个方向至少应大出5个点。'
- en: '**text** (*int*) – Whether to redact overlapping text. The default `PDF_REDACT_TEXT_REMOVE
    | 0` removes all characters whose boundary box overlaps any redaction rectangle.
    This complies with the original legal / data protection intentions of redaction
    annotations. Other use cases however may require to **keep text** while redacting
    vector graphics or images. This can be achieved by setting `text=True|PDF_REDACT_TEXT_NONE
    | 1`. This does **not comply** with the data protection intentions of redaction
    annotations. **Do so at your own risk.**'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本** (*int*) – 是否删除重叠的文本。默认值 `PDF_REDACT_TEXT_REMOVE | 0` 会删除任何边界框与任何隐私保护矩形重叠的字符。这符合隐私保护注释的原始法律/数据保护意图。然而，其他用例可能需要在删除矢量图形或图像时**保留文本**。可以通过设置
    `text=True|PDF_REDACT_TEXT_NONE | 1` 来实现。这**不符合**隐私保护注释的数据保护意图。请**自行承担风险**。'
- en: 'Returns:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '`True` if at least one redaction annotation has been processed, `False` otherwise.'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 如果至少处理了一个隐私保护注释，则返回 `True`，否则返回 `False`。
- en: Note
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Text contained in a redaction rectangle will be **physically** removed from
    the page (assuming [`Document.save()`](document.html#Document.save "Document.save")
    with a suitable garbage option) and will no longer appear in e.g. text extractions
    or anywhere else. All redaction annotations will also be removed. Other annotations
    are unaffected.
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含在隐私保护矩形中的文本将从页面中**物理删除**（假设使用适当的垃圾选项进行 [`Document.save()`](document.html#Document.save
    "Document.save") ），在文本提取或其他地方将不再显示。所有隐私保护注释也将被删除。其他注释不受影响。
- en: All overlapping links will be removed. If the rectangle of the link was covering
    text, then only the overlapping part of the text is being removed. Similar applies
    to images covered by link rectangles.
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有重叠的链接将被移除。如果链接的矩形覆盖了文本，则只会删除文本的重叠部分。相似的情况适用于被链接矩形覆盖的图像。
- en: The overlapping parts of **images** will be blanked-out for default option `PDF_REDACT_IMAGE_PIXELS`
    (changed in v1.18.0). Option 0 does not touch any images and 1 will remove any
    image with an overlap.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认选项 `PDF_REDACT_IMAGE_PIXELS` 下，重叠的部分**图像**将被清空（自v1.18.0起更改）。选项0不会触及任何图像，选项1会删除任何重叠的图像。
- en: For option `images=PDF_REDACT_IMAGE_REMOVE` only this page’s **references to
    the images** are removed - not necessarily the images themselves. Images are completely
    removed from the file only, if no longer referenced at all (assuming suitable
    garbage collection options).
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项 `images=PDF_REDACT_IMAGE_REMOVE`，仅删除此页面对图像的**引用** - 不一定删除图像本身。只有当不再引用图片（假设适当的垃圾回收选项）时，图像才会完全从文件中删除。
- en: For option `images=PDF_REDACT_IMAGE_PIXELS` a new image of format PNG is created,
    which the page will use in place of the original one. The original image is not
    deleted or replaced as part of this process, so other pages may still show the
    original. In addition, the new, modified PNG image currently is **stored uncompressed**.
    Do keep these aspects in mind when choosing the right garbage collection method
    and compression options during save.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项 `images=PDF_REDACT_IMAGE_PIXELS`，将创建一个新的 PNG 格式的图像，页面将使用该图像代替原始图像。原始图像不会在此过程中被删除或替换，因此其他页面仍然可能显示原始图像。此外，当前的新修改的
    PNG 图像是**未压缩存储**的。在选择正确的垃圾回收方法和保存期间的压缩选项时，请牢记这些方面。
- en: '**Text removal** is done by character: A character is removed if its bbox has
    a **non-empty overlap** with a redaction rectangle (changed in MuPDF v1.17). Depending
    on the font properties and / or the chosen line height, deletion may occur for
    undesired text parts. Using [`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights") with a *True* argument before text search may
    help to prevent this.'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本移除**按字符进行：如果其bbox与遮挡矩形有**非空重叠**（在MuPDF v1.17中更改），则删除字符。根据字体属性和/或所选行高，可能会删除不需要的文本部分。在文本搜索之前使用[`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights")并传入*True*参数可以帮助防止这种情况。'
- en: Redactions are a simple way to replace single words in a PDF, or to just physically
    remove them. Locate the word “secret” using some text extraction or search method
    and insert a redaction using “xxxxxx” as replacement text for each occurrence.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 遮罩是在PDF中替换单个单词或仅物理删除它们的简单方法。使用某些文本提取或搜索方法定位单词“secret”，并为每个出现插入遮罩，使用“xxxxxx”作为替换文本。
- en: Be wary if the replacement is longer than the original – this may lead to an
    awkward appearance, line breaks or no new text at all.
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果替换文本比原始文本更长，请谨慎 – 这可能导致外观尴尬，换行或根本没有新文本。
- en: For a number of reasons, the new text may not exactly be positioned on the same
    line like the old one – especially true if the replacement font was not one of
    CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts).
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于多种原因，新文本可能不会像旧文本一样精确地位于同一行上 – 尤其是如果替换字体不是CJK或[PDF基础14字体](app3.html#base-14-fonts)之一。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.11
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.16.11中新推出
- en: 'Changed in v1.16.12: The previous *mark* parameter is gone. Instead, the respective
    rectangles are filled with the individual *fill* color of each redaction annotation.
    If a *text* was given in the annotation, then [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") is invoked to insert it, using parameters provided with
    the redaction.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.16.12更改：以前的*mark*参数已被移除。取而代之的是，各自的遮挡注释会用个别的*fill*颜色填充。如果注释中提供了*text*，则会调用[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")插入，使用与遮挡提供的参数。
- en: 'Changed in v1.18.0: added option for handling images that overlap redaction
    areas.'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.18.0更改：添加了处理图像与遮挡区域重叠的选项。
- en: 'Changed in v1.23.27: added option for removing graphics as well.'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.23.27更改：添加了删除图形的选项。
- en: 'Changed in v1.24.2: added option `keep_text` to leave text untouched.'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.24.2更改：添加了选项`keep_text`以保留文本不变。
- en: '* * *'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '[PRE13]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'PDF only: Add an annotation consisting of lines which connect the given points.
    A **Polygon’s** first and last points are automatically connected, which does
    not happen for a **PolyLine**. The **rectangle** is automatically created as the
    smallest rectangle containing the points, each one surrounded by a circle of radius
    3 (= 3 * line width). The following shows a ‘PolyLine’ that has been modified
    with colors and line ends.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加由连接给定点的线条组成的注释。**多边形**的第一个和最后一个点会自动连接，而这在**折线**上是不会发生的。**矩形**会自动创建为包含点的最小矩形，每个点周围都有半径为3的圆圈（=
    3 * 线宽）。以下显示了一个已用颜色和线端修改过的“折线”。
- en: 'Parameters:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**points** (*list*) – a list of [`point_like`](glossary.html#point_like "point_like")
    objects.'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '**points**（*列表*） – 一个[`point_like`](glossary.html#point_like "point_like")对象列表。'
- en: 'Return type:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'the created annotation. It is drawn with line color black, line width 1 no
    fill color but fill color support. Use methods of [Annot](annot.html#annot) to
    make any changes to achieve something like this:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。它用黑线绘制，线宽1，无填充色但支持填充色。使用[注释](annot.html#annot)的方法进行任何更改以实现如下所示的效果：
- en: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
- en: '[PRE15]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '[PRE16]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '[PRE17]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '[PRE18]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'PDF only: These annotations are normally used for **marking text** which has
    previously been somehow located (for example via [`Page.search_for()`](#Page.search_for
    "Page.search_for")). But this is not required: you are free to “mark” just anything.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：这些注释通常用于标记以前某种方式定位的文本（例如通过[`Page.search_for()`](#Page.search_for "Page.search_for")）。但这不是必须的：您可以自由地“标记”任何内容。
- en: 'Standard (stroke only – no fill color support) colors are chosen per annotation
    type: **yellow** for highlighting, **red** for striking out, **green** for underlining,
    and **magenta** for wavy underlining.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 标准（仅边框 – 不支持填充颜色）的颜色根据注释类型选择：**黄色**用于高亮显示，**红色**用于删除线，**绿色**用于下划线，**洋红色**用于波浪下划线。
- en: All these four methods convert the arguments into a list of [Quad](quad.html#quad)
    objects. The **annotation** rectangle is then calculated to envelop all these
    quadrilaterals.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这四种方法都将参数转换为[四边形](quad.html#quad)对象的列表。然后计算**注释**矩形以包围所有这些四边形。
- en: Note
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '[`search_for()`](#Page.search_for "Page.search_for") delivers a list of either
    [Rect](rect.html#rect) or [Quad](quad.html#quad) objects. Such a list can be directly
    used as an argument for these annotation types and will deliver **one common annotation**
    for all occurrences of the search string:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '[`search_for()`](#Page.search_for "Page.search_for") 返回一个[矩形](rect.html#rect)或[四边形](quad.html#quad)对象的列表。这样的列表可以直接用作这些注释类型的参数，并将为搜索字符串的所有出现提供**一个共同的注释**：'
- en: '[PRE19]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Note
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Obviously, text marker annotations need to know what is the top, the bottom,
    the left, and the right side of the area(s) to be marked. If the arguments are
    quads, this information is given by the sequence of the quad points. In contrast,
    a rectangle delivers much less information – this is illustrated by the fact,
    that 4! = 24 different quads can be constructed with the four corners of a rectangle.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，文本标记注释需要知道要标记的区域的顶部、底部、左侧和右侧是什么。如果参数是四边形，这些信息通过四边形点序列给出。相比之下，矩形提供的信息要少得多
    – 这一点可以通过以下事实来说明：一个矩形的四个角可以构造出24个不同的四边形。
- en: Therefore, we **strongly recommend** to use the `quads` option for text searches,
    to ensure correct annotations. A similar consideration applies to marking **text
    spans** extracted with the “dict” / “rawdict” options of [`Page.get_text()`](#Page.get_text
    "Page.get_text"). For more details on how to compute quadrilaterals in this case,
    see section “How to Mark Non-horizontal Text” of [FAQ](faq.html#faq).
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们**强烈建议**使用`quads`选项进行文本搜索，以确保正确的注释。类似的考虑也适用于使用[`Page.get_text()`](#Page.get_text
    "Page.get_text")的“dict”/“rawdict”选项提取的**文本跨度**的标记。有关如何在这种情况下计算四边形的详细信息，请参见[FAQ](faq.html#faq)部分的“如何标记非水平文本”。
- en: 'Parameters:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quads** (*rect_like**,**quad_like**,**list**,**tuple*) – the location(s)
    – rectangle(s) or quad(s) – to be marked. (Changed in v1.14.20) A list or tuple
    must consist of [`rect_like`](glossary.html#rect_like "rect_like") or [`quad_like`](glossary.html#quad_like
    "quad_like") items (or even a mixture of either). Every item must be finite, convex
    and not empty (as applicable). **Set this parameter to** *None* if you want to
    use the following arguments (Changed in v1.16.14). And vice versa: if not *None*,
    the remaining parameters must be *None*.'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads** (*rect_like**,**quad_like**,**list**,**tuple*) – 要标记的位置 – 矩形或四边形
    – （自v1.14.20更改）列表或元组必须包含[`rect_like`](glossary.html#rect_like "rect_like")或[`quad_like`](glossary.html#quad_like
    "quad_like")项目（或两者混合）。每个项目必须是有限、凸面且非空的（如适用）。如果希望使用以下参数，请将此参数设置为*None*（自v1.16.14更改）。反之亦然：如果不是*None*，则其余参数必须为*None*。'
- en: '**start** (*point_like*) – start text marking at this point. Defaults to the
    top-left point of *clip*. Must be provided if `quads` is *None*. (New in v1.16.14)'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**start** (*point_like*) – 从此点开始标记文本。默认为*clip*的左上角点。如果`quads`为*None*，必须提供此选项。（自v1.16.14新增）'
- en: '**stop** (*point_like*) – stop text marking at this point. Defaults to the
    bottom-right point of *clip*. Must be used if `quads` is *None*. (New in v1.16.14)'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stop** (*point_like*) – 停止在此点标记文本。默认为*clip*的右下角点。如果`quads`为*None*，必须使用此选项。（自v1.16.14新增）'
- en: '**clip** (*rect_like*) – only consider text lines intersecting this area. Defaults
    to the page rectangle. Only use if `start` and `stop` are provided. (New in v1.16.14)'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 仅考虑与此区域相交的文本行。默认为页面矩形。仅在提供了`start`和`stop`时使用。（自v1.16.14新增）'
- en: 'Return type:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot) or *None* (changed in v1.16.14).'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot) 或 *None* （自v1.16.14更改）。'
- en: 'Returns:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. If *quads* is an empty list, **no annotation** is created
    (changed in v1.16.14).
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。如果*quads*为空列表，则**不创建注释**（自v1.16.14更改）。
- en: Note
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use parameters *start*, *stop* and *clip* to highlight consecutive lines
    between the points *start* and *stop* (starting with v1.16.14). Make use of *clip*
    to further reduce the selected line bboxes and thus deal with e.g. multi-column
    pages. The following multi-line highlight on a page with three text columns was
    created by specifying the two red points and setting clip accordingly.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用参数*start*，*stop*和*clip*来突出显示两个红点之间的连续行（从v1.16.14开始）。利用*clip*进一步减少所选行的边界框，从而处理例如多列页面。以下是在具有三个文本列的页面上创建的多行高亮显示示例，通过相应设置*clip*来实现。
- en: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
- en: '[PRE20]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Cluster vector graphics (synonyms are line-art or drawings) based on their geometrical
    vicinity. The method walks through the output of [`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings") and joins paths whose `path["rect"]` are closer to each other
    than some tolerance values (given in the arguments). The result is a list of rectangles
    that each wrap things like tables (with gridlines), pie charts, bar charts, etc.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 基于它们的几何接近性对矢量图形集群（同义词为线条艺术或绘图）进行聚类。该方法遍历[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出，并结合其`path["rect"]`与某些容差值接近的路径（在参数中给出）。结果是一个列表，每个都包含类似表格（具有网格线）、饼图、柱状图等的矩形。
- en: 'Parameters:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – only consider paths inside this area. The default
    is the full page.'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 只考虑该区域内的路径。默认为整个页面。'
- en: '**drawings** (*list*) – (optional) provide a previously generated output of
    [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"). If `None` the
    method will execute the method.'
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**drawings** (*list*) – （可选）提供先前生成的[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出。如果为`None`，方法将执行该方法。'
- en: '**x_tolerance** (*float*) –'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x_tolerance** (*float*) –'
- en: '[PRE21]'
  id: totrans-291
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Find tables on the page and return an object with related information. Typically,
    the default values of the many parameters will be sufficient. Adjustments should
    ever only be needed in corner case situations.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 查找页面上的表格并返回相关信息对象。通常情况下，许多参数的默认值就足够了。只有在极端情况下才需要调整。
- en: 'Parameters:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – specify a region to consider within the page rectangle
    and ignore the rest. Default is the full page.'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 指定要考虑的页面矩形内的区域，忽略其余部分。默认为整个页面。'
- en: '**strategy** (*str*) –'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**strategy** (*str*) –'
- en: Request a **table detection** strategy. Valid values are “lines”, “lines_strict”
    and “text”.
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请求一个**表格检测**策略。有效值为“lines”，“lines_strict”和“text”。
- en: Default is **“lines”** which uses all vector graphics on the page to detect
    grid lines.
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认为**“lines”**，它使用页面上的所有矢量图形来检测网格线。
- en: Strategy **“lines_strict”** ignores borderless rectangle vector graphics. Sometimes
    single text pieces have background colors which may lead to false columns or lines.
    This strategy ignores them and can thus increase detection precision.
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 策略**“lines_strict”**会忽略没有边框的矩形矢量图形。有时单个文本片段具有背景颜色，这可能导致错误的列或行。此策略会忽略它们，从而增加检测精度。
- en: If **“text”** is specified, text positions are used to generate “virtual” column
    and / or row boundaries. Use `min_words_*` to request the number of words for
    considering their coordinates.
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果指定了**“text”**，则使用文本位置生成“虚拟”列和/或行边界。使用`min_words_*`来请求考虑其坐标的单词数量。
- en: Use parameters `vertical_strategy` and `horizontal_strategy` **instead** for
    a more fine-grained treatment of the dimensions.
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用参数`vertical_strategy`和`horizontal_strategy` **代替**以更精细地处理尺寸。
- en: '**horizontal_lines** (*sequence**[**floats**]*) – y-coordinates of rows. If
    provided, there will be no attempt to identify additional table rows. This influences
    table detection.'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**horizontal_lines** (*sequence**[**floats**]*) – 行的y坐标。如果提供，将不会尝试识别额外的表格行。这会影响表格检测。'
- en: '**vertical_lines** (*sequence**[**floats**]*) – x-coordinates of columns. If
    provided, there will be no attempt to identify additional table columns. This
    influences table detection.'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**vertical_lines** (*sequence**[**floats**]*) – 列的x坐标。如果提供，将不会尝试识别额外的表格列。这会影响表格检测。'
- en: '**min_words_vertical** (*int*) – relevant for vertical strategy option “text”:
    at least this many words must coincide to establish a **virtual column** boundary.'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_vertical** (*int*) – 对于垂直策略选项“text”很重要：至少必须有这么多单词重合才能建立**虚拟列**边界。'
- en: '**min_words_horizontal** (*int*) – relevant for horizontal strategy option
    “text”: at least this many words must coincide to establish a **virtual row**
    boundary.'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_horizontal** (*int*) – 仅对水平策略选项“text”有效：至少有这么多单词重合才能确定一个**虚拟行**的边界。'
- en: '**snap_tolerance** (*float*) – Any two horizontal lines whose y-values differ
    by no more than this value will be **snapped** into one. Accordingly for vertical
    lines. Default is 3\. Separate values can be specified instead for the dimensions,
    using `snap_x_tolerance` and `snap_y_tolerance`.'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**snap_tolerance** (*float*) – 如果两条水平线的y值之差不超过此值，则将它们**捕捉**到一起。垂直线同理。默认值为3。可以使用`snap_x_tolerance`和`snap_y_tolerance`分别指定各个维度的值。'
- en: '**join_tolerance** (*float*) – Any two lines will be **joined** to one if the
    end and the start points differ by no more than this value (in points). Default
    is 3\. Instead of this value, separate values can be specified for the dimensions
    using `join_x_tolerance` and `join_y_tolerance`.'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**join_tolerance** (*float*) – 如果两条线的终点和起点之差不超过此值（点），则将它们**连接**成一条线。默认值为3。可以使用`join_x_tolerance`和`join_y_tolerance`分别指定各个维度的值。'
- en: '**edge_min_length** (*float*) – Ignore a line if its length does not exceed
    this value (points). Default is 3.'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**edge_min_length** (*float*) – 如果线段长度不超过此值（点），则忽略该线段。默认值为3。'
- en: '**intersection_tolerance** (*float*) – When combining lines into cell borders,
    orthogonal lines must be within this value (points) to be considered intersecting.
    Default is 3\. Instead of this value, separate values can be specified for the
    dimensions using `intersection_x_tolerance` and `intersection_y_tolerance`.'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**intersection_tolerance** (*float*) – 将线段组合成单元格边框时，正交线段必须在此值（点）以内才被视为相交。默认值为3。可以使用`intersection_x_tolerance`和`intersection_y_tolerance`分别指定各个维度的值。'
- en: '**text_tolerance** (*float*) – Characters will be combined into words only
    if their distance is no larger than this value (points). Default is 3\. Instead
    of this value, separate values can be specified for the dimensions using `text_x_tolerance`
    and `text_y_tolerance`.'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_tolerance** (*float*) – 如果字符之间的距离不大于此值（点），则将它们组合成单词。默认值为3。可以使用`text_x_tolerance`和`text_y_tolerance`分别指定各个维度的值。'
- en: '**add_lines** (*tuple**,**list*) – Specify a list of “lines” (i.e. pairs of
    [`point_like`](glossary.html#point_like "point_like") objects) as **additional**,
    “virtual” vector graphics. These lines may help with table and / or cell detection
    and will not otherwise influence the detection strategy. Especially, in contrast
    to parameters `horizontal_lines` and `vertical_lines`, they will not prevent detecting
    rows or columns in other ways. These lines will be treated exactly like “real”
    vector graphics in terms of joining, snapping, intersectiing, minimum length and
    containment in the `clip` rectangle. Similarly, lines not parallel to any of the
    coordinate axes will be ignored.'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**add_lines** (*tuple**,**list*) – 指定一组“线条”（即[`point_like`](glossary.html#point_like
    "point_like")对象的对）作为**额外的**“虚拟”矢量图形。这些线条可能有助于表格和/或单元格的检测，并且不会影响检测策略的其他方面。与`horizontal_lines`和`vertical_lines`参数不同，这些线条不会阻止以其他方式检测行或列。这些线条在连接、捕捉、相交、最小长度和包含在`clip`矩形内等方面将被像“真实”矢量图形一样处理。同样，与任何坐标轴不平行的线条将被忽略。'
- en: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
  id: totrans-311
  prefs: []
  type: TYPE_IMG
  zh: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
- en: 'Returns:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a `TableFinder` object that has the following significant attributes:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 一个具有以下重要属性的`TableFinder`对象：
- en: '`cells`: a list of **all bboxes** on the page, that have been identified as
    table cells (across all tables). Each cell is a [`rect_like`](glossary.html#rect_like
    "rect_like") tuple `(x0, y0, x1, y1)` of coordinates or `None`.'
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 页面上所有被识别为表格单元格的边界框列表（跨所有表格）。每个单元格是一个[`rect_like`](glossary.html#rect_like
    "rect_like")元组`(x0, y0, x1, y1)`或`None`。'
- en: '`tables`: a list of `Table` objects. This is `[]` if the page has no tables.
    Single tables can be found as items of this list. But the `TableFinder` object
    itself is also a sequence of its tables. This means that if `tabs` is a `TableFinder`
    object, then table “n” is delivered by `tabs.tables[n]` as well as by the shorter
    `tabs[n]`.'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tables`: `Table`对象的列表。如果页面没有表格，则为空列表`[]`。可以通过`tabs.tables[n]`或更简洁的方式`tabs[n]`来访问单个表格。但是`TableFinder`对象本身也是其表格的序列。这意味着如果`tabs`是一个`TableFinder`对象，则表格“n”可以通过`tabs.tables[n]`和`tabs[n]`两种方式获取。'
- en: 'The `Table` object has the following attributes:'
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table`对象具有以下属性：'
- en: '[`bbox`](font.html#Font.bbox "Font.bbox"): the bounding box of the table as
    a tuple `(x0, y0, x1, y1)`.'
  id: totrans-317
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bbox`](font.html#Font.bbox "Font.bbox"): 表的边界框，表示为元组`(x0, y0, x1, y1)`。'
- en: '`cells`: bounding boxes of the table’s cells (list of tuples). A cell may also
    be `None`.'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 表格单元格的边界框（元组列表）。一个单元格也可以是`None`。'
- en: '`extract()`: this method returns the text content of each table cell as a list
    of list of strings.'
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`extract()`: 此方法返回每个表格单元格的文本内容，作为字符串列表的列表。'
- en: '`to_markdown()`: this method returns the table as a **string in markdown format**
    (compatible to Github). Supporting viewers can render the string as a table. This
    output is optimized for **small token** sizes, which is especially beneficial
    for LLM/RAG feeds. Pandas DataFrames (see method `to_pandas()` below) offer an
    equivalent markdown table output which however is better readable for the human
    eye.'
  id: totrans-320
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_markdown()`: 此方法返回一个以**Markdown格式**（与Github兼容）的字符串作为表。支持的查看器可以将字符串呈现为表格。此输出对于LLM/RAG
    feeds的小令牌大小特别有益。Pandas数据框（见下面的`to_pandas()`方法）提供了一个等效的Markdown表输出，但对于人眼更易读。'
- en: '`to_pandas()`: this method returns the table as a [pandas](https://pypi.org/project/pandas/)
    [DataFrame](https://pandas.pydata.org/docs/reference/frame.html). DataFrames are
    very versatile objects allowing a plethora of table manipulation methods and outputs
    to almost 20 well-known formats, among them Excel files, CSV, JSON, markdown-formatted
    tables and more. `DataFrame.to_markdown()` generates a Github-compatible markdown
    format optimized for human readability. This method however requires the package
    [tablutate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))
    to installed in addition to pandas itself.'
  id: totrans-321
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pandas()`: 此方法将表格作为[pandas](https://pypi.org/project/pandas/) [DataFrame](https://pandas.pydata.org/docs/reference/frame.html)返回。DataFrame是非常多才多艺的对象，允许大量的表操作方法和输出到几乎20种众所周知的格式，其中包括Excel文件、CSV、JSON、Markdown格式化的表格等等。`DataFrame.to_markdown()`生成一个适用于Github的Markdown格式，优化了人类的可读性。但是，该方法还需要安装包[tablutate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))，除了pandas本身之外。'
- en: '`header`: a `TableHeader` object containing header information of the table.'
  id: totrans-322
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`header`: 包含表头信息的`TableHeader`对象。'
- en: '`col_count`: an integer containing the number of table columns.'
  id: totrans-323
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`col_count`: 包含表格列数的整数。'
- en: '`row_count`: an integer containing the number of table rows.'
  id: totrans-324
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`row_count`: 包含表格行数的整数。'
- en: '`rows`: a list of `TableRow` objects containing two attributes, `bbox` is the
    boundary box of the row, and `cells` is a list of table cells contained in this
    row.'
  id: totrans-325
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rows`: 一个包含两个属性的`TableRow`对象列表，`bbox`是行的边界框，`cells`是包含在此行中的表格单元格的列表。'
- en: 'The `TableHeader` object has the following attributes:'
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TableHeader`对象具有以下属性：'
- en: '`bbox`: the bounding box of the header.'
  id: totrans-327
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`bbox`: 标题的边界框。'
- en: '`cells`: a list of bounding boxes containing the name of the respective column.'
  id: totrans-328
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 包含各列名称的边界框列表。'
- en: '`names`: a list of strings containing the text of each of the cell bboxes.
    They represent the column names – which are used when exporting the table to pandas
    DataFrames, markdown, etc.'
  id: totrans-329
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`names`: 包含每个单元框文本的字符串列表。它们代表列名 - 在将表导出为pandas数据框、Markdown等时使用。'
- en: '`external`: a bool indicating whether the header bbox is outside the table
    body (`True`) or not. Table headers are never identified by the `TableFinder`
    logic. Therefore, if `external` is true, then the header cells are not part of
    any cell identified by `TableFinder`. If `external == False`, then the first table
    row is the header.'
  id: totrans-330
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`external`: 一个布尔值，指示标题边界框是否位于表格主体之外（`True`）或不是。表头从不由`TableFinder`逻辑识别。因此，如果`external`为真，则标题单元格不是由`TableFinder`识别的任何单元格的一部分。如果`external
    == False`，则第一行是表头。'
- en: Please have a look at these [Jupyter notebooks](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis),
    which cover standard situations like multiple tables on one page or joining table
    fragments across multiple pages.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 请查看这些[Jupyter笔记本](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis)，其中涵盖了标准情况，如一页上的多个表格或跨多页连接表片段。
- en: <details><summary>Show/hide history</summary></details> *   New in version 1.23.0
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   版本1.23.0中的新功能
- en: 'Changed in version 1.23.19: new argument `add_lines`.'
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本1.23.19中的更改：新增参数`add_lines`。
- en: Important
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: There is also the [pdf2docx extract tables method](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)
    which is capable of table extraction if you prefer.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 还有[PDF2DOCX提取表格方法](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)，如果您更喜欢，也可以进行表格提取。
- en: '[PRE22]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'PDF only: Add a “rubber stamp” like annotation to e.g. indicate the document’s
    intended use (“DRAFT”, “CONFIDENTIAL”, etc.).'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：例如，向文档添加“橡皮图章”注释，以指示文档的预期用途（“草稿”，“机密”等）。
- en: 'Parameters:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle where to place the annotation.'
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 放置注释的矩形区域。'
- en: '**stamp** (*int*) – id number of the stamp text. For available stamps see [Stamp
    Annotation Icons](vars.html#stampicons).'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stamp** (*int*) – 印章文本的标识号。有关可用印章，请参阅[印章注释图标](vars.html#stampicons)。'
- en: Note
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The stamp’s text and its border line will automatically be sized and be put
    horizontally and vertically centered in the given rectangle. [`Annot.rect`](annot.html#Annot.rect
    "Annot.rect") is automatically calculated to fit the given **width** and will
    usually be smaller than this parameter.
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 印章的文本和其边界线将自动调整大小，并水平和垂直居中在给定的矩形中。[`Annot.rect`](annot.html#Annot.rect "Annot.rect")会自动计算以适应给定的**宽度**，通常会比此参数小。
- en: The font chosen is “Times Bold” and the text will be upper case.
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择的字体是“Times Bold”，文本将是大写。
- en: The appearance can be changed using [`Annot.set_opacity()`](annot.html#Annot.set_opacity
    "Annot.set_opacity") and by setting the “stroke” color (no “fill” color supported).
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用[`Annot.set_opacity()`](annot.html#Annot.set_opacity "Annot.set_opacity")更改外观，并通过设置“stroke”颜色（不支持“fill”颜色）。
- en: 'This can be used to create watermark images: on a temporary PDF page create
    a stamp annotation with a low opacity value, make a pixmap from it with *alpha=True*
    (and potentially also rotate it), discard the temporary PDF page and use the pixmap
    with [`insert_image()`](#Page.insert_image "Page.insert_image") for your target
    PDF.'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可用于创建水印图像：在临时PDF页面上创建一个透明度较低的印章注释，然后使用*alpha=True*从中创建一个像素图（可能还要旋转它），丢弃临时PDF页面，并使用[`insert_image()`](#Page.insert_image
    "Page.insert_image")将像素图插入到目标PDF中。
- en: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
- en: '[PRE23]'
  id: totrans-347
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'PDF only: Add a PDF Form field (“widget”) to a page. This also **turns the
    PDF into a Form PDF**. Because of the large amount of different options available
    for widgets, we have developed a new class [Widget](widget.html#widget), which
    contains the possible PDF field attributes. It must be used for both, form field
    creation and updates.'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：向页面添加PDF表单字段（“小部件”）。这也**将PDF转换为表单PDF**。由于小部件有大量不同的选项可用，我们开发了一个新类[Widget](widget.html#widget)，其中包含可能的PDF字段属性。它必须用于表单字段的创建和更新。
- en: 'Parameters:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parameters:'
- en: '**widget** ([Widget](widget.html#widget)) – a [Widget](widget.html#widget)
    object which must have been created upfront.'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget** ([Widget](widget.html#widget)) – 必须事先创建的[Widget](widget.html#widget)对象。'
- en: 'Returns:'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 'Returns:'
- en: a widget annotation.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 一个小部件注释。
- en: '[PRE24]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: The removal will now include any bound ‘Popup’ or response annotations and related
    objects (changed in v1.16.6).
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在移除还包括任何绑定的‘弹出’或响应注释以及相关对象（自v1.16.6起更改）。
- en: 'PDF only: Delete annotation from the page and return the next one.'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：从页面中删除注释并返回下一个注释。
- en: 'Parameters:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parameters:'
- en: '**annot** ([Annot](annot.html#annot)) – the annotation to be deleted.'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '**annot** ([Annot](annot.html#annot)) – 要删除的注释。'
- en: 'Return type:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 'Return type:'
- en: '[Annot](annot.html#annot)'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 'Returns:'
- en: the annotation following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 被删除的注释后面的注释。请记住，物理删除需要保存到带有垃圾> 0的新文件中。
- en: '[PRE25]'
  id: totrans-362
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'PDF only: Delete field from the page and return the next one.'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：从页面中删除字段并返回下一个字段。
- en: 'Parameters:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parameters:'
- en: '**widget** ([Widget](widget.html#widget)) – the widget to be deleted.'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget** ([Widget](widget.html#widget)) – 要删除的小部件。'
- en: 'Return type:'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 'Return type:'
- en: '[Widget](widget.html#widget)'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '[Widget](widget.html#widget)'
- en: 'Returns:'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 'Returns:'
- en: the widget following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 被删除的注释后面的小部件。请记住，物理删除需要保存到带有垃圾> 0的新文件中。
- en: <details><summary>Show/hide history</summary></details> (New in v1.18.4)
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details>（自v1.18.4起新增）
- en: '[PRE26]'
  id: totrans-371
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'PDF only: Delete the specified link from the page. The parameter must be an
    **original item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be deleted.'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：从页面中删除指定的链接。参数必须是[`get_links()`](#Page.get_links "Page.get_links")的原始项，参见[get_links()条目的描述](#link-dict-description)。这是因为字典的“xref”键标识要删除的PDF对象。
- en: 'Parameters:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parameters:'
- en: '**linkdict** (*dict*) – the link to be deleted.'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict** (*dict*) – 要删除的链接。'
- en: '[PRE27]'
  id: totrans-375
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'PDF only: Insert a new link on this page. The parameter must be a dictionary
    of format as provided by [`get_links()`](#Page.get_links "Page.get_links"), see
    [Description of get_links() Entries](#link-dict-description).'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：在此页面上插入新链接。参数必须是由[`get_links()`](#Page.get_links "Page.get_links")提供的格式的字典，参见[get_links()条目描述](#link-dict-description)。
- en: 'Parameters:'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be inserted.'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict** (*dict*) – 待插入的链接。'
- en: '[PRE28]'
  id: totrans-379
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'PDF only: Modify the specified link. The parameter must be a (modified) **original
    item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be changed.'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：修改指定的链接。参数必须是[`get_links()`](#Page.get_links "Page.get_links")的（修改后的）原始条目，参见[get_links()条目描述](#link-dict-description)。这是因为字典的“xref”键，该键标识要更改的PDF对象的原因。
- en: 'Parameters:'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be modified.'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict** (*dict*) – 待修改的链接。'
- en: Warning
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'If updating / inserting a URI link (`"kind": LINK_URI`), please make sure to
    start the value for the `"uri"` key with a disambiguating string like `"http://"`,
    `"https://"`, `"file://"`, `"ftp://"`, `"mailto:"`, etc. Otherwise – depending
    on your browser or other “consumer” software – unexpected default assumptions
    may lead to unwanted behaviours.'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '如果更新/插入URI链接（`"kind": LINK_URI`），请确保以诸如`"http://"`，`"https://"`，`"file://"`,
    `"ftp://"`，`"mailto:"`等消除歧义的字符串开始`"uri"`键的值。否则，根据您的浏览器或其他“消费者”软件的不同假设，可能会导致意外的默认行为。'
- en: '[PRE29]'
  id: totrans-385
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'PDF only: Return the label for the page.'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回页面的标签。
- en: 'Return type:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: str
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: str
- en: 'Returns:'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the label string like “vii” for Roman numbering or “” if not defined.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 类似“vii”的标签字符串，用于罗马编号，如果未定义则为空。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.6
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.18.6中新增
- en: '[PRE30]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Retrieves **all** links of a page.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 检索页面的**所有**链接。
- en: 'Return type:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. For a description of the dictionary entries, see [Description
    of get_links() Entries](#link-dict-description). Always use this or the [`Page.links()`](#Page.links
    "Page.links") method if you intend to make changes to the links of a page.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 一组字典。有关字典条目的描述，请参阅[get_links()条目描述](#link-dict-description)。如果打算更改页面的链接，请始终使用此方法或[`Page.links()`](#Page.links
    "Page.links")方法。
- en: '[PRE31]'
  id: totrans-398
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Return a generator over the page’s links. The results equal the entries of [`Page.get_links()`](#Page.get_links
    "Page.get_links").
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面链接的生成器。结果等同于[`Page.get_links()`](#Page.get_links "Page.get_links")的条目。
- en: 'Parameters:'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**kinds** (*sequence*) – a sequence of integers to down-select to one or more
    link kinds. Default is all links. Example: *kinds=(pymupdf.LINK_GOTO,)* will only
    return internal links.'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: '**kinds** (*sequence*) – 一个整数序列，用于按下选择一个或多个链接种类。默认为所有链接。示例：*kinds=(pymupdf.LINK_GOTO,)*将仅返回内部链接。'
- en: 'Return type:'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an entry of [`Page.get_links()`](#Page.get_links "Page.get_links") for each
    iteration.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的[`Page.get_links()`](#Page.get_links "Page.get_links")的条目。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.16.4中新增
- en: '[PRE32]'
  id: totrans-407
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Return a generator over the page’s annotations.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面注释的生成器。
- en: 'Parameters:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    annotation types. Default is all annotations. Example: `types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)` will only return ‘FreeText’ and ‘Text’ annotations.'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 一个整数序列，用于按下选择一个或多个注释类型。默认为所有注释。示例：`types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)`将仅返回“FreeText”和“Text”注释。'
- en: 'Return type:'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an [Annot](annot.html#annot) for each iteration.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的[注释](annot.html#annot)。
- en: Caution
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'You **cannot safely update annotations** from within this generator. This is
    because most annotation updates require reloading the page via `page = doc.reload_page(page)`.
    To circumvent this restriction, make a list of annotations xref numbers first
    and then iterate over these numbers:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 你**不能安全地更新注释**在这个生成器内部。这是因为大多数注释更新需要通过`page = doc.reload_page(page)`重新加载页面。为了避免此限制，请首先制作注释的交叉引用号列表，然后再对这些号码进行迭代：
- en: '[PRE33]'
  id: totrans-417
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.16.4中新增
- en: '[PRE34]'
  id: totrans-419
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Return a generator over the page’s form fields.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面表单字段的生成器。
- en: 'Parameters:'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    widget types. Default is all form fields. Example: `types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    will only return ‘Text’ fields.'
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 一个整数序列，用于选择一个或多个小部件类型。默认为所有表单字段。例如：`types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    将仅返回文本字段。'
- en: 'Return type:'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: '返回类型:'
- en: generator
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: generator
- en: 'Returns:'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: '返回:'
- en: a [Widget](widget.html#widget) for each iteration.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 为每次迭代生成一个[Widget](widget.html#widget)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从 v1.16.4 版新增
- en: '[PRE35]'
  id: totrans-428
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'PDF only: Write the text of one or more [TextWriter](textwriter.html#textwriter)
    objects to the page.'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：将一个或多个[TextWriter](textwriter.html#textwriter)对象的文本写入页面。
- en: 'Parameters:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: '参数:'
- en: '**rect** (*rect_like*) – where to place the text. If omitted, the rectangle
    union of the text writers is used.'
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 文本放置的位置。如果省略，则使用文本编写器的矩形联合。'
- en: '**writers** (*sequence*) – a non-empty tuple / list of [TextWriter](textwriter.html#textwriter)
    objects or a single [TextWriter](textwriter.html#textwriter).'
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**writers** (*sequence*) – 一个非空元组/列表，包含一个或多个[TextWriter](textwriter.html#textwriter)对象。'
- en: '**opacity** (*float*) – set transparency, overwrites resp. value in the text
    writers.'
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity** (*float*) – 设置透明度，覆盖文本编写器中的值。'
- en: '**color** (*sequ*) – set the text color, overwrites resp. value in the text
    writers.'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**color** (*sequ*) – 设置文本颜色，覆盖文本编写器中的值。'
- en: '**overlay** (*bool*) – put the text in foreground or background.'
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将文本放置在前景或背景。'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio.'
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持纵横比。'
- en: '**rotate** (*float*) – rotate the text by an arbitrary angle.'
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 以任意角度旋转文本。'
- en: '**oc** (*int*) – the [`xref`](glossary.html#xref "xref") of an [`OCG`](glossary.html#OCG
    "OCG") or [`OCMD`](glossary.html#OCMD "OCMD"). (New in v1.18.4)'
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – [`xref`](glossary.html#xref "xref") 的一个[`OCG`](glossary.html#OCG
    "OCG")或[`OCMD`](glossary.html#OCMD "OCMD")。（从 v1.18.4 版开始新增）'
- en: Note
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Parameters *overlay, keep_proportion, rotate* and *oc* have the same meaning
    as in [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page").
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 参数 *overlay, keep_proportion, rotate* 和 *oc* 的含义与[`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")中的含义相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.18
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从 v1.16.18 版新增
- en: '[PRE36]'
  id: totrans-442
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'PDF only: Insert text starting at [`point_like`](glossary.html#point_like "point_like")
    *point*. See [`Shape.insert_text()`](shape.html#Shape.insert_text "Shape.insert_text").'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：从[`point_like`](glossary.html#point_like "point_like") *point* 开始插入文本。参见[`Shape.insert_text()`](shape.html#Shape.insert_text
    "Shape.insert_text")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从 v1.18.4 版更改
- en: '[PRE37]'
  id: totrans-445
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'PDF only: Insert text into the specified [`rect_like`](glossary.html#rect_like
    "rect_like") *rect*. See [`Shape.insert_textbox()`](shape.html#Shape.insert_textbox
    "Shape.insert_textbox").'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：将文本插入到指定的[`rect_like`](glossary.html#rect_like "rect_like") *rect* 中。参见[`Shape.insert_textbox()`](shape.html#Shape.insert_textbox
    "Shape.insert_textbox")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从 v1.18.4 版更改
- en: '[PRE38]'
  id: totrans-448
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '**PDF only:** Insert text into the specified rectangle. The method has similarities
    with methods [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox")
    and [`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox "TextWriter.fill_textbox"),
    but is **much more powerful**. This is achieved by letting a [Story](story-class.html#story)
    object do all the required processing.'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅适用于PDF：** 将文本插入到指定的矩形中。此方法与[`Page.insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")和[`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox
    "TextWriter.fill_textbox")方法相似，但**功能更强大**。通过让[Story](story-class.html#story)对象执行所有必要的处理来实现这一点。'
- en: Parameter [`text`](xml-class.html#Xml.text "Xml.text") may be a string as in
    the other methods. But it will be **interpreted as HTML source** and may therefore
    also contain HTML language elements – including styling. The `css` parameter may
    be used to pass in additional styling instructions.
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参数[`text`](xml-class.html#Xml.text "Xml.text")可以像其他方法中一样是一个字符串。但它将被**解释为HTML源码**，因此也可能包含HTML语言元素，包括样式。`css`参数可用于传递额外的样式指令。
- en: Automatic line breaks are generated at word boundaries. The “soft hyphen” character
    `"&#173;"` (or `&shy;`) can be used to cause hyphenation and thus may also cause
    line breaks. **Forced** line breaks however are only achievable via the HTML tag
    `<br>` - `"\n"` is ignored and will be treated like a space.
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动换行在单词边界生成。软连字符 `"&#173;"`（或 `&shy;`）可用于引起连字和因此可能导致换行。但是，只有通过HTML标签 `<br>`
    才能实现**强制**换行 - `"\n"`会被忽略并被视为空格。
- en: 'With this method the following can be achieved:'
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过此方法可以实现以下内容：
- en: Styling effects like bold, italic, text color, text alignment, font size or
    font switching.
  id: totrans-453
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样式效果如粗体、斜体、文本颜色、文本对齐、字体大小或字体切换。
- en: The text may include arbitrary languages – **including right-to-left** languages.
  id: totrans-454
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文本可以包含任意语言 – **包括从右到左** 的语言。
- en: Scripts like [Devanagari](https://en.wikipedia.org/wiki/Devanagari) and several
    others in Asia have a highly complex system of ligatures, where two or more unicodes
    together yield one glyph. The Story uses the software package [HarfBuzz](https://harfbuzz.github.io/)
    , to deal with these things and produce correct output.
  id: totrans-455
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 印度文字（[Devanagari](https://en.wikipedia.org/wiki/Devanagari)）及亚洲的其他几种文字都有高度复杂的连字系统，其中两个或更多Unicode字符共同生成一个字形。本文使用软件包[HarfBuzz](https://harfbuzz.github.io/)
    处理这些情况，并产生正确的输出。
- en: One can also **include images** via HTML tag `<img>` – the Story will take care
    of the appropriate layout. This is an alternative option to insert images, compared
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image").
  id: totrans-456
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以通过HTML标签 `<img>` **包含图像** – Story会处理适当的布局。这是插入图像的替代选项，与[`Page.insert_image()`](#Page.insert_image
    "Page.insert_image")相比。
- en: HTML tables (tag `<table>`) may be included in the text and will be handled
    appropriately.
  id: totrans-457
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML表格（标签 `<table>`）可以包含在文本中，并将得到适当处理。
- en: Links are automatically generated when present.
  id: totrans-458
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在时，链接会自动生成。
- en: 'If content does not fit in the rectangle, the developer has two choices:'
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果内容不适合矩形框，则开发人员有两个选择：
- en: '**either** only be informed about this (and accept a no-op, just like with
    the other textbox insertion methods),'
  id: totrans-460
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**或者**只是关于此的通知（并接受无操作，就像其他文本框插入方法一样），'
- en: '**or** (`scale_low=0` - the default) scale down the content until it fits.'
  id: totrans-461
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**或**（`scale_low=0` - 默认值）缩小内容直至适合。'
- en: 'Parameters:'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle on page to receive the text.'
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*） – 页面上接收文本的矩形。'
- en: '**text** (*str**,*[*Story*](story-class.html#Story "Story")) – the text to
    be written. Can contain a mixture of plain text and HTML tags with styling instructions.
    Alternatively, a [Story](story-class.html#story) object may be specified (in which
    case the internal Story generation step will be omitted). A Story must have been
    generated with all required styling and Archive information.'
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text**（*str**,*[*Story*](story-class.html#Story "Story")) – 要写入的文本。可以包含混合的纯文本和带有样式指令的HTML标签。或者，可以指定一个[Story](story-class.html#story)对象（在这种情况下，将省略内部Story生成步骤）。Story必须具备所有所需的样式和存档信息。'
- en: '**css** (*str*) – optional string containing additional CSS instructions. This
    parameter is ignored if [`text`](xml-class.html#Xml.text "Xml.text") is a Story.'
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**css**（*str*） – 可选的包含额外CSS指令的字符串。如果[`text`](xml-class.html#Xml.text "Xml.text")是一个Story，则此参数将被忽略。'
- en: '**scale_low** (*float*) – if necessary, scale down the content until it fits
    in the target rectangle. This sets the down scaling limit. Default is 0, no limit.
    A value of 1 means no down-scaling permitted. A value of e.g. 0.2 means maximum
    down-scaling by 80%.'
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**scale_low**（*float*） – 如果需要，将内容缩小以适应目标矩形。这设置了缩小限制。默认为0，无限制。值为1表示不允许缩小。例如，0.2的值意味着最多缩小80%。'
- en: '**archive** ([*Archive*](archive-class.html#Archive "Archive")) – an Archive
    object that points to locations where to find images or non-standard fonts. If
    [`text`](xml-class.html#Xml.text "Xml.text") refers to images or non-standard
    fonts, this parameter is required. This parameter is ignored if [`text`](xml-class.html#Xml.text
    "Xml.text") is a Story.'
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**archive**（[*Archive*](archive-class.html#Archive "Archive")） – 指向可以找到图像或非标准字体的位置的Archive对象。如果[`text`](xml-class.html#Xml.text
    "Xml.text")引用图像或非标准字体，则需要此参数。如果[`text`](xml-class.html#Xml.text "Xml.text")是一个Story，则此参数将被忽略。'
- en: '**rotate** (*int*) –'
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate**（*int*） –'
- en: 'one of the values 0, 90, 180, 270\. Depending on this, text will be filled:'
  id: totrans-469
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 值为0、90、180、270之一。根据此值，文本将被填充：
- en: '0: top-left to bottom-right.'
  id: totrans-470
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '0: 从左上到右下。'
- en: '90: bottom-left to top-right.'
  id: totrans-471
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '90: 从左下到右上。'
- en: '180: bottom-right to top-left.'
  id: totrans-472
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '180: 从右下到左上。'
- en: '270: top-right to bottom-left.'
  id: totrans-473
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '270: 从右上到左下。'
- en: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
  id: totrans-474
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
- en: '**oc** (*int*) – the xref of an [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD") or 0\. Please refer to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")
    for details.'
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc**（*int*）– [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD") 的交叉引用或 0。有关详细信息，请参阅 [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")。'
- en: '**opacity** (*float*) – set the fill and stroke opacity of the content. Only
    values `0 <= opacity < 1` are considered.'
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity**（*float*）– 设置内容的填充和描边不透明度。只考虑 `0 <= opacity < 1` 的值。'
- en: '**overlay** (*bool*) – put the text in front of other content. Please refer
    to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") for details.'
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay**（*bool*）– 将文本放在其他内容前面。有关详细信息，请参阅 [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")。'
- en: 'Returns:'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A tuple of floats `(spare_height, scale)`.
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 一对浮点数 `(spare_height, scale)`。
- en: '`spare_height`: -1 if content did not fit, else >= 0\. It is the height of
    the unused (still available) rectangle stripe. Positive only if scale = 1 (no
    down-scaling happened).'
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spare_height`：如果内容未适合，则为 -1，否则为 >= 0。这是未使用的（仍可用）矩形条的高度。仅在 scale = 1（未进行缩放）时为正。'
- en: '`scale`: down-scaling factor, 0 < scale <= 1.'
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scale`：缩放因子，0 < scale <= 1。'
- en: 'Please refer to examples in this section of the recipes: [How to Fill a Box
    with HTML Text](recipes-text.html#recipestext-i-c).'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅此部分的示例中的菜谱：[如何使用 HTML 文本填充框](recipes-text.html#recipestext-i-c)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.23.8;
    rebased-only.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.23.8 中新增；仅限基准再次。
- en: 'New in v1.23.9: [`opacity`](annot.html#Annot.opacity "Annot.opacity") parameter.'
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增于 v1.23.9：[`opacity`](annot.html#Annot.opacity "Annot.opacity") 参数。
- en: '**Drawing Methods**'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: '**绘图方法**'
- en: '[PRE39]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'PDF only: Draw a line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_line()`](shape.html#Shape.draw_line "Shape.draw_line").'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p2* 绘制一条直线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见 [`Shape.draw_line()`](shape.html#Shape.draw_line "Shape.draw_line")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE40]'
  id: totrans-489
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'PDF only: Draw a zigzag line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag "Shape.draw_zigzag").'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p2* 绘制一条锯齿线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见 [`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag "Shape.draw_zigzag")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE41]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'PDF only: Draw a squiggly (wavy, undulated) line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle
    "Shape.draw_squiggle").'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p2* 绘制一条波浪线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见 [`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle "Shape.draw_squiggle")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE42]'
  id: totrans-495
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'PDF only: Draw a circle around *center* ([`point_like`](glossary.html#point_like
    "point_like")) with a radius of *radius*. See [`Shape.draw_circle()`](shape.html#Shape.draw_circle
    "Shape.draw_circle").'
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在 *中心*（[`point_like`](glossary.html#point_like "point_like")）周围绘制一个半径为
    *radius* 的圆。参见 [`Shape.draw_circle()`](shape.html#Shape.draw_circle "Shape.draw_circle")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE43]'
  id: totrans-498
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'PDF only: Draw an oval (ellipse) within the given [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like"). See [`Shape.draw_oval()`](shape.html#Shape.draw_oval
    "Shape.draw_oval").'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在给定的 [`rect_like`](glossary.html#rect_like "rect_like") 或 [`quad_like`](glossary.html#quad_like
    "quad_like") 内绘制椭圆（椭圆）。参见 [`Shape.draw_oval()`](shape.html#Shape.draw_oval "Shape.draw_oval")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE44]'
  id: totrans-501
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'PDF only: Draw a circular sector, optionally connecting the arc to the circle’s
    center (like a piece of pie). See [`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector").'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制一个圆形扇形，可选择将弧连接到圆心（如馅饼片）。参见 [`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.4 中的更改
- en: '[PRE45]'
  id: totrans-504
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'PDF only: Draw several connected lines defined by a sequence of [`point_like`](glossary.html#point_like
    "point_like") s. See [`Shape.draw_polyline()`](shape.html#Shape.draw_polyline
    "Shape.draw_polyline").'
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：绘制由一系列[`point_like`](glossary.html#point_like "point_like") s 定义的多条连接线。参见[`Shape.draw_polyline()`](shape.html#Shape.draw_polyline
    "Shape.draw_polyline")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 版本中更改
- en: '[PRE46]'
  id: totrans-507
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'PDF only: Draw a cubic Bézier curve from *p1* to *p4* with the control points
    *p2* and *p3* (all are [`point_like`](glossary.html#point_like "point_like") s).
    See [`Shape.draw_bezier()`](shape.html#Shape.draw_bezier "Shape.draw_bezier").'
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：从*p1*到*p4*绘制一个立方贝塞尔曲线，控制点为*p2*和*p3*（均为[`point_like`](glossary.html#point_like
    "point_like") s）。参见[`Shape.draw_bezier()`](shape.html#Shape.draw_bezier "Shape.draw_bezier")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 版本中更改
- en: '[PRE47]'
  id: totrans-510
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'PDF only: This is a special case of *draw_bezier()*. See [`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve").'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：这是*draw_bezier()*的特例。参见[`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 版本中更改
- en: '[PRE48]'
  id: totrans-513
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'PDF only: Draw a rectangle. See [`Shape.draw_rect()`](shape.html#Shape.draw_rect
    "Shape.draw_rect").'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：绘制矩形。参见[`Shape.draw_rect()`](shape.html#Shape.draw_rect "Shape.draw_rect")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 版本中更改
- en: 'Changed in v1.22.0: Added parameter *radius*.'
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.22.0 版本中更改：添加了*radius*参数。
- en: '[PRE49]'
  id: totrans-517
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'PDF only: Draw a quadrilateral. See [`Shape.draw_quad()`](shape.html#Shape.draw_quad
    "Shape.draw_quad").'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：绘制四边形。参见[`Shape.draw_quad()`](shape.html#Shape.draw_quad "Shape.draw_quad")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 版本中更改
- en: '[PRE50]'
  id: totrans-520
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'PDF only: Add a new font to be used by text output methods and return its [`xref`](glossary.html#xref
    "xref"). If not already present in the file, the font definition will be added.
    Supported are the built-in [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    and the CJK fonts via **“reserved”** fontnames. Fonts can also be provided as
    a file path or a memory area containing the image of a font file.'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加新字体以供文本输出方法使用，并返回其[`xref`](glossary.html#xref "xref")。如果文件中尚未存在，将添加字体定义。支持内置[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")和CJK字体。字体也可以提供为文件路径或包含字体文件图像的内存区域。
- en: 'Parameters:'
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**fontname** (*str*) –'
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname**（*str*） –'
- en: The name by which this font shall be referenced when outputting text on this
    page. In general, you have a “free” choice here (but consult the [Adobe PDF References](app3.html#adobemanual),
    page 16, section 7.3.5 for a formal description of building legal PDF names).
    However, if it matches one of the [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    or one of the CJK fonts, *fontfile* and *fontbuffer* **are ignored**.
  id: totrans-524
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出文本时用于引用此字体的名称。一般来说，您在这里有“自由”选择（但请参考[Adobe PDF参考手册](app3.html#adobemanual)，第16页，第7.3.5节，了解构建合法PDF名称的正式描述）。然而，如果它与[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")或CJK字体之一匹配，*fontfile* 和 *fontbuffer* **将被忽略**。
- en: In other words, you cannot insert a font via *fontfile* / *fontbuffer* and also
    give it a reserved *fontname*.
  id: totrans-525
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 换句话说，您不能通过*fontfile* / *fontbuffer* 插入字体并给它一个保留的*fontname*。
- en: Note
  id: totrans-526
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: 'A reserved fontname can be specified in any mixture of upper or lower case
    and still match the right built-in font definition: fontnames “helv”, “Helv”,
    “HELV”, “Helvetica”, etc. all lead to the same font definition “Helvetica”. But
    from a [Page](#page) perspective, these are **different references**. You can
    exploit this fact when using different *encoding* variants (Latin, Greek, Cyrillic)
    of the same font on a page.'
  id: totrans-527
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以在任意大小写混合的情况下指定保留字体名称，并匹配正确的内置字体定义：字体名称“helv”，“Helv”，“HELV”，“Helvetica”等均导致相同的字体定义“Helvetica”。但从[页面](#page)的角度来看，这些是**不同的引用**。在页面上使用不同的*编码*变体（拉丁文、希腊文、西里尔文）时，可以利用这一事实。
- en: '**fontfile** (*str*) – a path to a font file. If used, *fontname* must be **different
    from all reserved names**.'
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontfile**（*str*） – 字体文件的路径。如果使用，*fontname* 必须**与所有保留名称不同**。'
- en: '**fontbuffer** (*bytes/bytearray*) – the memory image of a font file. If used,
    *fontname* must be **different from all reserved names**. This parameter would
    typically be used with [`Font.buffer`](font.html#Font.buffer "Font.buffer") for
    fonts supported / available via [Font](font.html#font).'
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontbuffer** (*bytes/bytearray*) – 字体文件的内存映像。如果使用，*fontname* 必须与所有保留名称**不同**。此参数通常与[`Font.buffer`](font.html#Font.buffer
    "Font.buffer")结合使用，用于支持/可用于[Font](font.html#font)的字体。'
- en: '**set_simple** (*int*) – applicable for *fontfile* / *fontbuffer* cases only:
    enforce treatment as a “simple” font, i.e. one that only uses character codes
    up to 255.'
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**set_simple** (*int*) – 仅适用于*fontfile* / *fontbuffer*的情况：强制将其视为“简单”字体，即仅使用字符代码至255。'
- en: '**encoding** (*int*) – applicable for the “Helvetica”, “Courier” and “Times”
    sets of [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts") only. Select one
    of the available encodings Latin (0), Cyrillic (2) or Greek (1). Only use the
    default (0 = Latin) for “Symbol” and “ZapfDingBats”.'
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**encoding** (*int*) – 仅适用于“Helvetica”、“Courier”和“Times”系列的[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")。选择可用编码之一：Latin（0）、Cyrillic（2）或Greek（1）。对于“Symbol”和“ZapfDingBats”，只使用默认值（0
    = Latin）。'
- en: 'Rytpe:'
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: Rytpe：
- en: int
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: 'Returns:'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the [`xref`](glossary.html#xref "xref") of the installed font.
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 安装字体的[`xref`](glossary.html#xref "xref")。
- en: Note
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: 注
- en: 'Built-in fonts will not lead to the inclusion of a font file. So the resulting
    PDF file will remain small. However, your PDF viewer software is responsible for
    generating an appropriate appearance – and there **exist** differences on whether
    or how each one of them does this. This is especially true for the CJK fonts.
    But also Symbol and ZapfDingbats are incorrectly handled in some cases. Following
    are the **Font Names** and their correspondingly installed **Base Font** names:'
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 内置字体不会导致字体文件的包含。因此生成的PDF文件将保持较小。但是，您的PDF查看器软件负责生成适当的外观 - 并且关于每个软件如何处理这些外观可能存在差异。对于CJK字体尤其如此。但是在某些情况下，Symbol和ZapfDingbats处理不正确。以下是**字体名称**及其对应的安装**基本字体**名称：
- en: '**Base-14 Fonts** [[1]](#f1)'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: '**Base-14字体** [[1]](#f1)'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-539
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装基本字体** | **备注** |'
- en: '| --- | --- | --- |'
  id: totrans-540
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| helv | Helvetica | normal |'
  id: totrans-541
  prefs: []
  type: TYPE_TB
  zh: '| helv | Helvetica | 普通 |'
- en: '| heit | Helvetica-Oblique | italic |'
  id: totrans-542
  prefs: []
  type: TYPE_TB
  zh: '| heit | Helvetica-Oblique | 斜体 |'
- en: '| hebo | Helvetica-Bold | bold |'
  id: totrans-543
  prefs: []
  type: TYPE_TB
  zh: '| hebo | Helvetica-Bold | 粗体 |'
- en: '| hebi | Helvetica-BoldOblique | bold-italic |'
  id: totrans-544
  prefs: []
  type: TYPE_TB
  zh: '| hebi | Helvetica-BoldOblique | 粗斜体 |'
- en: '| cour | Courier | normal |'
  id: totrans-545
  prefs: []
  type: TYPE_TB
  zh: '| cour | Courier | 普通 |'
- en: '| coit | Courier-Oblique | italic |'
  id: totrans-546
  prefs: []
  type: TYPE_TB
  zh: '| coit | Courier-Oblique | 斜体 |'
- en: '| cobo | Courier-Bold | bold |'
  id: totrans-547
  prefs: []
  type: TYPE_TB
  zh: '| cobo | Courier-Bold | 粗体 |'
- en: '| cobi | Courier-BoldOblique | bold-italic |'
  id: totrans-548
  prefs: []
  type: TYPE_TB
  zh: '| cobi | Courier-BoldOblique | 粗斜体 |'
- en: '| tiro | Times-Roman | normal |'
  id: totrans-549
  prefs: []
  type: TYPE_TB
  zh: '| tiro | Times-Roman | 普通 |'
- en: '| tiit | Times-Italic | italic |'
  id: totrans-550
  prefs: []
  type: TYPE_TB
  zh: '| tiit | Times-Italic | 斜体 |'
- en: '| tibo | Times-Bold | bold |'
  id: totrans-551
  prefs: []
  type: TYPE_TB
  zh: '| tibo | Times-Bold | 粗体 |'
- en: '| tibi | Times-BoldItalic | bold-italic |'
  id: totrans-552
  prefs: []
  type: TYPE_TB
  zh: '| tibi | Times-BoldItalic | 粗斜体 |'
- en: '| symb | Symbol | [[3]](#f3) |'
  id: totrans-553
  prefs: []
  type: TYPE_TB
  zh: '| symb | Symbol | [[3]](#f3) |'
- en: '| zadb | ZapfDingbats | [[3]](#f3) |'
  id: totrans-554
  prefs: []
  type: TYPE_TB
  zh: '| zadb | ZapfDingbats | [[3]](#f3) |'
- en: '**CJK Fonts** [[2]](#f2) (China, Japan, Korea)'
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: '**CJK字体** [[2]](#f2)（中国、日本、韩国）'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-556
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装基本字体** | **备注** |'
- en: '| --- | --- | --- |'
  id: totrans-557
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| china-s | Heiti | simplified Chinese |'
  id: totrans-558
  prefs: []
  type: TYPE_TB
  zh: '| china-s | Heiti | 简体中文 |'
- en: '| china-ss | Song | simplified Chinese (serif) |'
  id: totrans-559
  prefs: []
  type: TYPE_TB
  zh: '| china-ss | Song | 简体中文（Serif） |'
- en: '| china-t | Fangti | traditional Chinese |'
  id: totrans-560
  prefs: []
  type: TYPE_TB
  zh: '| china-t | Fangti | 繁体中文 |'
- en: '| china-ts | Ming | traditional Chinese (serif) |'
  id: totrans-561
  prefs: []
  type: TYPE_TB
  zh: '| china-ts | Ming | 繁体中文（Serif） |'
- en: '| japan | Gothic | Japanese |'
  id: totrans-562
  prefs: []
  type: TYPE_TB
  zh: '| japan | Gothic | 日本 |'
- en: '| japan-s | Mincho | Japanese (serif) |'
  id: totrans-563
  prefs: []
  type: TYPE_TB
  zh: '| japan-s | Mincho | 日本（Serif） |'
- en: '| korea | Dotum | Korean |'
  id: totrans-564
  prefs: []
  type: TYPE_TB
  zh: '| korea | Dotum | 韩文 |'
- en: '| korea-s | Batang | Korean (serif) |'
  id: totrans-565
  prefs: []
  type: TYPE_TB
  zh: '| korea-s | Batang | 韩文（Serif） |'
- en: '[PRE51]'
  id: totrans-566
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'PDF only: Put an image inside the given rectangle. The image may already exist
    in the PDF or be taken from a pixmap, a file, or a memory area.'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：将图像放置在给定的矩形内。该图像可能已存在于PDF中，也可能来自于位图、文件或内存区域。
- en: 'Parameters:'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to put the image. Must be finite and not empty.'
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 图像放置位置。必须是有限且非空的。'
- en: '**alpha** (*int*) – deprecated and ignored.'
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*int*) – 已废弃且被忽略。'
- en: '**filename** (*str*) – name of an image file (all formats supported by MuPDF
    – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** (*str*) – 图像文件的名称（MuPDF支持的所有格式 - 请参见[支持的输入图像格式](pixmap.html#imagefiles)）。'
- en: '**height** (*int*) –'
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*int*) –'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio of the image.'
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持图像的长宽比。'
- en: '**mask** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory – to be used
    as image mask (alpha values) for the base image. When specified, the base image
    must be provided as a filename or a stream – and must not be an image that already
    has a mask.'
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mask**（*bytes*、*bytearray*、*io.BytesIO*）— 内存中的图像——用作基础图像的图像蒙版（alpha 值）。当指定时，必须以文件名或流的形式提供基础图像——并且基础图像不能是已经具有蒙版的图像。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make image visibility
    dependent on this [`OCG`](glossary.html#OCG "OCG") or [`OCMD`](glossary.html#OCMD
    "OCMD"). Ignored after the first of multiple insertions. The property is stored
    with the generated PDF image object and therefore controls the image’s visibility
    throughout the PDF.'
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc**（*int*）—（[`xref`](glossary.html#xref "xref")）使图像的可见性取决于此[`OCG`](glossary.html#OCG
    "OCG")或[`OCMD`](glossary.html#OCMD "OCMD")。在多次插入的第一次之后被忽略。该属性存储在生成的 PDF 图像对象中，因此控制整个
    PDF 中图像的可见性。'
- en: '**overlay** – see [Common Parameters](shape.html#commonparms).'
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay**— 请参阅[公共参数](shape.html#commonparms)。'
- en: '**pixmap** ([Pixmap](pixmap.html#pixmap)) – a pixmap containing the image.'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap**（[Pixmap](pixmap.html#pixmap)）— 包含图像的 pixmap。'
- en: '**rotate** (*int*) – rotate the image. Must be an integer multiple of 90 degrees.
    Positive values rotate anti-clockwise. If you need a rotation by an arbitrary
    angle, consider converting the image to a PDF ([`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")) first and then use [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page") instead.'
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate**（*int*）— 旋转图像。必须是 90 度的整数倍。正值逆时针旋转。如果需要按任意角度旋转，请先将图像转换为 PDF（[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")），然后使用 [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")。'
- en: '**stream** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory (all formats
    supported by MuPDF – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream**（*bytes*、*bytearray*、*io.BytesIO*）— 内存中的图像（所有 MuPDF 支持的格式——请参阅[支持的输入图像格式](pixmap.html#imagefiles)）。'
- en: '**width** (*int*) –'
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width**（*int*）—'
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of an image already
    present in the PDF. If given, parameters `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream"), [`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha") and `mask` are ignored.
    The page will simply receive a reference to the existing image.'
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref**（*int*）— PDF 中已存在的图像的[`xref`](glossary.html#xref "xref")。如果提供，则参数`filename`、[Pixmap](pixmap.html)、[`stream`](glossary.html#stream
    "stream")、[`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha") 和 `mask`将被忽略。页面将简单地接收对现有图像的引用。'
- en: 'Returns:'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The [`xref`](glossary.html#xref "xref") of the embedded image. This can be used
    as the [`xref`](glossary.html#xref "xref") argument for very significant performance
    boosts, if the image is inserted again.
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: 嵌入图像的[`xref`](glossary.html#xref "xref")。如果再次插入图像，则可以将其用作[`xref`](glossary.html#xref
    "xref")参数，以获得非常显著的性能提升。
- en: 'This example puts the same image on every page of a document:'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例在文档的每一页上放置相同的图像：
- en: '[PRE52]'
  id: totrans-585
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Note
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The method detects multiple insertions of the same image (like in the above
    example) and will store its data only on the first execution. This is even true
    (although less performant), if using the default `xref=0`.
  id: totrans-587
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法检测到同一图像的多次插入（如上例所示），并且仅在第一次执行时存储其数据。即使使用默认的`xref=0`，这也是正确的（尽管性能较差）。
- en: The method cannot detect if the same image had already been part of the file
    before opening it.
  id: totrans-588
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法无法检测到在打开文件之前是否已将相同的图像作为文件的一部分。
- en: You can use this method to provide a background or foreground image for the
    page, like a copyright or a watermark. Please remember, that watermarks require
    a transparent image if put in foreground …
  id: totrans-589
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用此方法为页面提供背景或前景图像，例如版权或水印。请记住，如果将水印放在前景中，则需要透明图像……
- en: The image may be inserted uncompressed, e.g. if a [Pixmap](pixmap.html#pixmap)
    is used or if the image has an alpha channel. Therefore, consider using `deflate=True`
    when saving the file. In addition, there are ways to control the image size –
    even if transparency comes into play. Have a look at [How to Add Images to a PDF
    Page](recipes-images.html#recipesimages-o).
  id: totrans-590
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像可能以未压缩的形式插入，例如，如果使用了[Pixmap](pixmap.html#pixmap)，或者图像具有 alpha 通道。因此，在保存文件时考虑使用`deflate=True`。此外，有多种方法可以控制图像的大小——即使透明度起作用。查看[如何将图像添加到
    PDF 页面](recipes-images.html#recipesimages-o)。
- en: The image is stored in the PDF at its original quality level. This may be much
    better than what you need for your display. Consider **decreasing the image size**
    before insertion – e.g. by using the pixmap option and then shrinking it or scaling
    it down (see [Pixmap](pixmap.html#pixmap) chapter). The PIL method `Image.thumbnail()`
    can also be used for that purpose. The file size savings can be very significant.
  id: totrans-591
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像以其原始质量级别存储在PDF中。这可能比您的显示所需的要好得多。在插入之前考虑**减小图像大小** – 例如，通过使用pixmap选项然后缩小或缩放它（参见[Pixmap](pixmap.html#pixmap)章节）。也可以使用PIL方法`Image.thumbnail()`来实现此目的。文件大小的节省可能非常显著。
- en: 'Another efficient way to display the same image on multiple pages is another
    method: [`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page"). Consult
    [`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf "Document.convert_to_pdf")
    for how to obtain intermediary PDFs usable for that method.'
  id: totrans-592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另一种有效的方法在多个页面上显示相同的图像是另一种方法：[`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")。请参阅[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")获取可用于该方法的中间PDF。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.14.1:
    By default, the image keeps its aspect ratio.'
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从 v1.14.1 版本开始更改：默认情况下，图像保持其宽高比。
- en: 'Changed in v1.14.11: Added args `keep_proportion`, `rotate`.'
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.14.11 版本开始更改：增加`keep_proportion`，`rotate`参数。
- en: 'Changed in v1.14.13:'
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.14.13 版本开始更改：
- en: The image is now always placed **centered** in the rectangle, i.e. the centers
    of image and rectangle are equal.
  id: totrans-596
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图像现在总是位于矩形的**中心**，即图像和矩形的中心点相等。
- en: Added support for [`stream`](glossary.html#stream "stream") as `io.BytesIO`.
  id: totrans-597
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加对[`stream`](glossary.html#stream "stream")作为`io.BytesIO`的支持。
- en: 'Changed in v1.17.6: Insertion rectangle no longer needs to have a non-empty
    intersection with the page’s [`Page.cropbox`](#Page.cropbox "Page.cropbox") [[5]](#f5).'
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.17.6 版本开始更改：插入矩形不再需要与页面的[`Page.cropbox`](#Page.cropbox "Page.cropbox")有非空交集
    [[5]](#f5)。
- en: 'Changed in v1.18.1: Added `mask` arg.'
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.18.1 版本开始更改：增加`mask`参数。
- en: 'Changed in v1.18.3: Added `oc` arg.'
  id: totrans-600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.18.3 版本开始更改：增加`oc`参数。
- en: 'Changed in v1.18.13:'
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.18.13 版本开始更改：
- en: Allow providing the image as the xref of an existing one.
  id: totrans-602
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将图像作为现有图像的xref提供。
- en: Added [`xref`](glossary.html#xref "xref") arg.
  id: totrans-603
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加[`xref`](glossary.html#xref "xref")参数。
- en: Return [`xref`](glossary.html#xref "xref") of stored image.
  id: totrans-604
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回存储图像的[`xref`](glossary.html#xref "xref")。
- en: 'Changed in v1.19.3: deprecate and ignore [`alpha`](pixmap.html#Pixmap.alpha
    "Pixmap.alpha") arg.'
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.19.3 版本开始更改：弃用并忽略[`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha")参数。
- en: '[PRE53]'
  id: totrans-606
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Replace the image at xref with another one.
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: 用另一张图像替换xref处的图像。
- en: 'Parameters:'
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref** (*整数*) – 图像的[`xref`](glossary.html#xref "xref")。'
- en: '**filename** – the filename of the new image.'
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** – 新图像的文件名。'
- en: '**pixmap** – the [Pixmap](pixmap.html#pixmap) of the new image.'
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap** – 新图像的[Pixmap](pixmap.html#pixmap)。'
- en: '**stream** – the memory area containing the new image.'
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream** – 包含新图像的内存区域。'
- en: Arguments `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream") have the same meaning as in [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image"), especially exactly one of these must be provided.
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: 参数 `filename`，[Pixmap](pixmap.html)，[`stream`](glossary.html#stream "stream")
    的含义与[`Page.insert_image()`](#Page.insert_image "Page.insert_image") 中相同，特别是这些参数中必须恰好提供一个。
- en: This is a **global replacement:** the new image will also be shown wherever
    the old one has been displayed throughout the file.
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个**全局替换：** 新图像也将显示在文件中原来显示过的所有位置。
- en: This method mainly exists for technical purposes. Typical uses include replacing
    large images by smaller versions, like a lower resolution, graylevel instead of
    colored, etc., or changing transparency.
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法主要用于技术目的。典型用途包括用较小的版本替换大图像，例如低分辨率、灰阶代替彩色等，或更改透明度。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.21.0 版本中新增
- en: '[PRE54]'
  id: totrans-617
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Delete the image at xref. This is slightly misleading: actually the image is
    being replaced with a small transparent [Pixmap](pixmap.html#pixmap) using above
    [`Page.replace_image()`](#Page.replace_image "Page.replace_image"). The visible
    effect however is equivalent.'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 删除 xref 处的图像。这有点误导：实际上，图像被用一个小的透明[Pixmap](pixmap.html#pixmap)替换，使用上述[`Page.replace_image()`](#Page.replace_image
    "Page.replace_image")。但可见效果是等效的。
- en: 'Parameters:'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref** (*整数*) – 图像的[`xref`](glossary.html#xref "xref")。'
- en: This is a **global replacement:** the image will disappear wherever the old
    one has been displayed throughout the file.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: This is a **global replacement:** the image will disappear wherever the old
    one has been displayed throughout the file.
- en: If you inspect / extract a page’s images by methods like [`Page.get_images()`](#Page.get_images
    "Page.get_images"), [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    or [`Page.get_text()`](#Page.get_text "Page.get_text"), the replacing “dummy”
    image will be detected like so `(45, 47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`
    and also seem to “cover” the same boundary box on the page.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: If you inspect / extract a page’s images by methods like [`Page.get_images()`](#Page.get_images
    "Page.get_images"), [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    or [`Page.get_text()`](#Page.get_text "Page.get_text"), the replacing “dummy”
    image will be detected like so `(45, 47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`
    and also seem to “cover” the same boundary box on the page.
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
- en: '[PRE55]'
  id: totrans-624
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Retrieves the content of a page in a variety of formats. This is a wrapper
    for multiple [TextPage](textpage.html#textpage) methods by choosing the output
    option `opt` as follows:'
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 'Retrieves the content of a page in a variety of formats. This is a wrapper
    for multiple [TextPage](textpage.html#textpage) methods by choosing the output
    option `opt` as follows:'
- en: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT"),
    default
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT"),
    default
- en: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
- en: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
- en: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
- en: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
- en: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
- en: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
- en: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
- en: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
- en: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
- en: 'Parameters:'
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parameters:'
- en: '**opt** (*str*) –'
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opt** (*str*) –'
- en: A string indicating the requested format, one of the above. A mixture of upper
    and lower case is supported.
  id: totrans-638
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: A string indicating the requested format, one of the above. A mixture of upper
    and lower case is supported.
- en: Values “words” and “blocks” are also accepted (changed in v1.16.3).
  id: totrans-639
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Values “words” and “blocks” are also accepted (changed in v1.16.3).
- en: '**clip** (*rect-like*) – restrict extracted text to this rectangle. If None,
    the full page is taken. Has **no effect** for options “html”, “xhtml” and “xml”.
    (New in v1.17.7)'
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect-like*) – restrict extracted text to this rectangle. If None,
    the full page is taken. Has **no effect** for options “html”, “xhtml” and “xml”.
    (New in v1.17.7)'
- en: '**flags** (*int*) – indicator bits to control whether to include images or
    how text should be handled with respect to white spaces and `ligatures`. See [Text
    Extraction Flags](vars.html#textpreserve) for available indicators and [Text Extraction
    Flags Defaults](app1.html#text-extraction-flags) for default settings. (New in
    v1.16.2)'
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – indicator bits to control whether to include images or
    how text should be handled with respect to white spaces and `ligatures`. See [Text
    Extraction Flags](vars.html#textpreserve) for available indicators and [Text Extraction
    Flags Defaults](app1.html#text-extraction-flags) for default settings. (New in
    v1.16.2)'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **very significantly:** by more than 50% and up to
    95%, depending on the extraction option. If specified, the ‘flags’ and ‘clip’
    arguments are ignored, because they are textpage-only properties. If omitted,
    a new, temporary textpage will be created. (New in v1.19.0)'
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **very significantly:** by more than 50% and up to
    95%, depending on the extraction option. If specified, the ‘flags’ and ‘clip’
    arguments are ignored, because they are textpage-only properties. If omitted,
    a new, temporary textpage will be created. (New in v1.19.0)'
- en: '**sort** (*bool*) – sort the output by vertical, then horizontal coordinates.
    In many cases, this should suffice to generate a “natural” reading order. Has
    no effect on (X)HTML and XML. Output option **“words”** sorts by `(y1, x0)` of
    the words’ bboxes. Similar is true for “blocks”, “dict”, “json”, “rawdict”, “rawjson”:
    they all are sorted by `(y1, x0)` of the resp. block bbox. If specified for “text”,
    then internally “blocks” is used. (New in v1.19.1)'
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**sort**（*bool*）– 按垂直、然后水平坐标对输出进行排序。在许多情况下，这应该足以生成“自然”的阅读顺序。对于(X)HTML和XML没有影响。“words”输出选项按单词的bbox的`(y1,
    x0)`排序。类似的情况适用于“blocks”、“dict”、“json”、“rawdict”、“rawjson”：它们都按相应块bbox的`(y1, x0)`排序。如果指定为“text”，则内部使用“blocks”。（从v1.19.1版本开始）'
- en: '**delimiters** (*str*) – use these characters as *additional* word separators
    with the “words” output option (ignored otherwise). By default, all white spaces
    (including non-breaking space `0xA0`) indicate start and end of a word. Now you
    can specify more characters causing this. For instance, the default will return
    `"john.doe@outlook.com"` as **one** word. If you specify `delimiters="@."` then
    the **four** words `"john"`, `"doe"`, `"outlook"`, `"com"` will be returned. Other
    possible uses include ignoring punctuation characters `delimiters=string.punctuation`.
    The “word” strings will not contain any delimiting character. (New in v1.23.5)'
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**delimiters**（*str*）– 使用这些字符作为*额外*的单词分隔符，配合“words”输出选项使用（否则被忽略）。默认情况下，所有空格（包括不间断空格`0xA0`）表示单词的起始和结束。现在你可以指定更多的字符来引起这种情况。例如，默认设置将把`"john.doe@outlook.com"`视为**一个**单词。如果你指定`delimiters="@."`，那么**四个**单词`"john"`、`"doe"`、`"outlook"`、`"com"`将被返回。其他可能的用途包括忽略标点符号字符`delimiters=string.punctuation`。（从v1.23.5版本开始）'
- en: 'Return type:'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '*str, list, dict*'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: '*str、list、dict*'
- en: 'Returns:'
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The page’s content as a string, a list or a dictionary. Refer to the corresponding
    [TextPage](textpage.html#textpage) method for details.
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: 页面内容作为字符串、列表或字典。有关详细信息，请参阅相应的[TextPage](textpage.html#textpage)方法。
- en: Note
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use this method as a **document conversion tool** from [any supported
    document type](how-to-open-a-file.html#supported-file-types) to one of TEXT, HTML,
    XHTML or XML documents.
  id: totrans-650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以将此方法用作从[任何支持的文档类型](how-to-open-a-file.html#supported-file-types)到TEXT、HTML、XHTML或XML文档的**文档转换工具**。
- en: 'The inclusion of text via the *clip* parameter is decided on a by-character
    level: a character becomes part of the output, if its bbox is contained in *clip*
    (changed in v1.18.2). This **deviates** from the algorithm used in redaction annotations:
    a character will be **removed if its bbox intersects** any redaction annotation.'
  id: totrans-651
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过*clip*参数包含文本的决定是基于字符级别的：如果字符的边界框（bbox）包含在*clip*中，则该字符成为输出的一部分（在v1.18.2版本中更改）。这与用于编辑注释的算法**有所偏差**：如果字符的边界框与任何编辑注释相交，则该字符将被**移除**。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.0:
    added [TextPage](textpage.html) parameter'
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从v1.19.0版本开始：增加了[TextPage](textpage.html)参数
- en: 'Changed in v1.19.1: added `sort` parameter'
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从v1.19.1版本开始：添加了`sort`参数
- en: 'Changed in v1.19.6: added new constants for defining default flags per method.'
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从v1.19.6版本开始：为每个方法定义默认标志的新常量。
- en: 'Changed in v1.23.5: added `delimiters` parameter'
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从v1.23.5版本开始：增加了`delimiters`参数
- en: '[PRE56]'
  id: totrans-656
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Retrieve the text contained in a rectangle.
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
  zh: 检索包含在矩形中的文本。
- en: 'Parameters:'
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect-like*) – rect-like.'
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect-like*）– 类似矩形。'
- en: '**textpage** – a [TextPage](textpage.html#textpage) to use. If omitted, a new,
    temporary textpage will be created.'
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 要使用的[TextPage](textpage.html#textpage)。如果省略，将创建一个新的临时文本页。'
- en: 'Returns:'
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a string with interspersed linebreaks where necessary. It is based on dedicated
    code (changed in v1.19.0). A typical use is checking the result of [`Page.search_for()`](#Page.search_for
    "Page.search_for"):'
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
  zh: 一个包含必要时插入换行符的字符串。它基于专用代码（从v1.19.0版本开始更改）。一个典型的用法是检查[`Page.search_for()`](#Page.search_for
    "Page.search_for")的结果：
- en: '[PRE57]'
  id: totrans-663
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.7
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   从v1.17.7版本开始
- en: 'Changed in v1.19.0: add [TextPage](textpage.html) parameter'
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从v1.19.0版本开始：添加了[TextPage](textpage.html)参数
- en: '[PRE58]'
  id: totrans-666
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Create a [TextPage](textpage.html#textpage) for the page.
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个用于该页面的[TextPage](textpage.html#textpage)。
- en: 'Parameters:'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    text extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*）– 控制接下来的文本提取和搜索可用内容的指示位 – 参见[`Page.get_text()`](#Page.get_text
    "Page.get_text")的参数。'
- en: '**clip** (*rect-like*) – restrict extracted text to this area. (New in v1.17.7)'
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect-like*）– 限制提取的文本到这个区域。（从v1.17.7版本开始）'
- en: 'Returns:'
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '[TextPage](textpage.html#textpage)'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: '[TextPage](textpage.html#textpage)'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.5
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.5
- en: 'Changed in v1.17.7: introduced `clip` parameter.'
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改动 v1.17.7：引入了 `clip` 参数。
- en: '[PRE59]'
  id: totrans-675
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '**Optical Character Recognition** (**OCR**) technology can be used to extract
    text data for documents where text is in a raster image format throughout the
    page. Use this method to **OCR** a page for text extraction.'
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: '**光学字符识别** (**OCR**) 技术可用于从页面始终以光栅图像格式包含文本数据的文档中提取文本数据。使用此方法进行页面的 **OCR** 以进行文本提取。'
- en: This method returns a [TextPage](textpage.html#textpage) for the page that includes
    OCRed text. MuPDF will invoke Tesseract-OCR if this method is used. Otherwise
    this is a normal [TextPage](textpage.html#textpage) object.
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用此方法，MuPDF 将为包含 OCRed 文本的页面调用 Tesseract-OCR。否则，这是一个普通的 [TextPage](textpage.html#textpage)
    对象。
- en: 'Parameters:'
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    test extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – 控制可用于后续文本提取和搜索的内容的指示位 – 请参阅 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的参数。'
- en: '**language** (*str*) – the expected language(s). Use “+”-separated values if
    multiple languages are expected, “eng+spa” for English and Spanish.'
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**language** (*str*) – 期望的语言。如果期望多种语言，则使用 “+” 分隔的值，例如 “eng+spa” 表示英语和西班牙语。'
- en: '**dpi** (*int*) – the desired resolution in dots per inch. Influences recognition
    quality (and execution time).'
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi** (*int*) – 所需分辨率，以每英寸点数为单位。影响识别质量（和执行时间）。'
- en: '**full** (*bool*) – whether to OCR the full page, or just the displayed images.'
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**full** (*bool*) – 是否对整个页面进行 OCR 处理，还是仅对显示的图像进行处理。'
- en: '**tessdata** (*str*) – The name of Tesseract’s language support folder `tessdata`.
    If omitted, this information must be present as environment variable [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX"). Can be determined by function [`get_tessdata()`](functions.html#get_tessdata
    "get_tessdata").'
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**tessdata** (*str*) – Tesseract 的语言支持文件夹 `tessdata` 的名称。如果省略，必须通过环境变量 [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX") 提供此信息。可以通过函数 [`get_tessdata()`](functions.html#get_tessdata
    "get_tessdata") 确定。'
- en: Note
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method does **not** support a clip parameter – OCR will always happen for
    the complete page rectangle.
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法不支持 clip 参数 – OCR 将始终对完整页面矩形进行处理。
- en: 'Returns:'
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a [TextPage](textpage.html#textpage). Execution may be significantly longer
    than [`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage").
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: 一个 [TextPage](textpage.html#textpage)。执行时间可能比 [`Page.get_textpage()`](#Page.get_textpage
    "Page.get_textpage") 长得多。
- en: For a full page OCR, **all text** will have the font “GlyphlessFont” from Tesseract.
    In case of partial OCR, normal text will keep its properties, and only text coming
    from images will have the GlyphlessFont.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 对于完整页面的 OCR，所有文本将使用来自 Tesseract 的 “GlyphlessFont”。对于部分 OCR，普通文本将保留其属性，只有来自图像的文本才会使用
    GlyphlessFont。
- en: Note
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '**OCRed text is only available** to PyMuPDF’s text extractions and searches
    if their [TextPage](textpage.html) parameter specifies the output of this method.'
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: 仅当 [`Page.get_text()`](#Page.get_text "Page.get_text") 的参数指定此方法的输出时，OCRed 文本才可供
    PyMuPDF 的文本提取和搜索使用。
- en: '[This](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)
    Jupyter notebook walks through an example for using OCR textpages.'
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: '[这个](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)
    Jupyter 笔记本演示了如何使用 OCR 提取文本页的示例。'
- en: <details><summary>Show/hide history</summary></details> *   New in v.1.19.0
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v.1.19.0
- en: 'Changed in v1.19.1: support full and partial OCRing a page.'
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改动 v1.19.1：支持对页面进行完整和部分 OCR 处理。
- en: '[PRE60]'
  id: totrans-694
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: Return the vector graphics of the page. These are instructions which draw lines,
    rectangles, quadruples or curves, including properties like colors, transparency,
    line width and dashing, etc. Alternative terms are “line art” and “drawings”.
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面的矢量图形。这些是绘制线条、矩形、四边形或曲线的指令，包括颜色、透明度、线宽和虚线等属性。替代术语包括“线稿”和“图纸”。
- en: 'Returns:'
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a list of dictionaries. Each dictionary item contains one or more single draw
    commands belonging together: they have the same properties (colors, dashing, etc.).
    This is called a **“path”** in PDF, so we adopted that name here, but the method
    **works for all document types**.'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。每个字典条目包含一个或多个彼此相关的单个绘制命令：它们具有相同的属性（颜色、虚线等）。在 PDF 中称为“路径”，因此我们在这里采用了这个名称，但该方法适用于所有文档类型。
- en: 'The path dictionary for fill, stroke and fill-stroke paths has been designed
    to be compatible with class [Shape](shape.html#shape). There are the following
    keys:'
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: 用于填充、描边和填充-描边路径的路径字典已设计为与类 [形状](shape.html#shape) 兼容。以下是关键字：
- en: '| Key | Value |'
  id: totrans-699
  prefs: []
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-700
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-701
  prefs: []
  type: TYPE_TB
  zh: '| closePath | 与 [形状](shape.html#shape) 参数相同。 |'
- en: '| color | Stroke color (see [Shape](shape.html#shape)). |'
  id: totrans-702
  prefs: []
  type: TYPE_TB
  zh: '| color | 描边颜色（参见 [形状](shape.html#shape)）。 |'
- en: '| dashes | Dashed line specification (see [Shape](shape.html#shape)). |'
  id: totrans-703
  prefs: []
  type: TYPE_TB
  zh: '| dashes | 虚线规格（参见 [形状](shape.html#shape)）。 |'
- en: '| even_odd | Fill colors of area overlaps – same as the parameter in [Shape](shape.html#shape).
    |'
  id: totrans-704
  prefs: []
  type: TYPE_TB
  zh: '| even_odd | 区域重叠的填充颜色 - 与 [形状](shape.html#shape) 参数相同。 |'
- en: '| fill | Fill color (see [Shape](shape.html#shape)). |'
  id: totrans-705
  prefs: []
  type: TYPE_TB
  zh: '| 填充 | 填充颜色（参见 [形状](shape.html#shape)）。 |'
- en: '| items | List of draw commands: lines, rectangles, quads or curves. |'
  id: totrans-706
  prefs: []
  type: TYPE_TB
  zh: '| items | 绘制命令列表：线条、矩形、四边形或曲线。 |'
- en: '| lineCap | Number 3-tuple, use its max value on output with [Shape](shape.html#shape).
    |'
  id: totrans-707
  prefs: []
  type: TYPE_TB
  zh: '| lineCap | 数字3元组，在输出中使用其最大值与 [形状](shape.html#shape) 一起。 |'
- en: '| lineJoin | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-708
  prefs: []
  type: TYPE_TB
  zh: '| lineJoin | 与 [形状](shape.html#shape) 参数相同。 |'
- en: '| fill_opacity | fill color transparency (see [Shape](shape.html#shape)). (New
    in v1.18.17) |'
  id: totrans-709
  prefs: []
  type: TYPE_TB
  zh: '| fill_opacity | 填充颜色的透明度（参见 [形状](shape.html#shape)）。 (v1.18.17 中新增) |'
- en: '| stroke_opacity | stroke color transparency (see [Shape](shape.html#shape)).
    (New in v1.18.17) |'
  id: totrans-710
  prefs: []
  type: TYPE_TB
  zh: '| stroke_opacity | 描边颜色的透明度（参见 [形状](shape.html#shape)）。 (v1.18.17 中新增) |'
- en: '| rect | Page area covered by this path. Information only. |'
  id: totrans-711
  prefs: []
  type: TYPE_TB
  zh: '| rect | 由此路径覆盖的页面区域。 仅供信息使用。 |'
- en: '| layer | name of applicable Optional Content Group. (New in v1.22.0) |'
  id: totrans-712
  prefs: []
  type: TYPE_TB
  zh: '| layer | 适用的可选内容组的名称。 (v1.22.0 中新增) |'
- en: '| level | the hierarchy level if `extended=True`. (New in v1.22.0) |'
  id: totrans-713
  prefs: []
  type: TYPE_TB
  zh: '| level | 如果 `extended=True`，则为层次级别。 (v1.22.0 中新增) |'
- en: '| seqno | command number when building page appearance. (New in v1.19.0) |'
  id: totrans-714
  prefs: []
  type: TYPE_TB
  zh: '| seqno | 构建页面外观时的命令号码。 (v1.19.0 中新增) |'
- en: '| type | type of this path. (New in v1.18.17) |'
  id: totrans-715
  prefs: []
  type: TYPE_TB
  zh: '| type | 此路径的类型。 (v1.18.17 中新增) |'
- en: '| width | Stroke line width. (see [Shape](shape.html#shape)). |'
  id: totrans-716
  prefs: []
  type: TYPE_TB
  zh: '| width | 描边线宽度。 (参见 [形状](shape.html#shape))。 |'
- en: Key `"opacity"` has been replaced by the new keys `"fill_opacity"` and `"stroke_opacity"`.
    This is now compatible with the corresponding parameters of [`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish"). (Changed in v1.18.17)
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: 键 `"opacity"` 已被新键 `"fill_opacity"` 和 `"stroke_opacity"` 替换。现在与 [`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish") 的相应参数兼容。 (v1.18.17 中更改)
- en: 'For paths other than groups or clips, key `"type"` takes one of the following
    values:'
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: 对于除组或剪辑之外的路径，键 `"type"` 取以下值之一：
- en: '**“f”** – this is a *fill-only* path. Only key-values relevant for this operation
    have a meaning, not applicable ones are present with a value of *None*: `"color"`,
    `"lineCap"`, `"lineJoin"`, `"width"`, `"closePath"`, `"dashes"` and should be
    ignored.'
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“f”** – 这是一个*仅填充*的路径。仅适用于此操作的键值有意义，不适用的键具有 *None* 值：`"color"`、`"lineCap"`、`"lineJoin"`、`"width"`、`"closePath"`、`"dashes"`，应被忽略。'
- en: '**“s”** – this is a *stroke-only* path. Similar to previous, key `"fill"` is
    present with value *None*.'
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“s”** – 这是一个*仅描边*的路径。类似于前面的，键 `"fill"` 存在，值为 *None*。'
- en: '**“fs”** – this is a path performing combined *fill* and *stroke* operations.'
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“fs”** – 这是一个执行合并*填充*和*描边*操作的路径。'
- en: 'Each item in `path["items"]` is one of the following:'
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: '`path["items"]` 中的每个项目是以下之一：'
- en: '`("l", p1, p2)` - a line from p1 to p2 ([Point](point.html#point) objects).'
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("l", p1, p2)` - 从 p1 到 p2 的线条（[点](point.html#point) 对象）。'
- en: '`("c", p1, p2, p3, p4)` - cubic Bézier curve **from p1 to p4** (p2 and p3 are
    the control points). All objects are of type [Point](point.html#point).'
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("c", p1, p2, p3, p4)` - 由 p1 到 p4 的三次贝塞尔曲线（p2 和 p3 是控制点）。所有对象均为 [点](point.html#point)
    类型。'
- en: '`("re", rect, orientation)` - a [Rect](rect.html#rect). Multiple rectangles
    within the same path are now detected (changed in v1.18.17). Integer `orientation`
    is 1 resp. -1 indicating whether the enclosed area is rotated left (1 = anti-clockwise),
    or resp. right [[7]](#f7) (changed in v1.19.2).'
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("re", rect, orientation)` - 一个 [矩形](rect.html#rect)。现在检测到同一路径中的多个矩形（在 v1.18.17
    中更改）。整数 `orientation` 是 1 或 -1，指示封闭区域是否向左旋转（1 = 逆时针），或向右 [[7]](#f7)（在 v1.19.2
    中更改）。'
- en: '`("qu", quad)` - a [Quad](quad.html#quad). 3 or 4 consecutive lines are detected
    to actually represent a [Quad](quad.html#quad) (changed in v1.19.2:). (New in
    v1.18.17)'
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("qu", quad)` - 一个 [四边形](quad.html#quad)。检测到3或4行连续表示一个 [四边形](quad.html#quad)（在
    v1.19.2 中更改）。（v1.18.17 中新增）'
- en: Using class [Shape](shape.html#shape), you should be able to recreate the original
    drawings on a separate (PDF) page with high fidelity under normal, not too sophisticated
    circumstances. Please see the following comments on restrictions. A coding draft
    can be found in section “Extractings Drawings” of chapter [FAQ](faq.html#faq).
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: 使用类 [Shape](shape.html#shape)，您应该能够在普通情况下以高保真度重新创建原始图纸在单独的（PDF）页面上。请参阅对限制的以下评论。编码草案可在章节
    [FAQ](faq.html#faq) 的 “Extractings Drawings” 中找到。
- en: 'Specifying `extended=True` significantly alters the output. Most importantly,
    new dictionary types are present: “clip” and “group”. All paths will now be organized
    in a hierarchic structure which is encoded by the new integer key “level”, the
    hierarchy level. Each group or clip establishes a new hierarchy, which applies
    to all subsequent paths having a *larger* level value. (New in v1.22.0)'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 指定 `extended=True` 显著改变了输出。最重要的是，新增了字典类型：“clip” 和 “group”。现在所有路径将按照层级结构组织，这由新的整数键“level”编码，即层级水平。每个组或剪辑都建立了一个新的层次结构，适用于所有后续具有**更高**级别值的路径。（新增于
    v1.22.0）
- en: 'Any path with a smaller level value than its predecessor will end the scope
    of (at least) the preceeding hierarchy level. A “clip” path with the same level
    as the preceding clip will end the scope of that clip. Same is true for groups.
    This is best explained by an example:'
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: 任何具有比其前任更小的级别值的路径将终止（至少）前一个层次结构级别的范围。与前一个剪辑级别相同的 “clip” 路径将终止该剪辑的范围。组也是如此。这可以通过以下示例最好解释：
- en: '[PRE61]'
  id: totrans-730
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: The clip in line 0 applies to line including line 7\. Group in line 2 applies
    to lines 3 to 5, clip in line 3 only applies to line 4.
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: 第 0 行的剪辑适用于包括第 7 行在内的行。第 2 行的组适用于第 3 到第 5 行，第 3 行的剪辑仅适用于第 4 行。
- en: “stroke” in line 4 is under control of “group” in line 2 and “clip” in line
    3 (which in turn is a subset of line 0 clip).
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: “stroke” 在第 4 行受第 2 行的 “group” 和第 3 行的 “clip” 控制（而第 3 行的 “clip” 又是第 0 行的子集）。
- en: '**“clip”** dictionary. Its values (most importantly “scissor”) remain valid
    / apply as long as following dictionaries have a **larger “level”** value.'
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“clip”** 字典。其值（最重要的是 “scissor”）在后续具有**更高**级别值的字典中仍然有效 / 适用。'
- en: '| Key | Value |'
  id: totrans-734
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| Key | Value |'
- en: '| --- | --- |'
  id: totrans-735
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-736
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| closePath | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| even_odd | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-737
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| even_odd | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| items | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-738
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| items | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-739
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-740
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-741
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| scissor | the clip rectangle |'
  id: totrans-742
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| scissor | 剪切矩形 |'
- en: '| type | “clip” |'
  id: totrans-743
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “clip” |'
- en: “group” dictionary. Its values remain valid (apply) as long as following dictionaries
    have a **larger “level”** value. Any dictionary with an equal or lower level end
    this group.
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “group” 字典。其值在后续具有**更高**级别值的字典有效（适用）。任何级别相等或更低的字典将终止该组。
- en: '| Key | Value |'
  id: totrans-745
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| Key | Value |'
- en: '| --- | --- |'
  id: totrans-746
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-747
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-748
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-749
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与 “stroke” 或 “fill” 字典中相同 |'
- en: '| isolated | (bool) Whether this group is isolated |'
  id: totrans-750
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| isolated | (bool) 是否为孤立组 |'
- en: '| knockout | (bool) Whether this is a “Knockout Group” |'
  id: totrans-751
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| knockout | (bool) 是否为 “Knockout Group” |'
- en: '| blendmode | Name of the BlendMode, default is “Normal” |'
  id: totrans-752
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| blendmode | 混合模式的名称，默认为 “Normal” |'
- en: '| opacity | Float value in range [0, 1]. |'
  id: totrans-753
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| opacity | 取值范围为 [0, 1] 的浮点数。 |'
- en: '| type | “group” |'
  id: totrans-754
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “group” |'
- en: Note
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: 注
- en: The method is based on the output of [`Page.get_cdrawings()`](#Page.get_cdrawings
    "Page.get_cdrawings") – which is much faster, but requires somewhat more attention
    processing its output.
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法基于 [`Page.get_cdrawings()`](#Page.get_cdrawings "Page.get_cdrawings") 的输出
    – 更快速，但需要更多处理注意力。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.0
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.18.0
- en: Changed in v1.18.17
  id: totrans-758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.17 中更改
- en: 'Changed in v1.19.0: add “seqno” key, remove “clippings” key'
  id: totrans-759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.0 中更改：添加 “seqno” 键，删除 “clippings” 键
- en: 'Changed in v1.19.1: “color” / “fill” keys now always are either are RGB tuples
    or `None`. This resolves issues caused by exotic colorspaces.'
  id: totrans-760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.1 中更改：“color” / “fill” 键现在总是 RGB 元组或 `None`。这解决了由于奇异颜色空间引起的问题。
- en: 'Changed in v1.19.2: add an indicator for the *“orientation”* of the area covered
    by an “re” item.'
  id: totrans-761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.2: 添加了一个关于 “orientation” 的指示器的 **“re” 项**。'
- en: 'Changed in v1.22.0: add new key `"layer"` which contains the name of the Optional
    Content Group of the path (or `None`).'
  id: totrans-762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加新键 `"layer"`，其包含路径的可选内容组的名称（或者 `None`）。'
- en: 'Changed in v1.22.0: add parameter `extended` to also return clipping and group
    paths.'
  id: totrans-763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加参数 `extended`，以便返回剪切和组路径。'
- en: '[PRE62]'
  id: totrans-764
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Extract the vector graphics on the page. Apart from following technical differences,
    functionally equivalent to [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"),
    but much faster:'
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: 提取页面上的矢量图形。除了遵循技术上的差异外，在功能上等效于 [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings")，但速度更快：
- en: Every path type only contains the relevant keys, e.g. a stroke path has no `"fill"`
    color key. See comment in method [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings").
  id: totrans-766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每种路径类型仅包含相关的键，例如：笔画路径没有 `"fill"` 颜色键。参见方法 [`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings") 的注释。
- en: Coordinates are given as [`point_like`](glossary.html#point_like "point_like"),
    [`rect_like`](glossary.html#rect_like "rect_like") and [`quad_like`](glossary.html#quad_like
    "quad_like") **tuples** – not as [Point](point.html#point), [Rect](rect.html#rect),
    [Quad](quad.html#quad) objects.
  id: totrans-767
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 坐标以 [`point_like`](glossary.html#point_like "point_like")、[`rect_like`](glossary.html#rect_like
    "rect_like") 和 [`quad_like`](glossary.html#quad_like "quad_like") 的 **元组** 形式给出
    — 而不是作为 [Point](point.html#point)、[Rect](rect.html#rect)、[Quad](quad.html#quad)
    对象。
- en: 'If performance is a concern, consider using this method: Compared to versions
    earlier than 1.18.17, you should see much shorter response times. We have seen
    pages that required 2 seconds then, now only need 200 ms with this method.'
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: 如果性能是一个问题，请考虑使用这种方法：与1.18.17之前的版本相比，你应该看到更短的响应时间。我们已经看到以前需要2秒的页面，现在只需200毫秒就可以用这种方法。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.17
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.18.17
- en: 'Changed in v1.19.0: removed “clippings” key, added “seqno” key.'
  id: totrans-770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.0: 删除了 “clippings” 键，添加了 “seqno” 键。'
- en: 'Changed in v1.19.1: always generate RGB color tuples.'
  id: totrans-771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.1: 总是生成 RGB 颜色元组。'
- en: 'Changed in v1.22.0: added new key `"layer"` which contains the name of the
    Optional Content Group of the path (or `None`).'
  id: totrans-772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加了新键 `"layer"`，其包含路径的可选内容组的名称（或者 `None`）。'
- en: 'Changed in v1.22.0: added parameter `extended` to also return clipping paths.'
  id: totrans-773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加参数 `extended`，以便返回剪切路径。'
- en: '[PRE63]'
  id: totrans-774
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'PDF only: Return a list of fonts referenced by the page. Wrapper for [`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts").'
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于 PDF：返回页面引用的字体列表。是 [`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts") 的包装器。
- en: '[PRE64]'
  id: totrans-776
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'PDF only: Return a list of images referenced by the page. Wrapper for [`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images").'
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于 PDF：返回页面引用的图像列表。是 [`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images") 的包装器。
- en: '[PRE65]'
  id: totrans-778
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Return a list of meta information dictionaries for all images shown on the
    page. This works for all document types. Technically, this is a subset of the
    dictionary output of [`Page.get_text()`](#Page.get_text "Page.get_text"): the
    image binary content and any text on the page are ignored.'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面上显示的所有图像的元信息字典列表。这对于所有文档类型都适用。从技术上讲，这是 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的字典输出的子集：图像二进制内容和页面上的任何文本都被忽略。
- en: 'Parameters:'
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**hashes** (*bool*) – Compute the MD5 hashcode for each encountered image,
    which allows identifying image duplicates. This adds the key `"digest"` to the
    output, whose value is a 16 byte `bytes` object. (New in v1.18.13)'
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hashes** (*bool*) – 对每个遇到的图像计算 MD5 哈希码，从而允许识别图像重复。这会将键 `"digest"` 添加到输出中，其值是一个16字节的
    `bytes` 对象。 (新增于 v1.18.13)'
- en: '**xrefs** (*bool*) – **PDF only.** Try to find the [`xref`](glossary.html#xref
    "xref") for each image. Implies `hashes=True`. Adds the `"xref"` key to the dictionary.
    If not found, the value is 0, which means, the image is either “inline” or otherwise
    undetectable. Please note that this option has an extended response time, because
    the MD5 hashcode will be computed at least two times for each image with an xref.
    (New in v1.18.13)'
  id: totrans-782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xrefs** (*bool*) – **仅适用于 PDF。** 尝试查找每个图像的 [`xref`](glossary.html#xref "xref")。意味着
    `hashes=True`。向字典添加 `"xref"` 键。如果未找到，则值为0，这意味着图像是“内联”的或无法检测到的。请注意，此选项由于至少为每个具有
    xref 的图像计算两次 MD5 哈希码，因此具有扩展的响应时间。 (新增于 v1.18.13)'
- en: 'Return type:'
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list[dict]
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: list[dict]
- en: 'Returns:'
  id: totrans-785
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. This includes information for **exactly those** images,
    that are shown on the page – including *“inline images”*. In contrast to images
    included in [`Page.get_text()`](#Page.get_text "Page.get_text"), image **binary
    content** is not loaded, which drastically reduces memory usage. The dictionary
    layout is similar to that of image blocks in `page.get_text("dict")`.
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。这包括仅显示在页面上的图像的信息 - 包括 *“内联图像”*。与 [`Page.get_text()`](#Page.get_text "Page.get_text")
    中包含的图像不同，不会加载图像的二进制内容，这大大减少了内存使用量。字典布局类似于 `page.get_text("dict")` 中的图像块的布局。
- en: '| **Key** | **Value** |'
  id: totrans-787
  prefs: []
  type: TYPE_TB
  zh: '| **Key** | **Value** |'
- en: '| --- | --- |'
  id: totrans-788
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| number | block number *(int)* |'
  id: totrans-789
  prefs: []
  type: TYPE_TB
  zh: '| number | 块编号 *(int)* |'
- en: '| bbox | image bbox on page, [`rect_like`](glossary.html#rect_like "rect_like")
    |'
  id: totrans-790
  prefs: []
  type: TYPE_TB
  zh: '| bbox | 页面上的图像边界框，[`rect_like`](glossary.html#rect_like "rect_like") |'
- en: '| width | original image width *(int)* |'
  id: totrans-791
  prefs: []
  type: TYPE_TB
  zh: '| width | 原始图像宽度 *(int)* |'
- en: '| height | original image height *(int)* |'
  id: totrans-792
  prefs: []
  type: TYPE_TB
  zh: '| height | 原始图像高度 *(int)* |'
- en: '| cs-name | colorspace name *(str)* |'
  id: totrans-793
  prefs: []
  type: TYPE_TB
  zh: '| cs-name | 颜色空间名称 *(str)* |'
- en: '| colorspace | colorspace.n *(int)* |'
  id: totrans-794
  prefs: []
  type: TYPE_TB
  zh: '| colorspace | 颜色空间的颜色数量 *(int)* |'
- en: '| xres | resolution in x-direction *(int)* |'
  id: totrans-795
  prefs: []
  type: TYPE_TB
  zh: '| xres | x 方向上的分辨率 *(int)* |'
- en: '| yres | resolution in y-direction *(int)* |'
  id: totrans-796
  prefs: []
  type: TYPE_TB
  zh: '| yres | y 方向上的分辨率 *(int)* |'
- en: '| bpc | bits per component *(int)* |'
  id: totrans-797
  prefs: []
  type: TYPE_TB
  zh: '| bpc | 每组分量的位数 *(int)* |'
- en: '| size | storage occupied by image *(int)* |'
  id: totrans-798
  prefs: []
  type: TYPE_TB
  zh: '| size | 图像占用的存储空间 *(int)* |'
- en: '| digest | MD5 hashcode *(bytes)*, if *hashes* is true |'
  id: totrans-799
  prefs: []
  type: TYPE_TB
  zh: '| digest | 如果 *hashes* 为 true，则为 MD5 哈希码 *(bytes)* |'
- en: '| xref | image [`xref`](glossary.html#xref "xref") or 0, if *xrefs* is true
    |'
  id: totrans-800
  prefs: []
  type: TYPE_TB
  zh: '| xref | 图像的[`xref`](glossary.html#xref "xref") 或 0，如果 *xrefs* 为 true |'
- en: '| transform | matrix transforming image rect to bbox, [`matrix_like`](glossary.html#matrix_like
    "matrix_like") |'
  id: totrans-801
  prefs: []
  type: TYPE_TB
  zh: '| transform | 将图像矩形转换为边界框的矩阵，[`matrix_like`](glossary.html#matrix_like "matrix_like")
    |'
- en: Multiple occurrences of the same image are always reported. You can detect duplicates
    by comparing their [`digest`](pixmap.html#Pixmap.digest "Pixmap.digest") values.
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: 同一图像的多个出现始终会被报告。您可以通过比较它们的 [`digest`](pixmap.html#Pixmap.digest "Pixmap.digest")
    值来检测重复项。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.11
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.11 中的新功能
- en: 'Changed in v1.18.13: added image MD5 hashcode computation and [`xref`](glossary.html#xref
    "xref") search.'
  id: totrans-804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.13 中更改：添加了图像 MD5 哈希码计算和 [`xref`](glossary.html#xref "xref") 搜索。
- en: '[PRE66]'
  id: totrans-805
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'PDF only: Return a list of Form XObjects referenced by the page. Wrapper for
    [`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects "Document.get_page_xobjects").'
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: 'PDF only: 返回页面引用的 Form XObjects 的列表。[`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects
    "Document.get_page_xobjects") 的包装器。'
- en: '[PRE67]'
  id: totrans-807
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'PDF only: Return boundary boxes and transformation matrices of an embedded
    image. This is an improved version of [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") with the following differences:'
  id: totrans-808
  prefs: []
  type: TYPE_NORMAL
  zh: 'PDF only: 返回嵌入图像的边界框和变换矩阵。这是一个改进版本的 [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox")，具有以下区别：'
- en: There is no restriction on **how** the image is invoked (by the page or one
    of its Form XObjects). The result is always complete and correct.
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于图像被调用的方式（由页面或其 Form XObjects 之一），没有限制。结果始终是完整且正确的。
- en: The result is a list of [Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))
    objects – depending on *transform*. Each list item represents one location of
    the image on the page. Multiple occurrences might not be detectable by [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结果是 [Rect](rect.html#rect) 或 ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))
    对象的列表 - 取决于 *transform*。每个列表项代表页面上图像的一个位置。多个出现可能无法通过 [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") 检测到。
- en: The method invokes [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    with `xrefs=True` and therefore has a noticeably longer response time than [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法调用 [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    并且 `xrefs=True`，因此响应时间比 [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")
    明显更长。
- en: 'Parameters:'
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str**,**int*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images"), or the reference **name** entry of such an item (item[7]),
    or the image [`xref`](glossary.html#xref "xref").'
  id: totrans-813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item** (*list**,**str**,**int*) – 列表 [`Page.get_images()`](#Page.get_images
    "Page.get_images") 的一个项目，或者这样一个项目的引用 **name** 条目 (item[7])，或者图像的 [`xref`](glossary.html#xref
    "xref")。'
- en: '**transform** (*bool*) – also return the matrix used to transform the image
    rectangle to the bbox on the page. If true, then tuples `(bbox, matrix)` are returned.'
  id: totrans-814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform** (*bool*) – 还返回用于将图像矩形转换为页面上的边界框的矩阵。如果为 true，则返回元组 `(bbox, matrix)`。'
- en: 'Return type:'
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: Boundary boxes and respective transformation matrices for each image occurrence
    on the page. If the item is not on the page, an empty list `[]` is returned.
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: 页面上每个图像出现的边界框及相应的转换矩阵。如果项目不在页面上，则返回空列表`[]`。
- en: <details><summary>Show/hide history</summary></details> New in v1.18.13
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> v1.18.13 中的新功能
- en: '[PRE68]'
  id: totrans-820
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'PDF only: Return boundary box and transformation matrix of an embedded image.'
  id: totrans-821
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：返回嵌入图像的边界框和转换矩阵。
- en: 'Parameters:'
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images") with *full=True* specified, or the reference **name** entry
    of such an item, which is item[-3] (or item[7] respectively).'
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item**（*list**,**str*）- [`Page.get_images()`](#Page.get_images "Page.get_images")
    列表的项，指定 *full=True*，或此类项的引用 **name** 条目，即 item[-3]（或 item[7]）。'
- en: '**transform** (*bool*) – return the matrix used to transform the image rectangle
    to the bbox on the page (new in v1.18.11). Default is just the bbox. If true,
    then a tuple `(bbox, matrix)` is returned.'
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform**（*bool*）- 返回用于将图像矩形转换为页面上的边界框的矩阵（v1.18.11 中的新功能）。默认为仅使用边界框。如果为
    true，则返回一个元组`(bbox, matrix)`。'
- en: 'Return type:'
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect) 或 ([矩形](rect.html#rect), [矩阵](matrix.html#matrix))'
- en: 'Returns:'
  id: totrans-827
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the boundary box of the image – optionally also its transformation matrix.
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: 图像的边界框- 可选地也包括其转换矩阵。
- en: '<details><summary>Show/hide history</summary></details> *   (Changed in v1.16.7):
    If the page in fact does not display this image, an infinite rectangle is returned
    now. In previous versions, an exception was raised. Formally invalid parameters
    still raise exceptions.'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   (在 v1.16.7 中更改)：如果页面实际上不显示此图像，则现在返回一个无限矩形。在以前的版本中，会引发异常。形式上无效的参数仍会引发异常。
- en: '(Changed in v1.17.0): Only images referenced directly by the page are considered.
    This means that images occurring in embedded PDF pages are ignored and an exception
    is raised.'
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (在 v1.17.0 中更改)：仅考虑页面直接引用的图像。这意味着会忽略嵌入的 PDF 页面中出现的图像，并引发异常。
- en: '(Changed in v1.18.5): Removed the restriction introduced in v1.17.0: any item
    of the page’s image list may be specified.'
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (在 v1.18.5 中更改)：移除了 v1.17.0 中引入的限制：可以指定页面图像列表的任何项。
- en: '(Changed in v1.18.11): Partially re-instated a restriction: only those images
    are considered, that are either directly referenced by the page or by a Form XObject
    directly referenced by the page.'
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (在 v1.18.11 中更改)：部分重新实施限制：仅考虑那些直接由页面引用或由页面直接引用的 Form XObject 引用的图像。
- en: '(Changed in v1.18.11): Optionally also return the transformation matrix together
    with the bbox as the tuple `(bbox, transform)`.'
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (在 v1.18.11 中更改)：可选地将转换矩阵与边界框一起作为元组`(bbox, transform)`返回。
- en: Note
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Be aware that [`Page.get_images()`](#Page.get_images "Page.get_images") may
    contain “dead” entries i.e. images, which the page **does not display**. This
    is no error, but intended by the PDF creator. No exception will be raised in this
    case, but an infinite rectangle is returned. You can avoid this from happening
    by executing [`Page.clean_contents()`](functions.html#Page.clean_contents "Page.clean_contents")
    before this method.
  id: totrans-835
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，[`Page.get_images()`](#Page.get_images "Page.get_images") 可能包含“无效”条目，即页面**未显示**的图像。这不是错误，而是由
    PDF 创建者意图。在这种情况下不会引发异常，而是返回一个无限矩形。您可以通过在此方法之前执行[`Page.clean_contents()`](functions.html#Page.clean_contents
    "Page.clean_contents") 来避免发生这种情况。
- en: 'The image’s “transformation matrix” is defined as the matrix, for which the
    expression `bbox / transform == pymupdf.Rect(0, 0, 1, 1)` is true, lookup details
    here: [Image Transformation Matrix](app3.html#imagetransformation).'
  id: totrans-836
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像的“转换矩阵”定义为矩阵，满足表达式 `bbox / transform == pymupdf.Rect(0, 0, 1, 1)` 为真，详情请参阅：[图像转换矩阵](app3.html#imagetransformation)。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.11:
    return image transformation matrix'
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   在 v1.18.11 中更改：返回图像转换矩阵
- en: '[PRE69]'
  id: totrans-838
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Create an SVG image from the page. Only full page images are currently supported.
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建一个 SVG 图像。当前仅支持全页图像。
- en: 'Parameters:'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – a matrix, default is [Identity](identity.html#identity).'
  id: totrans-841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**matrix**（*matrix_like*）- 一个矩阵，默认为[Identity](identity.html#identity)。'
- en: '**text_as_path** (*bool*) – – controls how text is represented. *True* outputs
    each character as a series of elementary draw commands, which leads to a more
    precise text display in browsers, but a **very much larger** output for text-oriented
    pages. Display quality for *False* relies on the presence of the referenced fonts
    on the current system. For missing fonts, the internet browser will fall back
    to some default – leading to unpleasant appearances. Choose *False* if you want
    to parse the text of the SVG. (New in v1.17.5)'
  id: totrans-842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_as_path** (*bool*) – 控制文本的表示方式。*True* 将每个字符输出为一系列基本绘制命令，这会导致在浏览器中显示更精确的文本，但对于面向文本的页面输出非常**大**。对于
    *False*，显示质量取决于当前系统上是否存在引用的字体。对于缺失字体，互联网浏览器将退回到一些默认值 – 导致不愉快的外观。如果您希望解析 SVG 文本，请选择
    *False*。（新于 v1.17.5）'
- en: 'Returns:'
  id: totrans-843
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a UTF-8 encoded string that contains the image. Because SVG has XML syntax it
    can be saved in a text file, the standard extension is `.svg`.
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: 包含图像的 UTF-8 编码字符串。由于 SVG 具有 XML 语法，它可以保存在文本文件中，标准扩展名为 `.svg`。
- en: Note
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In case of a PDF, you can circumvent the “full page image only” restriction
    by modifying the page’s CropBox before using the method.
  id: totrans-846
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 PDF 文件，您可以通过修改页面的 CropBox 在使用该方法之前绕过“仅全页图像”限制。
- en: '[PRE70]'
  id: totrans-847
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Create a pixmap from the page. This is probably the most often used method to
    create a [Pixmap](pixmap.html#pixmap).
  id: totrans-848
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建一个像素图。这可能是创建 [Pixmap](pixmap.html#pixmap) 最常用的方法。
- en: All parameters are *keyword-only.*
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: 所有参数均为 *仅限关键字*。
- en: 'Parameters:'
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – default is [Identity](identity.html#identity).'
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**matrix** (*matrix_like*) – 默认为 [Identity](identity.html#identity)。'
- en: '**dpi** (*int*) – desired resolution in x and y direction. If not `None`, the
    `"matrix"` parameter is ignored. (New in v1.19.2)'
  id: totrans-852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi** (*int*) – x 和 y 方向的期望分辨率。如果不为 `None`，则忽略 `"matrix"` 参数。（新于 v1.19.2）'
- en: '**colorspace** (str or [Colorspace](colorspace.html#colorspace)) – The desired
    colorspace, one of “GRAY”, “RGB” or “CMYK” (case insensitive). Or specify a [Colorspace](colorspace.html#colorspace),
    ie. one of the predefined ones: [`csGRAY`](vars.html#csGRAY "csGRAY"), [`csRGB`](vars.html#csRGB
    "csRGB") or [`csCMYK`](vars.html#csCMYK "csCMYK").'
  id: totrans-853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colorspace** (str 或 [Colorspace](colorspace.html#colorspace)) – 所需的颜色空间，为“GRAY”、“RGB”或“CMYK”之一（大小写不敏感）。或指定一个预定义的颜色空间：[`csGRAY`](vars.html#csGRAY
    "csGRAY")、[`csRGB`](vars.html#csRGB "csRGB") 或 [`csCMYK`](vars.html#csCMYK "csCMYK")。'
- en: '**clip** (*irect_like*) – restrict rendering to the intersection of this area
    with the page’s rectangle.'
  id: totrans-854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*irect_like*) – 限制渲染到页面矩形的交集。'
- en: '**alpha** (*bool*) –'
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*bool*) –'
- en: 'whether to add an alpha channel. Always accept the default *False* if you do
    not really need transparency. This will save a lot of memory (25% in case of RGB
    … and pixmaps are typically **large**!), and also processing time. Also note an
    **important difference** in how the image will be rendered: with *True* the pixmap’s
    samples area will be pre-cleared with *0x00*. This results in **transparent**
    areas where the page is empty. With *False* the pixmap’s samples will be pre-cleared
    with *0xff*. This results in **white** where the page has nothing to show.'
  id: totrans-856
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否添加 alpha 通道。如果您不真正需要透明度，请始终接受默认值 *False*。这将节省大量内存（在 RGB 情况下为 25% … 且像素图通常非常**大**！），并减少处理时间。还要注意图像渲染的**重要差异**：使用
    *True* 时，像素图的样本区域将预先清除为 *0x00*，这将导致页面空白处为**透明**。使用 *False* 时，像素图的样本将预先清除为 *0xff*，导致页面空白处为**白色**。
- en: <details><summary>Show/hide history</summary></details> Changed in v1.14.17
  id: totrans-857
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> 自 v1.14.17 版本更改
- en: The default alpha value is now *False*.
  id: totrans-858
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认 alpha 值现在为 *False*。
- en: Generated with *alpha=True*
  id: totrans-859
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用 *alpha=True*
- en: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
  id: totrans-860
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
- en: Generated with *alpha=False*
  id: totrans-861
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用 *alpha=False*
- en: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
  id: totrans-862
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
- en: '**annots** (*bool*) – *(new in version 1.16.0)* whether to also render annotations
    or to suppress them. You can create pixmaps for annotations separately.'
  id: totrans-863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**annots** (*bool*) – *(自版本 1.16.0起新增)* 是否渲染注释或者抑制它们的显示。您可以单独为注释创建像素图。'
- en: 'Return type:'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Pixmap](pixmap.html#pixmap)'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: '[Pixmap](pixmap.html#pixmap)'
- en: 'Returns:'
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'Pixmap of the page. For fine-controlling the generated image, the by far most
    important parameter is **matrix**. E.g. you can increase or decrease the image
    resolution by using **Matrix(xzoom, yzoom)**. If zoom > 1, you will get a higher
    resolution: zoom=2 will double the number of pixels in that direction and thus
    generate a 2 times larger image. Non-positive values will flip horizontally, resp.
    vertically. Similarly, matrices also let you rotate or shear, and you can combine
    effects via e.g. matrix multiplication. See the [Matrix](matrix.html#matrix) section
    to learn more.  Note'
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的像素图。用于精细控制生成的图像，到目前为止最重要的参数是**matrix**。例如，您可以使用**Matrix(xzoom, yzoom)**来增加或减少图像分辨率。如果缩放>
    1，则在该方向上会获得更高的分辨率：zoom=2将使该方向上的像素数量加倍，从而生成2倍大的图像。非正值将水平翻转，垂直翻转。类似地，矩阵还允许您旋转或剪切，并且您可以通过例如矩阵乘法组合效果。请参阅[矩阵](matrix.html#matrix)部分以了解更多信息。
    注意
- en: The pixmap will have *“premultiplied”* pixels if `alpha=True`. To learn about
    some background, e.g. look for “Premultiplied alpha” [here](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P).
  id: totrans-868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`alpha=True`，像素图将具有*“预乘”*像素。要了解一些背景知识，例如，请查找“预乘 alpha” [这里](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P)。
- en: 'The method will respect any page rotation and will not exceed the intersection
    of `clip` and [`Page.cropbox`](#Page.cropbox "Page.cropbox"). If you need the
    page’s mediabox (and if this is a different rectangle), you can use a snippet
    like the following to achieve this:'
  id: totrans-869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法将尊重任何页面旋转，并且不会超出`clip`和[`Page.cropbox`](#Page.cropbox "Page.cropbox")的交集。如果您需要页面的媒介框（如果这是一个不同的矩形），您可以使用以下类似的片段来实现这一点：
- en: '[PRE71]'
  id: totrans-870
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.2:
    added support of parameter dpi.'
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 在v1.19.2中更改：添加了参数dpi的支持。
- en: '[PRE72]'
  id: totrans-872
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'PDF only: return a list of the names of annotations, widgets and links. Technically,
    these are the */NM* values of every PDF object found in the page’s */Annots* array.'
  id: totrans-873
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：返回注释，小部件和链接名称列表。从技术上讲，这些是页面*/Annots*数组中找到的每个PDF对象的*/NM*值。
- en: 'Return type:'
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-875
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.10
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.16.10
- en: '[PRE73]'
  id: totrans-877
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'PDF only: return a list of the :data`xref` numbers of annotations, widgets
    and links – technically of all entries found in the page’s */Annots* array.'
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：返回注释，小部件和链接的:data`xref`编号列表 - 从技术上讲，是在页面的*/Annots*数组中找到的所有条目。
- en: 'Return type:'
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a list of items *(xref, type)* where type is the annotation type. Use the type
    to tell apart links, fields and annotations, see [Annotation Types](vars.html#annotationtypes).
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: 一个项目的列表*(xref, type)*其中type是注释类型。使用类型来区分链接，字段和注释，请参见[注释类型](vars.html#annotationtypes)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.17.1
- en: '[PRE74]'
  id: totrans-884
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'PDF only: return the annotation identified by *ident*. This may be its unique
    name (PDF `/NM` key), or its [`xref`](glossary.html#xref "xref").'
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：返回由*ident*标识的注释。这可以是其唯一名称（PDF `/NM`键），或其[`xref`](glossary.html#xref "xref")。
- en: 'Parameters:'
  id: totrans-886
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**ident** (*str**,**int*) – the annotation name or xref.'
  id: totrans-887
  prefs: []
  type: TYPE_NORMAL
  zh: '**ident**（*str**,**int*） - 注释名称或xref。'
- en: 'Return type:'
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-889
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-890
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the annotation or *None*.
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: 注释或*None*。
- en: Note
  id: totrans-892
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Methods [`Page.annot_names()`](#Page.annot_names "Page.annot_names"), [`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs") provide lists of names or xrefs, respectively, from where
    an item may be picked and loaded via this method.
  id: totrans-893
  prefs: []
  type: TYPE_NORMAL
  zh: 方法[`Page.annot_names()`](#Page.annot_names "Page.annot_names")，[`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs")分别提供名称或xrefs列表，可以从中选择一个项目，并通过此方法加载。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.17.1
- en: '[PRE75]'
  id: totrans-895
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'PDF only: return the field identified by *xref*.'
  id: totrans-896
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：返回由*xref*标识的字段。
- en: 'Parameters:'
  id: totrans-897
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the field’s xref.'
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref**（*int*） - 字段的xref。'
- en: 'Return type:'
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: '[小部件](widget.html#widget)'
- en: 'Returns:'
  id: totrans-901
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the field or *None*.
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: 字段或*None*。
- en: Note
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This is similar to the analogous method [`Page.load_annot()`](#Page.load_annot
    "Page.load_annot") – except that here only the xref is supported as identifier.
  id: totrans-904
  prefs: []
  type: TYPE_NORMAL
  zh: 这类似于类似方法[`Page.load_annot()`](#Page.load_annot "Page.load_annot") - 只是这里仅支持xref作为标识符。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.6
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.19.6
- en: '[PRE76]'
  id: totrans-906
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: Return the first link on a page. Synonym of property [`first_link`](#Page.first_link
    "Page.first_link").
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面上的第一个链接。与属性[`first_link`](#Page.first_link "Page.first_link")的同义词。
- en: 'Return type:'
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Link](link.html#link)'
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: 'Returns:'
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: first link on the page (or *None*).
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: 页面上的第一个链接（或*None*）。
- en: '[PRE77]'
  id: totrans-912
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'PDF only: Set the rotation of the page.'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：设置页面的旋转。
- en: 'Parameters:'
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rotate** (*int*) – An integer specifying the required rotation in degrees.
    Must be an integer multiple of 90\. Values will be converted to one of 0, 90,
    180, 270.'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 指定所需旋转的角度的整数。必须是90的整数倍。值将被转换为0、90、180、270中的一个。'
- en: '[PRE78]'
  id: totrans-916
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'PDF only: Set page rotation to 0 while maintaining appearance and page content.'
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：将页面旋转设置为0，同时保持外观和页面内容。
- en: 'Returns:'
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The inverted matrix used to achieve this change. If the page was not rotated
    (rotation 0), [Identity](identity.html#identity) is returned. The method automatically
    recomputes the rectangles of any annotations, links and widgets present on the
    page.
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: 用于实现此变更所使用的反转矩阵。如果页面未旋转（旋转为0），将返回[Identity](identity.html#identity)。该方法会自动重新计算页面上存在的任何注释、链接和小部件的矩形。
- en: This method may come in handy when e.g. used with [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page").
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: 当与例如[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")一起使用时，此方法可能非常有用。
- en: '[PRE79]'
  id: totrans-921
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'PDF only: Display a page of another PDF as a **vector image** (otherwise similar
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image")). This is a
    multi-purpose method. For example, you can use it to'
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：显示另一个PDF的页面作为**矢量图像**（否则类似于[`Page.insert_image()`](#Page.insert_image
    "Page.insert_image")）。这是一个多功能的方法。例如，您可以使用它
- en: create “n-up” versions of existing PDF files, combining several input pages
    into **one output page** (see example [combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)),
  id: totrans-923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建现有PDF文件的“n-up”版本，将多个输入页面组合成**一个输出页面**（参见示例[combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)），
- en: create “posterized” PDF files, i.e. every input page is split up in parts which
    each create a separate output page (see [posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)),
  id: totrans-924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建“分色”PDF文件，即每个输入页面分割成部分，每部分创建一个单独的输出页面（参见[posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)），
- en: include PDF-based vector images like company logos, watermarks, etc., see [svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py),
    which puts an SVG-based logo on each page (requires additional packages to deal
    with SVG-to-PDF conversions).
  id: totrans-925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括基于PDF的矢量图像，如公司标志、水印等，参见[svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py)，它在每一页上放置一个基于SVG的标志（需要额外的软件包处理SVG到PDF的转换）。
- en: 'Parameters:'
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to place the image on current page. Must be
    finite and its intersection with the page must not be empty.'
  id: totrans-927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 在当前页面上放置图像的位置。必须是有限的，并且其与页面的交集不能为空。'
- en: '**docsrc** ([Document](document.html#document)) – source PDF document containing
    the page. Must be a different document object, but may be the same file.'
  id: totrans-928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**docsrc** ([文档](document.html#document)) – 包含页面的源PDF文档。必须是不同的文档对象，但可以是同一文件。'
- en: '**pno** (*int*) – page number (0-based, in `-∞ < pno < docsrc.page_count`)
    to be shown.'
  id: totrans-929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pno** (*int*) – 要显示的页码（从0开始，在`-∞ < pno < docsrc.page_count`范围内）。'
- en: '**keep_proportion** (*bool*) – whether to maintain the width-height-ratio (default).
    If false, all 4 corners are always positioned on the border of the target rectangle
    – whatever the rotation value. In general, this will deliver distorted and /or
    non-rectangular images.'
  id: totrans-930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 是否保持宽高比（默认）。如果为false，则所有4个角都始终定位在目标矩形的边界上 -
    无论旋转值如何。一般来说，这将提供扭曲和/或非矩形的图像。'
- en: '**overlay** (*bool*) – put image in foreground (default) or background.'
  id: totrans-931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将图像放在前景（默认）或背景中。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make visibility dependent
    on this [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD "OCMD")
    (which must be defined in the target PDF) [[9]](#f9). (New in v1.18.3)'
  id: totrans-932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – （[`xref`](glossary.html#xref "xref")）使得可见性依赖于此[`OCG`](glossary.html#OCG
    "OCG") / [`OCMD`](glossary.html#OCMD "OCMD") （必须在目标PDF中定义）[[9]](#f9)。 （v1.18.3中的新功能）'
- en: '**rotate** (*float*) – show the source rectangle rotated by some angle. Any
    angle is supported (changed in v1.14.11). (New in v1.14.10)'
  id: totrans-933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 显示经某个角度旋转的源矩形。支持任意角度（在v1.14.11中更改）。 （v1.14.10中的新功能）'
- en: '**clip** (*rect_like*) – choose which part of the source page to show. Default
    is the full page, else must be finite and its intersection with the source page
    must not be empty.'
  id: totrans-934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 选择要显示的源页面的部分。默认为整个页面，否则必须是有限的，并且其与源页面的交集不能为空。'
- en: Note
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In contrast to method [`Document.insert_pdf()`](document.html#Document.insert_pdf
    "Document.insert_pdf"), this method does not copy annotations, widgets or links,
    so these are not included in the target [[6]](#f6). But all its **other resources
    (text, images, fonts, etc.)** will be imported into the current PDF. They will
    therefore appear in text extractions and in [`get_fonts()`](#Page.get_fonts "Page.get_fonts")
    and [`get_images()`](#Page.get_images "Page.get_images") lists – even if they
    are not contained in the visible area given by *clip*.
  id: totrans-936
  prefs: []
  type: TYPE_NORMAL
  zh: 与方法[`Document.insert_pdf()`](document.html#Document.insert_pdf "Document.insert_pdf")相比，此方法不复制注释、小部件或链接，因此这些内容不包含在目标中[[6]](#f6)。但是所有其它资源（文本、图像、字体等）将被导入到当前的
    PDF 中。因此，它们将出现在文本提取和[`get_fonts()`](#Page.get_fonts "Page.get_fonts")以及[`get_images()`](#Page.get_images
    "Page.get_images")列表中，即使它们不在由 *clip* 给出的可见区域内。
- en: 'Example: Show the same source page, rotated by 90 and by -90 degrees:'
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：显示相同源页面，旋转 90 度和 -90 度：
- en: '[PRE80]'
  id: totrans-938
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>Show/hide
    history</summary></details> *   Changed in v1.14.11: Parameter *reuse_xref* has
    been deprecated. Position the source rectangle centered in target rectangle. Any
    rotation angle is now supported.'
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>显示/隐藏历史记录</summary></details>*在
    v1.14.11 中更改：参数 *reuse_xref* 已被弃用。将源矩形定位于目标矩形的中心。现在支持任何旋转角度。'
- en: 'Changed in v1.18.3: New parameter `oc`.'
  id: totrans-940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.3 中更改：新增参数 `oc`。
- en: '[PRE81]'
  id: totrans-941
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'PDF only: Create a new [Shape](shape.html#shape) object for the page.'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：为页面创建一个新的[形状](shape.html#shape)对象。
- en: 'Return type:'
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Shape](shape.html#shape)'
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: '[Shape](shape.html#shape)'
- en: 'Returns:'
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a new [Shape](shape.html#shape) to use for compound drawings. See description
    there.
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: 一个新的[Shape](shape.html#shape)，用于复合绘图。详见那里的描述。
- en: '[PRE82]'
  id: totrans-947
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: Search for *needle* on a page. Wrapper for [`TextPage.search()`](textpage.html#TextPage.search
    "TextPage.search").
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: 在页面上搜索 *needle*。是[`TextPage.search()`](textpage.html#TextPage.search "TextPage.search")的包装器。
- en: 'Parameters:'
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**needle** (*str*) – Text to search for. May contain spaces. Upper / lower
    case is ignored, but only works for ASCII characters: For example, “COMPÉTENCES”
    will not be found if needle is “compétences” – “compÉtences” however will. Similar
    is true for German umlauts and the like.'
  id: totrans-950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**needle**（*str*） – 要搜索的文本。可能包含空格。忽略大小写，但仅适用于 ASCII 字符：例如，如果 needle 是 “compétences”，则
    “COMPÉTENCES” 将不会被找到，但是 “compÉtences” 将会被找到。德语重音符号等也是如此。'
- en: '**clip** (*rect_like*) – only search within this area. (New in v1.18.2)'
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*） – 仅在此区域内搜索。（在 v1.18.2 中新增）'
- en: '**quads** (*bool*) – Return object type [Quad](quad.html#quad) instead of [Rect](rect.html#rect).'
  id: totrans-952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads**（*bool*） – 返回[Quad](quad.html#quad)对象而不是[Rect](rect.html#rect)。'
- en: '**flags** (*int*) – Control the data extracted by the underlying [TextPage](textpage.html#textpage).
    By default, ligatures and white spaces are kept, and hyphenation [[8]](#f8) is
    detected.'
  id: totrans-953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*） – 控制底层[TextPage](textpage.html#textpage)提取的数据。默认情况下保留连字和空白，并检测连字[[8]](#f8)。'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **significantly.** If specified, the ‘flags’ and ‘clip’
    arguments are ignored. If omitted, a temporary textpage will be created. (New
    in v1.19.0)'
  id: totrans-954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 使用之前创建的[TextPage](textpage.html#textpage)。这将显著减少执行时间**。**如果指定了，则忽略‘flags’和‘clip’参数。如果省略，则将创建一个临时文本页。(在
    v1.19.0 中新增)'
- en: 'Return type:'
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-957
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of [Rect](rect.html#rect) or [Quad](quad.html#quad) objects, each of
    which – **normally!** – surrounds one occurrence of *needle*. **However:** if
    parts of *needle* occur on more than one line, then a separate item is generated
    for each these parts. So, if `needle = "search string"`, two rectangles may be
    generated.
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)或[Quad](quad.html#quad)对象的列表，每个对象通常包围一个*needle*的出现。**但是：**如果*needle*的某些部分跨越多行，则为每个这些部分生成一个单独的项。因此，如果
    `needle = "search string"`，可能会生成两个矩形。'
- en: '<details><summary>Show/hide history</summary></details> Changes in v1.18.2:'
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details>在 v1.18.2 中的更改：
- en: There no longer is a limit on the list length (removal of the `hit_max` parameter).
  id: totrans-960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列表长度不再有限制（移除了 `hit_max` 参数）。
- en: 'If a word is **hyphenated** at a line break, it will still be found. E.g. the
    needle “method” will be found even if hyphenated as “meth-od” at a line break,
    and two rectangles will be returned: one surrounding “meth” (without the hyphen)
    and another one surrounding “od”.'
  id: totrans-961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个词在换行处被连字符分隔，仍然会被找到。例如，“method”将被找到，即使在换行处作为“meth-od”出现，也会返回两个矩形：一个围绕“meth”（没有连字符）和另一个围绕“od”。
- en: Note
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The method supports multi-line text marker annotations: you can use the full
    returned list as **one single** parameter for creating the annotation.'
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法支持多行文本标记注释：您可以使用完整的返回列表作为**一个单一的**参数来创建注释。
- en: Caution
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'There is a tricky aspect: the search logic regards **contiguous multiple occurrences**
    of *needle* as one: assuming *needle* is “abc”, and the page contains “abc” and
    “abcabc”, then only **two** rectangles will be returned, one for “abc”, and a
    second one for “abcabc”.'
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有一个棘手的方面：搜索逻辑将**连续的多次出现**的*needle*视为一个整体：假设*needle*是“abc”，并且页面包含“abc”和“abcabc”，那么仅会返回**两个**矩形，一个是“abc”，第二个是“abcabc”。
- en: You can always use [`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")
    to check what text actually is being surrounded by each rectangle.
  id: totrans-966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您始终可以使用[`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")来检查每个矩形周围实际包含的文本。
- en: Note
  id: totrans-967
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'A feature repeatedly asked for is supporting **regular expressions** when specifying
    the `"needle"` string: **There is no way to do this.** If you need something in
    that direction, first extract text in the desired format and then subselect the
    result by matching with some regex pattern. Here is an example for matching words:'
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: 支持在指定`"needle"`字符串时使用**正则表达式**是一个反复要求的功能：**这是不可能的。**如果你需要这方面的功能，首先提取所需格式的文本，然后通过与某些正则表达式模式匹配来选择结果。以下是匹配单词的示例：
- en: '[PRE83]'
  id: totrans-969
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: The `matches` list will contain the words matching the given pattern. In the
    same way you can select `span["text"]` from the output of `page.get_text("dict")`.
  id: totrans-970
  prefs: []
  type: TYPE_NORMAL
  zh: 列表`matches`将包含与给定模式匹配的单词。同样的方法，您可以从`page.get_text("dict")`的输出中选择`span["text"]`。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.2:
    added `clip` parameter. Remove `hit_max` parameter. Add default “dehyphenate”.'
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 于v1.18.2中更改：添加`clip`参数。移除`hit_max`参数。添加默认的“去连字符化”。
- en: 'Changed in v1.19.0: added [TextPage](textpage.html) parameter.'
  id: totrans-972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 于v1.19.0中更改：添加[TextPage](textpage.html)参数。
- en: '[PRE84]'
  id: totrans-973
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'PDF only: Change the physical page dimension by setting [`mediabox`](#Page.mediabox
    "Page.mediabox") in the page’s object definition.'
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：通过在页面对象定义中设置[`mediabox`](#Page.mediabox "Page.mediabox")来更改物理页面尺寸。
- en: 'Parameters:'
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect-like*) – the new [`mediabox`](#Page.mediabox "Page.mediabox")
    value.'
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: '**r**（*类似于矩形*）— 新的[`mediabox`](#Page.mediabox "Page.mediabox")值。'
- en: Note
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method also removes the page’s other (optional) rectangles ([`cropbox`](#Page.cropbox
    "Page.cropbox"), ArtBox, TrimBox and Bleedbox) to prevent inconsistent situations.
    This will cause those to assume their default values.
  id: totrans-978
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法还会移除页面的其他（可选的）矩形（[`cropbox`](#Page.cropbox "Page.cropbox")、ArtBox、TrimBox和Bleedbox），以防止出现不一致的情况。这将导致它们假定其默认值。
- en: Caution
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For non-empty pages this may have undesired effects, because the location of
    all content depends on this value and will therefore change position or even disappear.
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非空页面，这可能会产生不良影响，因为所有内容的位置都取决于此值，因此位置会发生变化，甚至可能会消失。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.13
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.16.13
- en: 'Changed in v1.19.4: remove all other rectangle definitions.'
  id: totrans-982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 于v1.19.4中更改：移除所有其他矩形定义。
- en: '[PRE85]'
  id: totrans-983
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'PDF only: change the visible part of the page.'
  id: totrans-984
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：更改页面的可见部分。
- en: 'Parameters:'
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect_like*) – the new visible area of the page. Note that this **must**
    be specified in **unrotated coordinates**, not empty, nor infinite and be completely
    contained in the [`Page.mediabox`](#Page.mediabox "Page.mediabox").'
  id: totrans-986
  prefs: []
  type: TYPE_NORMAL
  zh: '**r**（*类似于矩形*）— 页面的新可见区域。请注意，这**必须**在**未旋转的坐标**中指定，不能是空的，也不能是无限的，并且完全包含在[`Page.mediabox`](#Page.mediabox
    "Page.mediabox")中。 '
- en: 'After execution **(if the page is not rotated)**, [`Page.rect`](#Page.rect
    "Page.rect") will equal this rectangle, but be shifted to the top-left position
    (0, 0) if necessary. Example session:'
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行后**(如果页面未旋转)**，[`Page.rect`](#Page.rect "Page.rect")将等于该矩形，但如果有必要，将其移至左上角位置（0,
    0）。示例会话：
- en: '[PRE86]'
  id: totrans-988
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: '[PRE87]'
  id: totrans-989
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: '[PRE88]'
  id: totrans-990
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: '[PRE89]'
  id: totrans-991
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'PDF only: Set the resp. rectangle in the page object. For the meaning of these
    objects see [Adobe PDF References](app3.html#adobemanual), page 77\. Parameter
    and restrictions are the same as for [`Page.set_cropbox()`](#Page.set_cropbox
    "Page.set_cropbox").'
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：在页面对象中设置相应的矩形。有关这些对象的含义，请参见[Adobe PDF参考手册](app3.html#adobemanual)，第77页。参数和限制与[`Page.set_cropbox()`](#Page.set_cropbox
    "Page.set_cropbox")相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.4
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 新增于v1.19.4
- en: '[PRE90]'
  id: totrans-994
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'Contains the rotation of the page in degrees (always 0 for non-PDF types).
    This is a copy of the value in the PDF file. The PDF documentation says:'
  id: totrans-995
  prefs: []
  type: TYPE_NORMAL
  zh: 页面以度数表示的旋转角度（非 PDF 类型始终为 0）。这是 PDF 文件中的值的副本。PDF 文档说明如下：
- en: '*“The number of degrees by which the page should be rotated clockwise when
    displayed or printed. The value must be a multiple of 90\. Default value: 0.”*'
  id: totrans-996
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*“显示或打印页面时，页面应顺时针旋转的角度。该值必须是 90 的倍数。默认值：0。”*'
- en: ''
  id: totrans-997
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In PyMuPDF, we make sure that this attribute is always one of 0, 90, 180 or
    270.
  id: totrans-998
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 PyMuPDF 中，我们确保此属性始终为 0、90、180 或 270 中的一个。
- en: 'Type:'
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-1000
  prefs: []
  type: TYPE_NORMAL
  zh: 整型
- en: '[PRE91]'
  id: totrans-1001
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: Contains the top-left point of the page’s `/CropBox` for a PDF, otherwise *Point(0,
    0)*.
  id: totrans-1002
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 PDF 文档中页面的 `/CropBox` 的左上角点，否则为 *Point(0, 0)*。
- en: 'Type:'
  id: totrans-1003
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: '[点](point.html#point)'
- en: '[PRE92]'
  id: totrans-1005
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: The page’s `/CropBox` for a PDF. Always the **unrotated** page rectangle is
    returned. For a non-PDF this will always equal the page rectangle.
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 PDF 文档，页面的 `/CropBox` 始终返回未旋转的页面矩形。对于非 PDF 文档，这将始终等于页面矩形。
- en: Note
  id: totrans-1007
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In PDF, the relationship between `/MediaBox`, `/CropBox` and page rectangle
    may sometimes be confusing, please do lookup the glossary for [`MediaBox`](glossary.html#MediaBox
    "MediaBox").
  id: totrans-1008
  prefs: []
  type: TYPE_NORMAL
  zh: 在 PDF 中，`/MediaBox`、`/CropBox` 和页面矩形之间的关系有时可能令人困惑，请查阅词汇表获取 [`MediaBox`](glossary.html#MediaBox
    "MediaBox") 的详细信息。
- en: 'Type:'
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1010
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '[PRE93]'
  id: totrans-1011
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '[PRE94]'
  id: totrans-1012
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: '[PRE95]'
  id: totrans-1013
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: The page’s `/ArtBox`, `/BleedBox`, `/TrimBox`, respectively. If not provided,
    defaulting to [`Page.cropbox`](#Page.cropbox "Page.cropbox").
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的 `/ArtBox`、`/BleedBox`、`/TrimBox`。如果未提供，则默认为 [`Page.cropbox`](#Page.cropbox
    "Page.cropbox")。
- en: 'Type:'
  id: totrans-1015
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '[PRE96]'
  id: totrans-1017
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: Contains the width and height of the page’s [`Page.mediabox`](#Page.mediabox
    "Page.mediabox") for a PDF, otherwise the bottom-right coordinates of [`Page.rect`](#Page.rect
    "Page.rect").
  id: totrans-1018
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 PDF 页面的 [`Page.mediabox`](#Page.mediabox "Page.mediabox") 的宽度和高度，否则包含 [`Page.rect`](#Page.rect
    "Page.rect") 的右下坐标。
- en: 'Type:'
  id: totrans-1019
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: '[点](point.html#point)'
- en: '[PRE97]'
  id: totrans-1021
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: The page’s [`mediabox`](#Page.mediabox "Page.mediabox") for a PDF, otherwise
    [`Page.rect`](#Page.rect "Page.rect").
  id: totrans-1022
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的 [`mediabox`](#Page.mediabox "Page.mediabox")，否则 [`Page.rect`](#Page.rect
    "Page.rect")。
- en: 'Type:'
  id: totrans-1023
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1024
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: Note
  id: totrans-1025
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For most PDF documents and for **all other document types**, `page.rect == page.cropbox
    == page.mediabox` is true. However, for some PDFs the visible page is a true subset
    of [`mediabox`](#Page.mediabox "Page.mediabox"). Also, if the page is rotated,
    its [`Page.rect`](#Page.rect "Page.rect") may not equal [`Page.cropbox`](#Page.cropbox
    "Page.cropbox"). In these cases the above attributes help to correctly locate
    page elements.
  id: totrans-1026
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数 PDF 文档和所有其他文档类型，`page.rect == page.cropbox == page.mediabox` 为真。然而，对于某些
    PDF，可见页面是 [`mediabox`](#Page.mediabox "Page.mediabox") 的真子集。此外，如果页面被旋转，其 [`Page.rect`](#Page.rect
    "Page.rect") 可能不等于 [`Page.cropbox`](#Page.cropbox "Page.cropbox")。在这些情况下，上述属性有助于正确定位页面元素。
- en: '[PRE98]'
  id: totrans-1027
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: This matrix translates coordinates from the PDF space to the MuPDF space. For
    example, in PDF `/Rect [x0 y0 x1 y1]` the pair (x0, y0) specifies the **bottom-left**
    point of the rectangle – in contrast to MuPDF’s system, where (x0, y0) specify
    top-left. Multiplying the PDF coordinates with this matrix will deliver the (Py-)
    MuPDF rectangle version. Obviously, the inverse matrix will again yield the PDF
    rectangle.
  id: totrans-1028
  prefs: []
  type: TYPE_NORMAL
  zh: 此矩阵将 PDF 空间中的坐标转换为 MuPDF 空间中的坐标。例如，在 PDF 中，`/Rect [x0 y0 x1 y1]` 中的 (x0, y0)
    指定了矩形的左下角点，而在 MuPDF 的系统中，(x0, y0) 指定了左上角。将 PDF 坐标乘以此矩阵将得到（Py-）MuPDF 矩形版本。显然，反向矩阵将再次生成
    PDF 矩形。
- en: 'Type:'
  id: totrans-1029
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-1030
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE99]'
  id: totrans-1031
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '[PRE100]'
  id: totrans-1032
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'These matrices may be used for dealing with rotated PDF pages. When adding
    / inserting anything to a PDF page, the coordinates of the **unrotated** page
    are always used. These matrices help translating between the two states. Example:
    if a page is rotated by 90 degrees – what would then be the coordinates of the
    top-left Point(0, 0) of an A4 page?'
  id: totrans-1033
  prefs: []
  type: TYPE_NORMAL
  zh: 这些矩阵可用于处理旋转的 PDF 页面。向 PDF 页面添加或插入任何内容时，始终使用未旋转页面的坐标。这些矩阵有助于在两种状态之间进行转换。例如：如果页面顺时针旋转
    90 度，则 A4 页面左上角点(0, 0)的坐标是多少？
- en: '[PRE101]'
  id: totrans-1034
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'Type:'
  id: totrans-1035
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-1036
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE102]'
  id: totrans-1037
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: Contains the first [Link](link.html#link) of a page (or *None*).
  id: totrans-1038
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个 [链接](link.html#link)（或 *None*）。
- en: 'Type:'
  id: totrans-1039
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Link](link.html#link)'
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: '[PRE103]'
  id: totrans-1041
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: Contains the first [Annot](annot.html#annot) of a page (or *None*).
  id: totrans-1042
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个 [注释](annot.html#annot)（或 *None*）。
- en: 'Type:'
  id: totrans-1043
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1044
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: '[PRE104]'
  id: totrans-1045
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: Contains the first [Widget](widget.html#widget) of a page (or *None*).
  id: totrans-1046
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个 [小部件](widget.html#widget)（或 *None*）。
- en: 'Type:'
  id: totrans-1047
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-1048
  prefs: []
  type: TYPE_NORMAL
  zh: '[小部件](widget.html#widget)'
- en: '[PRE105]'
  id: totrans-1049
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: The page number.
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: 页面编号。
- en: 'Type:'
  id: totrans-1051
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-1052
  prefs: []
  type: TYPE_NORMAL
  zh: 整数
- en: '[PRE106]'
  id: totrans-1053
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: The owning document object.
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有的文档对象。
- en: 'Type:'
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Document](document.html#document)'
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: '[Document](document.html#document)'
- en: '[PRE107]'
  id: totrans-1057
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: Contains the rectangle of the page. Same as result of [`Page.bound()`](#Page.bound
    "Page.bound").
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的矩形。与[`Page.bound()`](#Page.bound "Page.bound")的结果相同。
- en: 'Type:'
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE108]'
  id: totrans-1061
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: The page’s PDF [`xref`](glossary.html#xref "xref"). Zero if not a PDF.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的PDF[`xref`](glossary.html#xref "xref")。如果不是PDF，则为零。
- en: 'Type:'
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '* * *  ## Description of *get_links()* Entries'
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *  ## *get_links()* 条目的描述'
- en: 'Each entry of the [`Page.get_links()`](#Page.get_links "Page.get_links") list
    is a dictionary with the following keys:'
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: 每个[`Page.get_links()`](#Page.get_links "Page.get_links")列表项都是一个包含以下键的字典：
- en: '*kind*: (required) an integer indicating the kind of link. This is one of *LINK_NONE*,
    *LINK_GOTO*, *LINK_GOTOR*, *LINK_LAUNCH*, or *LINK_URI*. For values and meaning
    of these names refer to [Link Destination Kinds](vars.html#linkdest-kinds).'
  id: totrans-1067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*kind*：（必需）指示链接类型的整数。这是*LINK_NONE*、*LINK_GOTO*、*LINK_GOTOR*、*LINK_LAUNCH*或*LINK_URI*之一。有关这些名称的值和含义，请参阅[链接目标类型](vars.html#linkdest-kinds)。'
- en: '*from*: (required) a [Rect](rect.html#rect) describing the “hot spot” location
    on the page’s visible representation (where the cursor changes to a hand image,
    usually).'
  id: totrans-1068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*from*：（必需）描述页面可见表示中的“热点”位置的[Rect](rect.html#rect)（光标通常会变成手形图像）。'
- en: '*page*: a 0-based integer indicating the destination page. Required for *LINK_GOTO*
    and *LINK_GOTOR*, else ignored.'
  id: totrans-1069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*page*：指示目标页面的基于0的整数。对于*LINK_GOTO*和*LINK_GOTOR*必需，否则忽略。'
- en: '*to*: either a *pymupdf.Point*, specifying the destination location on the
    provided page, default is *pymupdf.Point(0, 0)*, or a symbolic (indirect) name.
    If an indirect name is specified, *page = -1* is required and the name must be
    defined in the PDF in order for this to work. Required for *LINK_GOTO* and *LINK_GOTOR*,
    else ignored.'
  id: totrans-1070
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*to*：要么是*pymupdf.Point*，指定提供页面上的目标位置，默认为*pymupdf.Point(0, 0)*，或者是一个符号（间接）名称。如果指定了间接名称，则需要*page
    = -1*并且该名称必须在PDF中定义，以使其有效。对于*LINK_GOTO*和*LINK_GOTOR*必需，否则忽略。'
- en: '*file*: a string specifying the destination file. Required for *LINK_GOTOR*
    and *LINK_LAUNCH*, else ignored.'
  id: totrans-1071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*file*：指定目标文件的字符串。对于*LINK_GOTOR*和*LINK_LAUNCH*必需，否则忽略。'
- en: '*uri*: a string specifying the destination internet resource. Required for
    *LINK_URI*, else ignored. You should make sure to start this string with an unambiguous
    substring, that classifies the subtype of the URL, like `"http://"`, `"https://"`,
    `"file://"`, `"ftp://"`, `"mailto:"`, etc. Otherwise your browser will try to
    interpret the text and come to unwanted / unexpected conclusions about the intended
    URL type.'
  id: totrans-1072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*uri*：指定目标互联网资源的字符串。对于*LINK_URI*必需，否则忽略。你应该确保该字符串以一个明确的子字符串开头，以区分URL的子类型，比如`"http://"`、`"https://"`、`"file://"`、`"ftp://"`、`"mailto:"`等。否则你的浏览器会试图解释文本，并对预期的URL类型产生不必要或意外的推断。'
- en: '*xref*: an integer specifying the PDF [`xref`](glossary.html#xref "xref") of
    the link object. Do not change this entry in any way. Required for link deletion
    and update, otherwise ignored. For non-PDF documents, this entry contains *-1*.
    It is also *-1* for **all** entries in the *get_links()* list, if **any** of the
    links is not supported by MuPDF - see [Notes on Supporting Links](#notes-on-supporting-links).  ##
    Notes on Supporting Links'
  id: totrans-1073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*xref*：指定链接对象的PDF[`xref`](glossary.html#xref "xref")的整数。不要更改此条目。对于链接的删除和更新是必需的，否则忽略。对于非PDF文档，如果任何链接不受MuPDF支持，则此条目包含*-1*。对于*get_links()*列表中的**所有**条目，如果任何链接不受MuPDF支持，则也为*-1*。参见[支持链接的注意事项](#notes-on-supporting-links)。'
- en: MuPDF’s support for links has changed in **v1.10a**. These changes affect link
    types [`LINK_GOTO`](vars.html#LINK_GOTO "LINK_GOTO") and [`LINK_GOTOR`](vars.html#LINK_GOTOR
    "LINK_GOTOR").
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: MuPDF在**v1.10a**中对链接的支持已有所更改。这些更改影响了[`LINK_GOTO`](vars.html#LINK_GOTO "LINK_GOTO")和[`LINK_GOTOR`](vars.html#LINK_GOTOR
    "LINK_GOTOR")链接类型。
- en: Reading (pertains to method *get_links()* and the *first_link* property chain)
  id: totrans-1075
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阅读（涉及*get_links()*方法和*first_link*属性链）
- en: If MuPDF detects a link to another file, it will supply either a *LINK_GOTOR*
    or a *LINK_LAUNCH* link kind. In case of *LINK_GOTOR* destination details may
    either be given as page number (eventually including position information), or
    as an indirect destination.
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: 如果MuPDF检测到一个指向另一个文件的链接，则将提供*LINK_GOTOR*或*LINK_LAUNCH*链接类型之一。在*LINK_GOTOR*目标详情的情况下，可能会给出页面号码（最终包括位置信息）或间接目标。
- en: If an indirect destination is given, then this is indicated by *page = -1*,
    and *link.dest.dest* will contain this name. The dictionaries in the *get_links()*
    list will contain this information as the *to* value.
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: 如果给定了间接目标，则通过 *page = -1* 指示，并且 *link.dest.dest* 将包含此名称。 *get_links()* 列表中的字典将其作为
    *to* 值包含此信息。
- en: '**Internal links are always** of kind *LINK_GOTO*. If an internal link specifies
    an indirect destination, it **will always be resolved** and the resulting direct
    destination will be returned. Names are **never returned for internal links**,
    and undefined destinations will cause the link to be ignored.'
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: '**内部链接始终** 是 *LINK_GOTO* 类型。如果内部链接指定了间接目标，则**始终会解析**并返回结果的直接目标。名称**永远不会**对内部链接返回，并且未定义的目标将导致忽略该链接。'
- en: Writing
  id: totrans-1079
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 写作
- en: PyMuPDF writes (updates, inserts) links by constructing and writing the appropriate
    PDF object **source**. This makes it possible to specify indirect destinations
    for *LINK_GOTOR* **and** *LINK_GOTO* link kinds (pre *PDF 1.2* file formats are
    **not supported**).
  id: totrans-1080
  prefs: []
  type: TYPE_NORMAL
  zh: PyMuPDF 通过构造和写入适当的 PDF 对象 **source** 来编写（更新，插入）链接。这使得可以为 *LINK_GOTOR* **和**
    *LINK_GOTO* 链接类型（*PDF 1.2* 之前的文件格式 **不受支持**）指定间接目标。
- en: Warning
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: If a *LINK_GOTO* indirect destination specifies an undefined name, this link
    can later on not be found / read again with MuPDF / PyMuPDF. Other readers however
    **will** detect it, but flag it as erroneous.
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 *LINK_GOTO* 间接目标指定了未定义的名称，则 MuPDF / PyMuPDF 以后可能无法找到/重新读取此链接。其他阅读器将会检测到它，但会标记为错误。
- en: Indirect *LINK_GOTOR* destinations can in general of course not be checked for
    validity and are therefore **always accepted**.
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: 总体上，间接 *LINK_GOTOR* 目标当然无法检查其有效性，因此**始终会被接受**。
- en: '**Example: How to insert a link pointing to another page in the same document**'
  id: totrans-1084
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：如何在同一文档中插入指向另一页的链接**'
- en: Determine the rectangle on the current page, where the link should be placed.
    This may be the bbox of an image or some text.
  id: totrans-1085
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定应放置链接的当前页面的矩形。这可能是图像或某些文本的bbox。
- en: Determine the target page number (“pno”, 0-based) and a [Point](point.html#point)
    on it, where the link should be directed to.
  id: totrans-1086
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定链接应放置在当前页面上的目标页面号（“pno”，基于 0），以及 [Point](point.html#point) 在其上的位置。
- en: 'Create a dictionary `d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox,
    "to": point}`.'
  id: totrans-1087
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '创建一个字典 `d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox, "to": point}`。'
- en: Execute `page.insert_link(d)`.
  id: totrans-1088
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行 `page.insert_link(d)`。
- en: Homologous Methods of [Document](document.html#document) and [Page](#page)
  id: totrans-1089
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[Document](document.html#document) 和 [Page](#page) 的同源方法'
- en: This is an overview of homologous methods on the [Document](document.html#document)
    and on the [Page](#page) level.
  id: totrans-1090
  prefs: []
  type: TYPE_NORMAL
  zh: 这是对 [Document](document.html#document) 和 [Page](#page) 级别同源方法的概述。
- en: '| **Document Level** | **Page Level** |'
  id: totrans-1091
  prefs: []
  type: TYPE_TB
  zh: '| **Document Level** | **Page Level** |'
- en: '| --- | --- |'
  id: totrans-1092
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *Document.get_page_fonts(pno)* | [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")
    |'
  id: totrans-1093
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_fonts(pno)* | [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")
    |'
- en: '| *Document.get_page_images(pno)* | [`Page.get_images()`](#Page.get_images
    "Page.get_images") |'
  id: totrans-1094
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_images(pno)* | [`Page.get_images()`](#Page.get_images
    "Page.get_images") |'
- en: '| *Document.get_page_pixmap(pno, …)* | [`Page.get_pixmap()`](#Page.get_pixmap
    "Page.get_pixmap") |'
  id: totrans-1095
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_pixmap(pno, …)* | [`Page.get_pixmap()`](#Page.get_pixmap
    "Page.get_pixmap") |'
- en: '| *Document.get_page_text(pno, …)* | [`Page.get_text()`](#Page.get_text "Page.get_text")
    |'
  id: totrans-1096
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_text(pno, …)* | [`Page.get_text()`](#Page.get_text "Page.get_text")
    |'
- en: '| *Document.search_page_for(pno, …)* | [`Page.search_for()`](#Page.search_for
    "Page.search_for") |'
  id: totrans-1097
  prefs: []
  type: TYPE_TB
  zh: '| *Document.search_page_for(pno, …)* | [`Page.search_for()`](#Page.search_for
    "Page.search_for") |'
- en: The page number “pno” is a 0-based integer `-∞ < pno < page_count`.
  id: totrans-1098
  prefs: []
  type: TYPE_NORMAL
  zh: 页面号 “pno” 是一个基于 0 的整数 `-∞ < pno < page_count`。
- en: Note
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Most document methods (left column) exist for convenience reasons, and are
    just wrappers for: *Document[pno].<page method>*. So they **load and discard the
    page** on each execution.'
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数文档方法（左列）仅出于方便而存在，并只是：*Document[pno].<page method>* 的包装器。因此它们在每次执行时**加载并且丢弃页面**。
- en: 'However, the first two methods work differently. They only need a page’s object
    definition statement - the page itself will **not** be loaded. So e.g. [`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts") is a wrapper the other way round and defined as follows: *page.get_fonts
    == page.parent.get_page_fonts(page.number)*.'
  id: totrans-1101
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，前两种方法的工作方式不同。它们只需要页面的对象定义语句 - 页面本身将**不会**被加载。例如 [`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts") 是一个反向包装器，并定义如下：*page.get_fonts == page.parent.get_page_fonts(page.number)*。
- en: Footnotes
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
  zh: 脚注
- en: Do you have any feedback on this page?
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
  zh: 对此页面有任何反馈意见吗？
- en: '* * *'
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-1105
  prefs: []
  type: TYPE_NORMAL
  zh: 该软件按原样提供，不附带任何明示或暗示的担保。该软件在许可下分发，并且未经许可不得复制、修改或分发。有关许可信息，请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)，或联系位于美国加利福尼亚州旧金山94129
    Mesa街108A号的Artifex Software Inc.获取更多信息。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
  zh: 此文档涵盖所有1.24.4版本。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
- en: Modifying Pages
  id: totrans-1108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修改页面
- en: Changing page properties and adding or changing page content is available for
    PDF documents only.
  id: totrans-1109
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF文档的更改页面属性和添加或更改页面内容。
- en: 'In a nutshell, this is what you can do with PyMuPDF:'
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，这就是您可以使用PyMuPDF做的事情：
- en: Modify page rotation and the visible part (“cropbox”) of the page.
  id: totrans-1111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改页面旋转和页面的可见部分（“裁剪框”）。
- en: Insert images, other PDF pages, text and simple geometrical objects.
  id: totrans-1112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插入图像、其他PDF页面、文本和简单的几何对象。
- en: Add annotations and form fields.
  id: totrans-1113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加注释和表单字段。
- en: Note
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Methods require coordinates (points, rectangles) to put content in desired
    places. Please be aware that these coordinates **must always** be provided relative
    to the **unrotated** page (since v1.17.0). The reverse is also true: except [`Page.rect`](#Page.rect
    "Page.rect"), resp. [`Page.bound()`](#Page.bound "Page.bound") (both *reflect*
    when the page is rotated), all coordinates returned by methods and attributes
    pertain to the unrotated page.'
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: 方法需要坐标（点、矩形），以将内容放置在所需位置。请注意，这些坐标**必须始终**相对于**未旋转的**页面（自v1.17.0起）。反之亦然：除了[`Page.rect`](#Page.rect
    "Page.rect")和[`Page.bound()`](#Page.bound "Page.bound")（反映页面旋转时），方法和属性返回的所有坐标都适用于未旋转的页面。
- en: So the returned value of e.g. [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") will not change if you do a [`Page.set_rotation()`](#Page.set_rotation
    "Page.set_rotation"). The same is true for coordinates returned by [`Page.get_text()`](#Page.get_text
    "Page.get_text"), annotation rectangles, and so on. If you want to find out, where
    an object is located in **rotated coordinates**, multiply the coordinates with
    [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix"). There
    also is its inverse, [`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix"),
    which you can use when interfacing with other readers, which may behave differently
    in this respect.
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")的返回值不会因为您执行[`Page.set_rotation()`](#Page.set_rotation
    "Page.set_rotation")而改变。对[`Page.get_text()`](#Page.get_text "Page.get_text")返回的坐标、注释矩形等也是如此。如果您想找出对象在**旋转坐标**中的位置，请使用[`Page.rotation_matrix`](#Page.rotation_matrix
    "Page.rotation_matrix")将坐标乘以其值。同样，它的逆矩阵是[`Page.derotation_matrix`](#Page.derotation_matrix
    "Page.derotation_matrix")，在与其他阅读器进行接口时可能表现出不同的行为时可以使用。
- en: Note
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you add or update annotations, links or form fields on the page and immediately
    afterwards need to work with them (i.e. **without leaving the page**), you should
    reload the page using [`Document.reload_page()`](document.html#Document.reload_page
    "Document.reload_page") before referring to these new or updated items.
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在页面上添加或更新注释、链接或表单字段，并且随后需要立即处理它们（即**在离开页面之前**），您应该使用[`Document.reload_page()`](document.html#Document.reload_page
    "Document.reload_page")重新加载页面，以便引用这些新的或更新的项目。
- en: Reloading the page is generally recommended – although not strictly required
    in all cases. However, some annotation and widget types have extended features
    in PyMuPDF compared to MuPDF. More of these extensions may also be added in the
    future.
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: 通常建议重新加载页面，尽管并非在所有情况下都严格要求。但是，与MuPDF相比，PyMuPDF在某些注释和小部件类型上具有扩展功能。将来可能还会添加更多这些扩展功能。
- en: Releoading the page ensures all your changes have been fully applied to PDF
    structures, so you can safely create Pixmaps or successfully iterate over annotations,
    links and form fields.
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载页面确保所有更改都已完全应用于PDF结构，因此您可以安全地创建位图或成功迭代注释、链接和表单字段。
- en: '| **Method / Attribute** | **Short Description** |'
  id: totrans-1121
  prefs: []
  type: TYPE_TB
  zh: '| **方法/属性** | **简短描述** |'
- en: '| --- | --- |'
  id: totrans-1122
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| [`Page.add_caret_annot()`](#Page.add_caret_annot "Page.add_caret_annot")
    | PDF only: add a caret annotation |'
  id: totrans-1123
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_caret_annot()`](#Page.add_caret_annot "Page.add_caret_annot") |
    仅适用于PDF：添加插入符注释 |'
- en: '| [`Page.add_circle_annot()`](#Page.add_circle_annot "Page.add_circle_annot")
    | PDF only: add a circle annotation |'
  id: totrans-1124
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_circle_annot()`](#Page.add_circle_annot "Page.add_circle_annot")
    | 仅适用于PDF：添加圆形注释 |'
- en: '| [`Page.add_file_annot()`](#Page.add_file_annot "Page.add_file_annot") | PDF
    only: add a file attachment annotation |'
  id: totrans-1125
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_file_annot()`](#Page.add_file_annot "Page.add_file_annot") | 仅适用于PDF：添加文件附件注释
    |'
- en: '| [`Page.add_freetext_annot()`](#Page.add_freetext_annot "Page.add_freetext_annot")
    | PDF only: add a text annotation |'
  id: totrans-1126
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_freetext_annot()`](#Page.add_freetext_annot "Page.add_freetext_annot")
    | 仅适用于PDF：添加文本注释 |'
- en: '| [`Page.add_highlight_annot()`](#Page.add_highlight_annot "Page.add_highlight_annot")
    | PDF only: add a “highlight” annotation |'
  id: totrans-1127
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_highlight_annot()`](#Page.add_highlight_annot "Page.add_highlight_annot")
    | 仅适用于PDF：添加“高亮”注释 |'
- en: '| [`Page.add_ink_annot()`](#Page.add_ink_annot "Page.add_ink_annot") | PDF
    only: add an ink annotation |'
  id: totrans-1128
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_ink_annot()`](#Page.add_ink_annot "Page.add_ink_annot") | 仅适用于PDF：添加墨迹注释
    |'
- en: '| [`Page.add_line_annot()`](#Page.add_line_annot "Page.add_line_annot") | PDF
    only: add a line annotation |'
  id: totrans-1129
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_line_annot()`](#Page.add_line_annot "Page.add_line_annot") | 仅适用于PDF：添加线条注释
    |'
- en: '| [`Page.add_polygon_annot()`](#Page.add_polygon_annot "Page.add_polygon_annot")
    | PDF only: add a polygon annotation |'
  id: totrans-1130
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_polygon_annot()`](#Page.add_polygon_annot "Page.add_polygon_annot")
    | 仅适用于PDF：添加多边形注释 |'
- en: '| [`Page.add_polyline_annot()`](#Page.add_polyline_annot "Page.add_polyline_annot")
    | PDF only: add a multi-line annotation |'
  id: totrans-1131
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_polyline_annot()`](#Page.add_polyline_annot "Page.add_polyline_annot")
    | 仅适用于PDF：添加多行注释 |'
- en: '| [`Page.add_rect_annot()`](#Page.add_rect_annot "Page.add_rect_annot") | PDF
    only: add a rectangle annotation |'
  id: totrans-1132
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_rect_annot()`](#Page.add_rect_annot "Page.add_rect_annot") | 仅适用于PDF：添加矩形注释
    |'
- en: '| [`Page.add_redact_annot()`](#Page.add_redact_annot "Page.add_redact_annot")
    | PDF only: add a redaction annotation |'
  id: totrans-1133
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_redact_annot()`](#Page.add_redact_annot "Page.add_redact_annot")
    | 仅适用于PDF：添加删除注释 |'
- en: '| [`Page.add_squiggly_annot()`](#Page.add_squiggly_annot "Page.add_squiggly_annot")
    | PDF only: add a “squiggly” annotation |'
  id: totrans-1134
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_squiggly_annot()`](#Page.add_squiggly_annot "Page.add_squiggly_annot")
    | 仅适用于PDF：添加“波浪线”注释 |'
- en: '| [`Page.add_stamp_annot()`](#Page.add_stamp_annot "Page.add_stamp_annot")
    | PDF only: add a “rubber stamp” annotation |'
  id: totrans-1135
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_stamp_annot()`](#Page.add_stamp_annot "Page.add_stamp_annot") |
    仅适用于PDF：添加“印章”注释 |'
- en: '| [`Page.add_strikeout_annot()`](#Page.add_strikeout_annot "Page.add_strikeout_annot")
    | PDF only: add a “strike-out” annotation |'
  id: totrans-1136
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_strikeout_annot()`](#Page.add_strikeout_annot "Page.add_strikeout_annot")
    | 仅适用于PDF：添加“删除线”注释 |'
- en: '| [`Page.add_text_annot()`](#Page.add_text_annot "Page.add_text_annot") | PDF
    only: add a comment |'
  id: totrans-1137
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_text_annot()`](#Page.add_text_annot "Page.add_text_annot") | 仅适用于PDF：添加评论
    |'
- en: '| [`Page.add_underline_annot()`](#Page.add_underline_annot "Page.add_underline_annot")
    | PDF only: add an “underline” annotation |'
  id: totrans-1138
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_underline_annot()`](#Page.add_underline_annot "Page.add_underline_annot")
    | 仅适用于PDF：添加“下划线”注释 |'
- en: '| [`Page.add_widget()`](#Page.add_widget "Page.add_widget") | PDF only: add
    a PDF Form field |'
  id: totrans-1139
  prefs: []
  type: TYPE_TB
  zh: '[`Page.add_widget()`](#Page.add_widget "Page.add_widget") | 仅适用于PDF：添加PDF表单字段
    |'
- en: '| [`Page.annot_names()`](#Page.annot_names "Page.annot_names") | PDF only:
    a list of annotation (and widget) names |'
  id: totrans-1140
  prefs: []
  type: TYPE_TB
  zh: '[`Page.annot_names()`](#Page.annot_names "Page.annot_names") | 仅适用于PDF：注释（及小部件）名称列表
    |'
- en: '| [`Page.annot_xrefs()`](#Page.annot_xrefs "Page.annot_xrefs") | PDF only:
    a list of annotation (and widget) xrefs |'
  id: totrans-1141
  prefs: []
  type: TYPE_TB
  zh: '[`Page.annot_xrefs()`](#Page.annot_xrefs "Page.annot_xrefs") | 仅适用于PDF：注释（及小部件）的交叉引用列表
    |'
- en: '| [`Page.annots()`](#Page.annots "Page.annots") | return a generator over the
    annots on the page |'
  id: totrans-1142
  prefs: []
  type: TYPE_TB
  zh: '[`Page.annots()`](#Page.annots "Page.annots") | 返回页面上的注释生成器 |'
- en: '| [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    | PDF only: process the redactions of the page |'
  id: totrans-1143
  prefs: []
  type: TYPE_TB
  zh: '[`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    | 仅适用于PDF：处理页面的删除内容 |'
- en: '| [`Page.bound()`](#Page.bound "Page.bound") | rectangle of the page |'
  id: totrans-1144
  prefs: []
  type: TYPE_TB
  zh: '[`Page.bound()`](#Page.bound "Page.bound") | 页面的矩形边界 |'
- en: '| [`Page.cluster_drawings()`](#Page.cluster_drawings "Page.cluster_drawings")
    | PDF only: bounding boxes of vector graphics |'
  id: totrans-1145
  prefs: []
  type: TYPE_TB
  zh: '[`Page.cluster_drawings()`](#Page.cluster_drawings "Page.cluster_drawings")
    | 仅适用于PDF：矢量图形的边界框 |'
- en: '| [`Page.delete_annot()`](#Page.delete_annot "Page.delete_annot") | PDF only:
    delete an annotation |'
  id: totrans-1146
  prefs: []
  type: TYPE_TB
  zh: '[`Page.delete_annot()`](#Page.delete_annot "Page.delete_annot") | 仅适用于PDF：删除注释
    |'
- en: '| [`Page.delete_image()`](#Page.delete_image "Page.delete_image") | PDF only:
    delete an image |'
  id: totrans-1147
  prefs: []
  type: TYPE_TB
  zh: '[`Page.delete_image()`](#Page.delete_image "Page.delete_image") | 仅适用于PDF：删除图像
    |'
- en: '| [`Page.delete_link()`](#Page.delete_link "Page.delete_link") | PDF only:
    delete a link |'
  id: totrans-1148
  prefs: []
  type: TYPE_TB
  zh: '[`Page.delete_link()`](#Page.delete_link "Page.delete_link") | 仅适用于PDF：删除链接
    |'
- en: '| [`Page.delete_widget()`](#Page.delete_widget "Page.delete_widget") | PDF
    only: delete a widget / field |'
  id: totrans-1149
  prefs: []
  type: TYPE_TB
  zh: '[`Page.delete_widget()`](#Page.delete_widget "Page.delete_widget") | 仅PDF：删除小部件/字段
    |'
- en: '| [`Page.draw_bezier()`](#Page.draw_bezier "Page.draw_bezier") | PDF only:
    draw a cubic Bezier curve |'
  id: totrans-1150
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_bezier()`](#Page.draw_bezier "Page.draw_bezier") | 仅PDF：绘制三次贝塞尔曲线
    |'
- en: '| [`Page.draw_circle()`](#Page.draw_circle "Page.draw_circle") | PDF only:
    draw a circle |'
  id: totrans-1151
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_circle()`](#Page.draw_circle "Page.draw_circle") | 仅PDF：绘制圆形 |'
- en: '| [`Page.draw_curve()`](#Page.draw_curve "Page.draw_curve") | PDF only: draw
    a special Bezier curve |'
  id: totrans-1152
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_curve()`](#Page.draw_curve "Page.draw_curve") | 仅PDF：绘制特殊贝塞尔曲线
    |'
- en: '| [`Page.draw_line()`](#Page.draw_line "Page.draw_line") | PDF only: draw a
    line |'
  id: totrans-1153
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_line()`](#Page.draw_line "Page.draw_line") | 仅PDF：绘制直线 |'
- en: '| [`Page.draw_oval()`](#Page.draw_oval "Page.draw_oval") | PDF only: draw an
    oval / ellipse |'
  id: totrans-1154
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_oval()`](#Page.draw_oval "Page.draw_oval") | 仅PDF：绘制椭圆/椭圆形 |'
- en: '| [`Page.draw_polyline()`](#Page.draw_polyline "Page.draw_polyline") | PDF
    only: connect a point sequence |'
  id: totrans-1155
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_polyline()`](#Page.draw_polyline "Page.draw_polyline") | 仅PDF：连接点序列
    |'
- en: '| [`Page.draw_quad()`](#Page.draw_quad "Page.draw_quad") | PDF only: draw a
    quad |'
  id: totrans-1156
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_quad()`](#Page.draw_quad "Page.draw_quad") | 仅PDF：绘制四边形 |'
- en: '| [`Page.draw_rect()`](#Page.draw_rect "Page.draw_rect") | PDF only: draw a
    rectangle |'
  id: totrans-1157
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_rect()`](#Page.draw_rect "Page.draw_rect") | 仅PDF：绘制矩形 |'
- en: '| [`Page.draw_sector()`](#Page.draw_sector "Page.draw_sector") | PDF only:
    draw a circular sector |'
  id: totrans-1158
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_sector()`](#Page.draw_sector "Page.draw_sector") | 仅PDF：绘制圆形扇形区域
    |'
- en: '| [`Page.draw_squiggle()`](#Page.draw_squiggle "Page.draw_squiggle") | PDF
    only: draw a squiggly line |'
  id: totrans-1159
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_squiggle()`](#Page.draw_squiggle "Page.draw_squiggle") | 仅PDF：绘制波浪线
    |'
- en: '| [`Page.draw_zigzag()`](#Page.draw_zigzag "Page.draw_zigzag") | PDF only:
    draw a zig-zagged line |'
  id: totrans-1160
  prefs: []
  type: TYPE_TB
  zh: '[`Page.draw_zigzag()`](#Page.draw_zigzag "Page.draw_zigzag") | 仅PDF：绘制之字形线
    |'
- en: '| [`Page.find_tables()`](#Page.find_tables "Page.find_tables") | locate tables
    on the page |'
  id: totrans-1161
  prefs: []
  type: TYPE_TB
  zh: '[`Page.find_tables()`](#Page.find_tables "Page.find_tables") | 定位页面上的表格 |'
- en: '| [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings") | get vector
    graphics on page |'
  id: totrans-1162
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings") | 获取页面上的矢量图形
    |'
- en: '| [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts") | PDF only: get list
    of referenced fonts |'
  id: totrans-1163
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts") | 仅PDF：获取引用字体的列表 |'
- en: '| [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox") | PDF
    only: get bbox and matrix of embedded image |'
  id: totrans-1164
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox") | 仅PDF：获取嵌入图像的边界框和矩阵
    |'
- en: '| [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info") | get
    list of meta information for all used images |'
  id: totrans-1165
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info") | 获取所有使用图像的元信息列表
    |'
- en: '| [`Page.get_image_rects()`](#Page.get_image_rects "Page.get_image_rects")
    | PDF only: improved version of [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") |'
  id: totrans-1166
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_image_rects()`](#Page.get_image_rects "Page.get_image_rects") |
    仅PDF：[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")的改进版本
    |'
- en: '| [`Page.get_images()`](#Page.get_images "Page.get_images") | PDF only: get
    list of referenced images |'
  id: totrans-1167
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_images()`](#Page.get_images "Page.get_images") | 仅PDF：获取引用图像的列表
    |'
- en: '| [`Page.get_label()`](#Page.get_label "Page.get_label") | PDF only: return
    the label of the page |'
  id: totrans-1168
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_label()`](#Page.get_label "Page.get_label") | 仅PDF：返回页面的标签 |'
- en: '| [`Page.get_links()`](#Page.get_links "Page.get_links") | get all links |'
  id: totrans-1169
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_links()`](#Page.get_links "Page.get_links") | 获取所有链接 |'
- en: '| [`Page.get_pixmap()`](#Page.get_pixmap "Page.get_pixmap") | create a page
    image in raster format |'
  id: totrans-1170
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_pixmap()`](#Page.get_pixmap "Page.get_pixmap") | 创建位图格式的页面图像 |'
- en: '| [`Page.get_svg_image()`](#Page.get_svg_image "Page.get_svg_image") | create
    a page image in SVG format |'
  id: totrans-1171
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_svg_image()`](#Page.get_svg_image "Page.get_svg_image") | 创建SVG格式的页面图像
    |'
- en: '| [`Page.get_text()`](#Page.get_text "Page.get_text") | extract the page’s
    text |'
  id: totrans-1172
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_text()`](#Page.get_text "Page.get_text") | 提取页面的文本 |'
- en: '| [`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox") | extract text
    contained in a rectangle |'
  id: totrans-1173
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox") | 提取矩形中包含的文本 |'
- en: '| [`Page.get_textpage_ocr()`](#Page.get_textpage_ocr "Page.get_textpage_ocr")
    | create a TextPage with OCR for the page |'
  id: totrans-1174
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textpage_ocr()`](#Page.get_textpage_ocr "Page.get_textpage_ocr")
    | 为页面创建具有OCR的TextPage |'
- en: '| [`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage") | create
    a TextPage for the page |'
  id: totrans-1175
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage") | 为页面创建一个TextPage
    |'
- en: '| [`Page.get_xobjects()`](#Page.get_xobjects "Page.get_xobjects") | PDF only:
    get list of referenced xobjects |'
  id: totrans-1176
  prefs: []
  type: TYPE_TB
  zh: '[`Page.get_xobjects()`](#Page.get_xobjects "Page.get_xobjects") | 仅PDF：获取引用xobject的列表
    |'
- en: '| [`Page.insert_font()`](#Page.insert_font "Page.insert_font") | PDF only:
    insert a font for use by the page |'
  id: totrans-1177
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_font()`](#Page.insert_font "Page.insert_font") | 仅PDF：插入页面使用的字体
    |'
- en: '| [`Page.insert_image()`](#Page.insert_image "Page.insert_image") | PDF only:
    insert an image |'
  id: totrans-1178
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_image()`](#Page.insert_image "Page.insert_image") | 仅适用于PDF：插入图像。'
- en: '| [`Page.insert_link()`](#Page.insert_link "Page.insert_link") | PDF only:
    insert a link |'
  id: totrans-1179
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_link()`](#Page.insert_link "Page.insert_link") | 仅适用于PDF：插入链接。'
- en: '| [`Page.insert_text()`](#Page.insert_text "Page.insert_text") | PDF only:
    insert text |'
  id: totrans-1180
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_text()`](#Page.insert_text "Page.insert_text") | 仅适用于PDF：插入文本。'
- en: '| [`Page.insert_htmlbox()`](#Page.insert_htmlbox "Page.insert_htmlbox") | PDF
    only: insert html text in a rectangle |'
  id: totrans-1181
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_htmlbox()`](#Page.insert_htmlbox "Page.insert_htmlbox") | 仅适用于PDF：在矩形中插入HTML文本。'
- en: '| [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") | PDF
    only: insert a text box |'
  id: totrans-1182
  prefs: []
  type: TYPE_TB
  zh: '[`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") | 仅适用于PDF：插入文本框。'
- en: '| [`Page.links()`](#Page.links "Page.links") | return a generator of the links
    on the page |'
  id: totrans-1183
  prefs: []
  type: TYPE_TB
  zh: '[`Page.links()`](#Page.links "Page.links") | 返回页面上链接的生成器。'
- en: '| [`Page.load_annot()`](#Page.load_annot "Page.load_annot") | PDF only: load
    a specific annotation |'
  id: totrans-1184
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_annot()`](#Page.load_annot "Page.load_annot") | 仅适用于PDF：加载特定注释。'
- en: '| [`Page.load_widget()`](#Page.load_widget "Page.load_widget") | PDF only:
    load a specific field |'
  id: totrans-1185
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_widget()`](#Page.load_widget "Page.load_widget") | 仅适用于PDF：加载特定字段。'
- en: '| [`Page.load_links()`](#Page.load_links "Page.load_links") | return the first
    link on a page |'
  id: totrans-1186
  prefs: []
  type: TYPE_TB
  zh: '[`Page.load_links()`](#Page.load_links "Page.load_links") | 返回页面上的第一个链接。'
- en: '| [`Page.new_shape()`](#Page.new_shape "Page.new_shape") | PDF only: create
    a new [Shape](shape.html#shape) |'
  id: totrans-1187
  prefs: []
  type: TYPE_TB
  zh: '[`Page.new_shape()`](#Page.new_shape "Page.new_shape") | 仅适用于PDF：创建新的[形状](shape.html#shape)。'
- en: '| [`Page.remove_rotation()`](#Page.remove_rotation "Page.remove_rotation")
    | PDF only: set page rotation to 0 |'
  id: totrans-1188
  prefs: []
  type: TYPE_TB
  zh: '[`Page.remove_rotation()`](#Page.remove_rotation "Page.remove_rotation") |
    仅适用于PDF：将页面旋转设置为0。'
- en: '| [`Page.replace_image()`](#Page.replace_image "Page.replace_image") | PDF
    only: replace an image |'
  id: totrans-1189
  prefs: []
  type: TYPE_TB
  zh: '[`Page.replace_image()`](#Page.replace_image "Page.replace_image") | 仅适用于PDF：替换图像。'
- en: '| [`Page.search_for()`](#Page.search_for "Page.search_for") | search for a
    string |'
  id: totrans-1190
  prefs: []
  type: TYPE_TB
  zh: '[`Page.search_for()`](#Page.search_for "Page.search_for") | 查找字符串。'
- en: '| [`Page.set_artbox()`](#Page.set_artbox "Page.set_artbox") | PDF only: modify
    `/ArtBox` |'
  id: totrans-1191
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_artbox()`](#Page.set_artbox "Page.set_artbox") | 仅适用于PDF：修改`/ArtBox`。'
- en: '| [`Page.set_bleedbox()`](#Page.set_bleedbox "Page.set_bleedbox") | PDF only:
    modify `/BleedBox` |'
  id: totrans-1192
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_bleedbox()`](#Page.set_bleedbox "Page.set_bleedbox") | 仅适用于PDF：修改`/BleedBox`。'
- en: '| [`Page.set_cropbox()`](#Page.set_cropbox "Page.set_cropbox") | PDF only:
    modify the `cropbox` (visible page) |'
  id: totrans-1193
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_cropbox()`](#Page.set_cropbox "Page.set_cropbox") | 仅适用于PDF：修改`cropbox`（可见页面）。'
- en: '| [`Page.set_mediabox()`](#Page.set_mediabox "Page.set_mediabox") | PDF only:
    modify `/MediaBox` |'
  id: totrans-1194
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_mediabox()`](#Page.set_mediabox "Page.set_mediabox") | 仅适用于PDF：修改`/MediaBox`。'
- en: '| [`Page.set_rotation()`](#Page.set_rotation "Page.set_rotation") | PDF only:
    set page rotation |'
  id: totrans-1195
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_rotation()`](#Page.set_rotation "Page.set_rotation") | 仅适用于PDF：设置页面旋转。'
- en: '| [`Page.set_trimbox()`](#Page.set_trimbox "Page.set_trimbox") | PDF only:
    modify `/TrimBox` |'
  id: totrans-1196
  prefs: []
  type: TYPE_TB
  zh: '[`Page.set_trimbox()`](#Page.set_trimbox "Page.set_trimbox") | 仅适用于PDF：修改`/TrimBox`。'
- en: '| [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") | PDF
    only: display PDF page image |'
  id: totrans-1197
  prefs: []
  type: TYPE_TB
  zh: '[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") | 仅适用于PDF：显示PDF页面图像。'
- en: '| [`Page.update_link()`](#Page.update_link "Page.update_link") | PDF only:
    modify a link |'
  id: totrans-1198
  prefs: []
  type: TYPE_TB
  zh: '[`Page.update_link()`](#Page.update_link "Page.update_link") | 仅适用于PDF：修改链接。'
- en: '| [`Page.widgets()`](#Page.widgets "Page.widgets") | return a generator over
    the fields on the page |'
  id: totrans-1199
  prefs: []
  type: TYPE_TB
  zh: '[`Page.widgets()`](#Page.widgets "Page.widgets") | 返回页面上字段的生成器。'
- en: '| [`Page.write_text()`](#Page.write_text "Page.write_text") | write one or
    more [TextWriter](textwriter.html#textwriter) objects |'
  id: totrans-1200
  prefs: []
  type: TYPE_TB
  zh: '[`Page.write_text()`](#Page.write_text "Page.write_text") | 写入一个或多个[TextWriter](textwriter.html#textwriter)对象。'
- en: '| [`Page.cropbox_position`](#Page.cropbox_position "Page.cropbox_position")
    | displacement of the `cropbox` |'
  id: totrans-1201
  prefs: []
  type: TYPE_TB
  zh: '[`Page.cropbox_position`](#Page.cropbox_position "Page.cropbox_position") |
    `cropbox`的偏移量。'
- en: '| [`Page.cropbox`](#Page.cropbox "Page.cropbox") | the page’s `cropbox` |'
  id: totrans-1202
  prefs: []
  type: TYPE_TB
  zh: '[`Page.cropbox`](#Page.cropbox "Page.cropbox") | 页面的`cropbox`。'
- en: '| [`Page.artbox`](#Page.artbox "Page.artbox") | the page’s `/ArtBox` |'
  id: totrans-1203
  prefs: []
  type: TYPE_TB
  zh: '[`Page.artbox`](#Page.artbox "Page.artbox") | 页面的`/ArtBox`。'
- en: '| [`Page.bleedbox`](#Page.bleedbox "Page.bleedbox") | the page’s `/BleedBox`
    |'
  id: totrans-1204
  prefs: []
  type: TYPE_TB
  zh: '[`Page.bleedbox`](#Page.bleedbox "Page.bleedbox") | 页面的`/BleedBox`。'
- en: '| [`Page.trimbox`](#Page.trimbox "Page.trimbox") | the page’s `/TrimBox` |'
  id: totrans-1205
  prefs: []
  type: TYPE_TB
  zh: '[`Page.trimbox`](#Page.trimbox "Page.trimbox") | 页面的`/TrimBox`。'
- en: '| [`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix")
    | PDF only: get coordinates in unrotated page space |'
  id: totrans-1206
  prefs: []
  type: TYPE_TB
  zh: '[`Page.derotation_matrix`](#Page.derotation_matrix "Page.derotation_matrix")
    | 仅适用于PDF：获取未旋转页面空间中的坐标。'
- en: '| [`Page.first_annot`](#Page.first_annot "Page.first_annot") | first [Annot](annot.html#annot)
    on the page |'
  id: totrans-1207
  prefs: []
  type: TYPE_TB
  zh: '[`Page.first_annot`](#Page.first_annot "Page.first_annot") | 页面上的第一个[Annot](annot.html#annot)。'
- en: '| [`Page.first_link`](#Page.first_link "Page.first_link") | first [Link](link.html#link)
    on the page |'
  id: totrans-1208
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.first_link`](#Page.first_link "Page.first_link") | 页面上的第一个 [链接](link.html#link)
    |'
- en: '| [`Page.first_widget`](#Page.first_widget "Page.first_widget") | first widget
    (form field) on the page |'
  id: totrans-1209
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.first_widget`](#Page.first_widget "Page.first_widget") | 页面上的第一个小部件（表单字段）
    |'
- en: '| [`Page.mediabox_size`](#Page.mediabox_size "Page.mediabox_size") | bottom-right
    point of `mediabox` |'
  id: totrans-1210
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.mediabox_size`](#Page.mediabox_size "Page.mediabox_size") | `mediabox`
    的右下角点 |'
- en: '| [`Page.mediabox`](#Page.mediabox "Page.mediabox") | the page’s `mediabox`
    |'
  id: totrans-1211
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.mediabox`](#Page.mediabox "Page.mediabox") | 页面的 `mediabox` |'
- en: '| [`Page.number`](#Page.number "Page.number") | page number |'
  id: totrans-1212
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.number`](#Page.number "Page.number") | 页面编号 |'
- en: '| [`Page.parent`](#Page.parent "Page.parent") | owning document object |'
  id: totrans-1213
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.parent`](#Page.parent "Page.parent") | 拥有文档对象 |'
- en: '| [`Page.rect`](#Page.rect "Page.rect") | rectangle of the page |'
  id: totrans-1214
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rect`](#Page.rect "Page.rect") | 页面的矩形 |'
- en: '| [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix") |
    PDF only: get coordinates in rotated page space |'
  id: totrans-1215
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rotation_matrix`](#Page.rotation_matrix "Page.rotation_matrix") |
    仅限PDF：获取旋转页面空间中的坐标 |'
- en: '| [`Page.rotation`](#Page.rotation "Page.rotation") | PDF only: page rotation
    |'
  id: totrans-1216
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.rotation`](#Page.rotation "Page.rotation") | 仅限PDF：页面旋转 |'
- en: '| [`Page.transformation_matrix`](#Page.transformation_matrix "Page.transformation_matrix")
    | PDF only: translate between PDF and MuPDF space |'
  id: totrans-1217
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.transformation_matrix`](#Page.transformation_matrix "Page.transformation_matrix")
    | 仅限PDF：在PDF和MuPDF空间之间进行转换 |'
- en: '| [`Page.xref`](#Page.xref "Page.xref") | PDF only: page [`xref`](glossary.html#xref
    "xref") |'
  id: totrans-1218
  prefs: []
  type: TYPE_TB
  zh: '| [`Page.xref`](#Page.xref "Page.xref") | 仅限PDF：页面 [`xref`](glossary.html#xref
    "xref") |'
- en: '**Class API**'
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: '**类API**'
- en: '[PRE109]'
  id: totrans-1220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '[PRE110]'
  id: totrans-1221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: Determine the rectangle of the page. Same as property [`Page.rect`](#Page.rect
    "Page.rect"). For PDF documents this **usually** also coincides with [`mediabox`](#Page.mediabox
    "Page.mediabox") and [`cropbox`](#Page.cropbox "Page.cropbox"), but not always.
    For example, if the page is rotated, then this is reflected by this method – the
    [`Page.cropbox`](#Page.cropbox "Page.cropbox") however will not change.
  id: totrans-1222
  prefs: []
  type: TYPE_NORMAL
  zh: 确定页面的矩形。与属性 [`Page.rect`](#Page.rect "Page.rect") 相同。对于PDF文档，这通常也与 [`mediabox`](#Page.mediabox
    "Page.mediabox") 和 [`cropbox`](#Page.cropbox "Page.cropbox") 重合，但并非总是如此。例如，如果页面被旋转，则此方法将反映此旋转
    – 但 [`Page.cropbox`](#Page.cropbox "Page.cropbox") 不会改变。
- en: 'Return type:'
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE111]'
  id: totrans-1225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: 'PDF only: Add a caret icon. A caret annotation is a visual symbol normally
    used to indicate the presence of text edits on the page.'
  id: totrans-1226
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：添加一个插入符号。插入符注释通常用作视觉符号，用于指示页面上的文本编辑。
- en: 'Parameters:'
  id: totrans-1227
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**point** (*point_like*) – the top left point of a 20 x 20 rectangle containing
    the MuPDF-provided icon.'
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: '**point** (*point_like*) – 包含MuPDF提供的图标的20 x 20矩形的左上角点。'
- en: 'Return type:'
  id: totrans-1229
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Stroke color blue = (0, 0, 1), no fill color support.
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色为蓝色 = (0, 0, 1)，不支持填充颜色。
- en: '[![_images/img-caret-annot.jpg](../Images/28a34a51f7aa8adf8818bec9637b0e49.png)](_images/img-caret-annot.jpg)<details><summary>Show/hide
    history</summary></details> *   New in v1.16.0'
  id: totrans-1233
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-caret-annot.jpg](../Images/28a34a51f7aa8adf8818bec9637b0e49.png)](_images/img-caret-annot.jpg)<details><summary>显示/隐藏历史记录</summary></details>
    *   v1.16.0 新增功能'
- en: '[PRE112]'
  id: totrans-1234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'PDF only: Add a comment icon (“sticky note”) with accompanying text. Only the
    icon is visible, the accompanying text is hidden and can be visualized by many
    PDF viewers by hovering the mouse over the symbol.'
  id: totrans-1235
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：添加一个评论图标（“便笺”），并附带文本。只有图标可见，附带的文本会被隐藏，但可以通过许多PDF查看器通过悬停鼠标在符号上来可视化。
- en: 'Parameters:'
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**point** (*point_like*) – the top left point of a 20 x 20 rectangle containing
    the MuPDF-provided “note” icon.'
  id: totrans-1237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**point** (*point_like*) – 包含MuPDF提供的“note”图标的20 x 20矩形的左上角点。'
- en: '**text** (*str*) – the commentary text. This will be shown on double clicking
    or hovering over the icon. May contain any Latin characters.'
  id: totrans-1238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*str*) – 注释文本。双击或悬停在图标上时显示。可以包含任何拉丁字符。'
- en: '**icon** (*str*) – choose one of “Note” (default), “Comment”, “Help”, “Insert”,
    “Key”, “NewParagraph”, “Paragraph” as the visual symbol for the embodied text
    [[4]](#f4). (New in v1.16.0)'
  id: totrans-1239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**icon** (*str*) – 选择“Note”（默认）、“Comment”、“Help”、“Insert”、“Key”、“NewParagraph”、“Paragraph”之一，作为体现文本的视觉符号
    [[4]](#f4)。（v1.16.0新增功能）'
- en: 'Return type:'
  id: totrans-1240
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1241
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Stroke color yellow = (1, 1, 0), no fill color support.
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色为黄色 = (1, 1, 0)，不支持填充颜色。
- en: '[PRE113]'
  id: totrans-1244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: 'PDF only: Add text in a given rectangle.'
  id: totrans-1245
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：在给定矩形中添加文本。
- en: 'Parameters:'
  id: totrans-1246
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – the rectangle into which the text should be inserted.
    Text is automatically wrapped to a new line at box width. Lines not fitting into
    the box will be invisible.'
  id: totrans-1247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*）- 文本应插入的矩形区域。文本会自动换行，以适应框的宽度。超出框的部分将不可见。'
- en: '**text** (*str*) – the text. May contain any mixture of Latin, Greek, Cyrillic,
    Chinese, Japanese and Korean characters. The respective required font is automatically
    determined. (New in v1.17.0)'
  id: totrans-1248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text**（*str*）- 文本内容。可以包含任何混合的拉丁、希腊、西里尔、中文、日文和韩文字符。相应的所需字体会自动确定。（自 v1.17.0
    版新增）'
- en: '**fontsize** (*float*) – the [`fontsize`](glossary.html#fontsize "fontsize").
    Default is 12.'
  id: totrans-1249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize**（*float*）- [*fontsize*](glossary.html#fontsize "fontsize")。默认为
    12。'
- en: '**fontname** (*str*) – the font name. Default is “Helv”. Accepted alternatives
    are “Cour”, “TiRo”, “ZaDb” and “Symb”. The name may be abbreviated to the first
    two characters, like “Co” for “Cour”. Lower case is also accepted. Bold or italic
    variants of the fonts are **not accepted** (changed in v1.16.0). A user-contributed
    script provides a circumvention for this restriction – see section *Using Buttons
    and JavaScript* in chapter [FAQ](faq.html#faq). The actual font to use is now
    determined on a by-character level, and all required fonts (or sub-fonts) are
    automatically included. Therefore, you should rarely ever need to care about this
    parameter and let it default (except you insist on a serifed font for your non-CJK
    text parts). (New in v1.17.0)'
  id: totrans-1250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname**（*str*）- 字体名称。默认为“Helv”。接受的替代名称包括“Cour”、“TiRo”、“ZaDb”和“Symb”。名称可以缩写为前两个字符，如“Co”代表“Cour”。也接受小写。粗体或斜体变体的字体**不被接受**（自
    v1.16.0 版更改）。用户贡献的脚本提供了这一限制的变通方法 - 见章节“使用按钮和 JavaScript”中的部分[FAQ](faq.html#faq)。现在，实际使用的字体是按字符级别确定的，所有必需的字体（或子字体）都会自动包含。因此，您很少需要关心此参数，并让其默认（除非坚持对非
    CJK 文本部分使用衬线字体）。（自 v1.17.0 版新增）'
- en: '**text_color** (*sequence**,**float*) – the text color. Default is black. (New
    in v1.16.0)'
  id: totrans-1251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color**（*sequence*、*float*）- 文本颜色。默认为黑色。（自 v1.16.0 版新增）'
- en: '**fill_color** (*sequence**,**float*) – the fill color. Default is white. (New
    in v1.16.0)'
  id: totrans-1252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fill_color**（*sequence*、*float*）- 填充颜色。默认为白色。（自 v1.16.0 版新增）'
- en: '**text_color** – the text color. Default is black.'
  id: totrans-1253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color** - 文本颜色。默认为黑色。'
- en: '**border_color** (*sequence**,**float*) – the border color. Default is `None`.
    (New in v1.19.6)'
  id: totrans-1254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**border_color**（*sequence*、*float*）- 边框颜色。默认为 `None`。（自 v1.19.6 版新增）'
- en: '**align** (*int*) – text alignment, one of TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER,
    TEXT_ALIGN_RIGHT - justify is **not supported**. (New in v1.17.0)'
  id: totrans-1255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**align**（*int*）- 文本对齐方式，可选值为 TEXT_ALIGN_LEFT、TEXT_ALIGN_CENTER、TEXT_ALIGN_RIGHT
    - 不支持**justify**。（自 v1.17.0 版新增）'
- en: '**rotate** (*int*) – the text orientation. Accepted values are 0, 90, 270,
    invalid entries are set to zero.'
  id: totrans-1256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate**（*int*）- 文本方向。可接受的值为 0、90、270，无效条目将设为零。'
- en: 'Return type:'
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1258
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Color properties **can only be changed** using special
    parameters of [`Annot.update()`](annot.html#Annot.update "Annot.update"). There,
    you can also set a border color different from the text color.
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。颜色属性只能通过 [`Annot.update()`](annot.html#Annot.update "Annot.update") 的特殊参数进行更改。在那里，您还可以设置与文本颜色不同的边框颜色。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.6:
    add border color parameter'
  id: totrans-1261
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> * 从 v1.19.6 版更改：添加了边框颜色参数
- en: '[PRE114]'
  id: totrans-1262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'PDF only: Add a file attachment annotation with a “PushPin” icon at the specified
    location.'
  id: totrans-1263
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在指定位置添加带有“PushPin”图标的文件附件注释。
- en: 'Parameters:'
  id: totrans-1264
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**pos** (*point_like*) – the top-left point of a 18x18 rectangle containing
    the MuPDF-provided “PushPin” icon.'
  id: totrans-1265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pos**（*point_like*）- 包含 MuPDF 提供的“PushPin”图标的 18x18 矩形的左上角点。'
- en: '**buffer** (*bytes**,**bytearray**,**BytesIO*) –'
  id: totrans-1266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**buffer**（*bytes*、*bytearray*、*BytesIO*）-'
- en: the data to be stored (actual file content, any data, etc.).
  id: totrans-1267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要存储的数据（实际文件内容、任何数据等）。
- en: 'Changed in v1.14.13: *io.BytesIO* is now also supported.'
  id: totrans-1268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从 v1.14.13 版开始更改：现在还支持 *io.BytesIO*。
- en: '**filename** (*str*) – the filename to associate with the data.'
  id: totrans-1269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename**（*str*）- 与数据关联的文件名。'
- en: '**ufilename** (*str*) – the optional PDF unicode version of filename. Defaults
    to filename.'
  id: totrans-1270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ufilename**（*str*）- 文件名的可选 PDF Unicode 版本。默认为文件名。'
- en: '**desc** (*str*) – an optional description of the file. Defaults to filename.'
  id: totrans-1271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**desc**（*str*）- 文件的可选描述。默认为文件名。'
- en: '**icon** (*str*) – choose one of “PushPin” (default), “Graph”, “Paperclip”,
    “Tag” as the visual symbol for the attached data [[4]](#f4). (New in v1.16.0)'
  id: totrans-1272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**icon**（*str*）- 选择一个“PushPin”（默认）、“Graph”、“Paperclip”、“Tag”作为附加数据的可视符号[[4]](#f4)。（自
    v1.16.0 版新增）'
- en: 'Return type:'
  id: totrans-1273
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1274
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the created annotation. Stroke color yellow = (1, 1, 0), no fill color support.
  id: totrans-1276
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。描边颜色黄色 =（1，1，0），不支持填充颜色。
- en: '[PRE115]'
  id: totrans-1277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: 'PDF only: Add a “freehand” scribble annotation.'
  id: totrans-1278
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加一个“自由手绘”涂鸦注释。
- en: 'Parameters:'
  id: totrans-1279
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**list** (*sequence*) – a list of one or more lists, each containing [`point_like`](glossary.html#point_like
    "point_like") items. Each item in these sublists is interpreted as a [Point](point.html#point)
    through which a connecting line is drawn. Separate sublists thus represent separate
    drawing lines.'
  id: totrans-1280
  prefs: []
  type: TYPE_NORMAL
  zh: '**list**（*序列*） - 一个包含一个或多个列表的列表，每个列表包含[`point_like`](glossary.html#point_like
    "point_like")项目。这些子列表中的每个项目都被解释为[Point](point.html#point)通过它连接线绘制的点。因此，单独的子列表代表单独的绘图线条。'
- en: 'Return type:'
  id: totrans-1281
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1282
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1283
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the created annotation in default appearance black =(0, 0, 0),line width 1\.
    No fill color support.
  id: totrans-1284
  prefs: []
  type: TYPE_NORMAL
  zh: 默认外观中创建的注释黑色 =（0，0，0），线宽1。不支持填充颜色。
- en: '[PRE116]'
  id: totrans-1285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: 'PDF only: Add a line annotation.'
  id: totrans-1286
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加一个线条注释。
- en: 'Parameters:'
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**p1** (*point_like*) – the starting point of the line.'
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**p1**（*point_like*） - 线的起点。'
- en: '**p2** (*point_like*) – the end point of the line.'
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**p2**（*point_like*） - 线的终点。'
- en: 'Return type:'
  id: totrans-1290
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1291
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1292
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the created annotation. It is drawn with line (stroke) color red = (1, 0, 0)
    and line width 1\. No fill color support. The **annot rectangle** is automatically
    created to contain both points, each one surrounded by a circle of radius 3 *
    line width to make room for any line end symbols.
  id: totrans-1293
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。用红色线条（描边）颜色绘制，红色 =（1，0，0），线宽为1。不支持填充颜色。**注释矩形**会自动创建以容纳两个点，每个点都由半径为3 *
    线宽的圆圈包围，以便为任何线条末端符号腾出空间。
- en: '[PRE117]'
  id: totrans-1294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '[PRE118]'
  id: totrans-1295
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: 'PDF only: Add a rectangle, resp. circle annotation.'
  id: totrans-1296
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：添加一个矩形或圆形注释。
- en: 'Parameters:'
  id: totrans-1297
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – the rectangle in which the circle or rectangle is
    drawn, must be finite and not empty. If the rectangle is not equal-sided, an ellipse
    is drawn.'
  id: totrans-1298
  prefs: []
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*） - 绘制圆形或矩形的矩形，必须是有限且非空的。如果矩形不是等边的，则绘制椭圆。'
- en: 'Return type:'
  id: totrans-1299
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1300
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1301
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the created annotation. It is drawn with line (stroke) color red = (1, 0, 0),
    line width 1, fill color is supported.
  id: totrans-1302
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。用红色线条（描边）颜色绘制，红色 =（1，0，0），线宽1，支持填充颜色。
- en: '* * *'
  id: totrans-1303
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Redactions
  id: totrans-1304
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 消除
- en: '[PRE119]'
  id: totrans-1305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '**PDF only**: Add a redaction annotation. A redaction annotation identifies
    content to be removed from the document. Adding such an annotation is the first
    of two steps. It makes visible what will be removed in the subsequent step, [`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions").'
  id: totrans-1306
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅限 PDF**：添加一个消除注释。消除注释标识要从文档中删除的内容。添加这样的注释是两个步骤中的第一步。它显示了在随后的步骤中将被删除的内容，即[`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions")。'
- en: 'Parameters:'
  id: totrans-1307
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quad** (*quad_like**,**rect_like*) – specifies the (rectangular) area to
    be removed which is always equal to the annotation rectangle. This may be a [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like") object. If
    a quad is specified, then the enveloping rectangle is taken.'
  id: totrans-1308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quad**（*quad_like*，*rect_like*） - 指定要删除的（矩形）区域，始终等于注释矩形。这可以是[`rect_like`](glossary.html#rect_like
    "rect_like")或[`quad_like`](glossary.html#quad_like "quad_like")对象。如果指定了四边形，则采用外围矩形。'
- en: '**text** (*str*) – text to be placed in the rectangle after applying the redaction
    (and thus removing old content). (New in v1.16.12)'
  id: totrans-1309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text**（*str*） - 应用消除（因此删除旧内容后）放置在矩形中的文本。 （在v1.16.12中新增）'
- en: '**fontname** (*str*) –'
  id: totrans-1310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname**（*str*） -  '
- en: the font to use when *text* is given, otherwise ignored. The same rules apply
    as for [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") –
    which is the method [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    internally invokes. The replacement text will be **vertically centered**, if this
    is one of the CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts). (New in v1.16.12)
  id: totrans-1311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当给出*text*时要使用的字体，否则将被忽略。适用于[`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox")的相同规则也适用于[PDF基本14字体](app3.html#base-14-fonts)中的CJK或垂直居中的文本。
    （在v1.16.12中新增）
- en: Note
  id: totrans-1312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: For an **existing** font of the page, use its reference name as *fontname* (this
    is *item[4]* of its entry in [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")).
  id: totrans-1313
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '对于**现有**页面的字体，请使用其引用名称作为*fontname*（这是其在[`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts")条目中的*item[4]*）。  '
- en: 'For a **new, non-builtin** font, proceed as follows:'
  id: totrans-1314
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于新的非内置字体，请按以下步骤进行：
- en: '[PRE120]'
  id: totrans-1315
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE120]'
- en: '**fontsize** (*float*) – the [`fontsize`](glossary.html#fontsize "fontsize")
    to use for the replacing text. If the text is too large to fit, several insertion
    attempts will be made, gradually reducing the [`fontsize`](glossary.html#fontsize
    "fontsize") to no less than 4\. If then the text will still not fit, no text insertion
    will take place at all. (New in v1.16.12)'
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字体大小**（*float*） – 用于替换文本的[`字体大小`](glossary.html#fontsize "fontsize")。如果文本太大无法容纳，将尝试多次插入，逐渐减小[`字体大小`](glossary.html#fontsize
    "fontsize")至不小于4。如果仍无法容纳，则根本不会进行文本插入。（新功能，v1.16.12版）'
- en: '**align** (*int*) – the horizontal alignment for the replacing text. See [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") for available values. The vertical alignment is (approximately)
    centered if a PDF built-in font is used (CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts)).
    (New in v1.16.12)'
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对齐**（*int*） – 替换文本的水平对齐方式。有关可用值，请参阅[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")。如果使用PDF内置字体（CJK或[PDF基础14字体](app3.html#base-14-fonts)），垂直对齐（大约）居中。（新功能，v1.16.12版）'
- en: '**fill** (*sequence*) – the fill color of the rectangle **after applying**
    the redaction. The default is *white = (1, 1, 1)*, which is also taken if *None*
    is specified. To suppress a fill color altogether, specify *False*. In this cases
    the rectangle remains transparent. (New in v1.16.12)'
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**填充**（*sequence*） – 在应用编辑后的矩形的填充颜色。默认为*白色 = (1, 1, 1)*，如果指定*None*，也将采用此颜色。若要完全禁用填充颜色，请指定*False*。在这种情况下，矩形保持透明。（新功能，v1.16.12版）'
- en: '**text_color** (*sequence*) – the color of the replacing text. Default is *black
    = (0, 0, 0)*. (New in v1.16.12)'
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本颜色**（*sequence*） – 替换文本的颜色。默认为*黑色 = (0, 0, 0)*。（新功能，v1.16.12版）'
- en: '**cross_out** (*bool*) – add two diagonal lines to the annotation rectangle.
    (New in v1.17.2)'
  id: totrans-1320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**划掉**（*bool*） – 向注释矩形添加两条对角线。（新功能，v1.17.2版）'
- en: 'Return type:'
  id: totrans-1321
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1322
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1323
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. Its standard appearance looks like a red rectangle (no
    fill color), optionally showing two diagonal lines. Colors, line width, dashing,
    opacity and blend mode can now be set and applied via [`Annot.update()`](annot.html#Annot.update
    "Annot.update") like with other annotations. (Changed in v1.17.2)
  id: totrans-1324
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。其标准外观类似于红色矩形（无填充颜色），可选显示两条对角线。现在可以通过[`Annot.update()`](annot.html#Annot.update
    "Annot.update")设置和应用颜色、线宽、虚线、不透明度和混合模式，就像处理其他注释一样。（在v1.17.2中有所更改）
- en: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>Show/hide
    history</summary></details> *   New in v1.16.11'
  id: totrans-1325
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>显示/隐藏历史记录</summary></details>'
- en: '[PRE121]'
  id: totrans-1326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: '**PDF only**: Remove all **content** contained in any redaction rectangle on
    the page.'
  id: totrans-1327
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅PDF**：删除页面上任何编辑矩形中包含的所有内容。'
- en: '**This method applies and then deletes all redactions from the page.**'
  id: totrans-1328
  prefs: []
  type: TYPE_NORMAL
  zh: '**此方法应用并然后删除页面上的所有编辑。**'
- en: 'Parameters:'
  id: totrans-1329
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**images** (*int*) – How to redact overlapping images. The default (2) blanks
    out overlapping pixels. `PDF_REDACT_IMAGE_NONE | 0` ignores, and `PDF_REDACT_IMAGE_REMOVE
    | 1` completely removes images overlapping any redaction annotation. Option `PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE
    | 3` only removes images that are actually visible.'
  id: totrans-1330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像**（*int*） – 如何编辑重叠图像。默认值（2）消除重叠像素。`PDF_REDACT_IMAGE_NONE | 0`忽略，`PDF_REDACT_IMAGE_REMOVE
    | 1`完全移除与任何编辑注释重叠的图像。选项`PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE | 3`仅移除实际可见的图像。'
- en: '**graphics** (*int*) – How to redact overlapping vector graphics (also called
    “line-art” or “drawings”). The default (2) removes any overlapping vector graphics.
    `PDF_REDACT_LINE_ART_NONE | 0` ignores, and `PDF_REDACT_LINE_ART_IF_COVERED |
    1` removes graphics fully contained in a redaction annotation. When removing line-art,
    please be aware that **stroked** vector graphics (i.e. type “s” or “sf”) have
    a **larger wrapping rectangle** than one might expect: first of all, at least
    50% of the path’s line width have to be added in each direction to truly include
    all of the drawing. If a so-called “miter limit” is provided (see page 121 of
    the PDF specification), the enlarging value is `miter * width / 2`. So, when letting
    everything default (width = 1, miter = 10), the redaction rectangle should be
    at least 5 points larger in every direction.'
  id: totrans-1331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图形**（*int*） - 如何编辑重叠的矢量图形（也称为“线条艺术”或“绘图”）。默认值（2）会删除任何重叠的矢量图形。`PDF_REDACT_LINE_ART_NONE
    | 0` 忽略，`PDF_REDACT_LINE_ART_IF_COVERED | 1` 删除完全包含在编辑注释中的图形。在删除线条艺术时，请注意，**描边**的矢量图形（即类型“s”或“sf”）的包围矩形要比人们预期的要**大**：首先，必须在每个方向上至少添加路径线宽的
    50％ 才能真正包含所有的绘图。如果提供了所谓的“斜角限制”（请参见 PDF 规范的第 121 页），则扩展值为`miter * width / 2`。因此，当让所有默认设置（宽度
    = 1，斜角 = 10）时，编辑矩形在每个方向上至少应大出 5 点。'
- en: '**text** (*int*) – Whether to redact overlapping text. The default `PDF_REDACT_TEXT_REMOVE
    | 0` removes all characters whose boundary box overlaps any redaction rectangle.
    This complies with the original legal / data protection intentions of redaction
    annotations. Other use cases however may require to **keep text** while redacting
    vector graphics or images. This can be achieved by setting `text=True|PDF_REDACT_TEXT_NONE
    | 1`. This does **not comply** with the data protection intentions of redaction
    annotations. **Do so at your own risk.**'
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本**（*int*） - 是否编辑重叠的文本。默认值`PDF_REDACT_TEXT_REMOVE | 0` 删除所有边界框与任何编辑矩形重叠的字符。这符合编辑注释的原始法律/数据保护意图。然而，其他用例可能需要在编辑矢量图形或图像时**保留文本**。这可以通过设置
    `text=True|PDF_REDACT_TEXT_NONE | 1` 来实现。这不符合编辑注释的数据保护意图。**请自行承担风险**。'
- en: 'Returns:'
  id: totrans-1333
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '`True` if at least one redaction annotation has been processed, `False` otherwise.'
  id: totrans-1334
  prefs: []
  type: TYPE_NORMAL
  zh: 如果至少处理了一个编辑注释，则返回 `True`，否则返回 `False`。
- en: Note
  id: totrans-1335
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Text contained in a redaction rectangle will be **physically** removed from
    the page (assuming [`Document.save()`](document.html#Document.save "Document.save")
    with a suitable garbage option) and will no longer appear in e.g. text extractions
    or anywhere else. All redaction annotations will also be removed. Other annotations
    are unaffected.
  id: totrans-1336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含在编辑矩形中的文本将会被**物理删除**，不再显示在页面上（假设使用适当的垃圾选项执行 [`Document.save()`](document.html#Document.save
    "Document.save")，且不再出现在例如文本提取或其他任何地方。所有的编辑注释也将被删除。其他注释不受影响。
- en: All overlapping links will be removed. If the rectangle of the link was covering
    text, then only the overlapping part of the text is being removed. Similar applies
    to images covered by link rectangles.
  id: totrans-1337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有重叠的链接都将被删除。如果链接的矩形覆盖了文本，则只删除文本的重叠部分。相似的情况也适用于被链接矩形覆盖的图像。
- en: The overlapping parts of **images** will be blanked-out for default option `PDF_REDACT_IMAGE_PIXELS`
    (changed in v1.18.0). Option 0 does not touch any images and 1 will remove any
    image with an overlap.
  id: totrans-1338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认选项 `PDF_REDACT_IMAGE_PIXELS`（在 v1.18.0 中更改）将**图像**的重叠部分涂成空白。选项 0 不触及任何图像，而选项
    1 将删除任何与重叠重叠的图像。
- en: For option `images=PDF_REDACT_IMAGE_REMOVE` only this page’s **references to
    the images** are removed - not necessarily the images themselves. Images are completely
    removed from the file only, if no longer referenced at all (assuming suitable
    garbage collection options).
  id: totrans-1339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项 `images=PDF_REDACT_IMAGE_REMOVE`，仅删除了本页对图像的**引用** - 不一定删除了图像本身。只有当不再完全引用图像时（假设适当的垃圾收集选项），图像才会从文件中完全删除。
- en: For option `images=PDF_REDACT_IMAGE_PIXELS` a new image of format PNG is created,
    which the page will use in place of the original one. The original image is not
    deleted or replaced as part of this process, so other pages may still show the
    original. In addition, the new, modified PNG image currently is **stored uncompressed**.
    Do keep these aspects in mind when choosing the right garbage collection method
    and compression options during save.
  id: totrans-1340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项 `images=PDF_REDACT_IMAGE_PIXELS`，将创建一个 PNG 格式的新图像，页面将使用该图像替代原始图像。原始图像在此过程中不会被删除或替换，因此其他页面可能仍然显示原始图像。此外，新修改的
    PNG 图像目前**未压缩存储**。在选择正确的垃圾收集方法和保存期间的压缩选项时，请牢记这些方面。
- en: '**Text removal** is done by character: A character is removed if its bbox has
    a **non-empty overlap** with a redaction rectangle (changed in MuPDF v1.17). Depending
    on the font properties and / or the chosen line height, deletion may occur for
    undesired text parts. Using [`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights") with a *True* argument before text search may
    help to prevent this.'
  id: totrans-1341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本删除**是按字符进行的：如果字符的bbox与红色区域矩形有**非空重叠**（在MuPDF v1.17中更改），则删除该字符。根据字体属性和/或所选行高，可能会删除不需要的文本部分。在文本搜索之前，使用[`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights")并传入*True*参数可能有助于防止这种情况发生。'
- en: Redactions are a simple way to replace single words in a PDF, or to just physically
    remove them. Locate the word “secret” using some text extraction or search method
    and insert a redaction using “xxxxxx” as replacement text for each occurrence.
  id: totrans-1342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 红action是替换PDF中单词的简单方法，或者只是物理上将它们删除。使用某些文本提取或搜索方法找到单词“secret”，并插入使用“xxxxxx”作为替换文本的遮挡。
- en: Be wary if the replacement is longer than the original – this may lead to an
    awkward appearance, line breaks or no new text at all.
  id: totrans-1343
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果替换的内容比原始内容长，请小心，这可能导致外观尴尬，换行或根本没有新文本。
- en: For a number of reasons, the new text may not exactly be positioned on the same
    line like the old one – especially true if the replacement font was not one of
    CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts).
  id: totrans-1344
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于一些原因，新文本可能不会像旧文本那样精确地位于同一行上——特别是如果替换字体不是CJK或[PDF Base 14 Fonts](app3.html#base-14-fonts)之一。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.11
  id: totrans-1345
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.16.11 中的新功能
- en: 'Changed in v1.16.12: The previous *mark* parameter is gone. Instead, the respective
    rectangles are filled with the individual *fill* color of each redaction annotation.
    If a *text* was given in the annotation, then [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") is invoked to insert it, using parameters provided with
    the redaction.'
  id: totrans-1346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.16.12 中更改：以前的*mark*参数已经消失。相反，各自的矩形将填充红色注释的个别*fill*颜色。如果注释中提供了*text*，那么将调用[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")来插入它。
- en: 'Changed in v1.18.0: added option for handling images that overlap redaction
    areas.'
  id: totrans-1347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.0 中更改：增加了处理与遮挡区域重叠的图像的选项。
- en: 'Changed in v1.23.27: added option for removing graphics as well.'
  id: totrans-1348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.23.27 中更改：增加了删除图形的选项。
- en: 'Changed in v1.24.2: added option `keep_text` to leave text untouched.'
  id: totrans-1349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.24.2 中更改：增加了`keep_text`选项以保留文本不变。
- en: '* * *'
  id: totrans-1350
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '[PRE122]'
  id: totrans-1351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: '[PRE123]'
  id: totrans-1352
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'PDF only: Add an annotation consisting of lines which connect the given points.
    A **Polygon’s** first and last points are automatically connected, which does
    not happen for a **PolyLine**. The **rectangle** is automatically created as the
    smallest rectangle containing the points, each one surrounded by a circle of radius
    3 (= 3 * line width). The following shows a ‘PolyLine’ that has been modified
    with colors and line ends.'
  id: totrans-1353
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加一个由线连接给定点的注释。**多边形**的第一个和最后一个点会自动连接，这不会发生在**折线**上。矩形会自动创建为包含点的最小矩形，每个点周围都有半径为3（=
    3 * 线宽）的圆。以下展示了一个已修改颜色和线端的“折线”。
- en: 'Parameters:'
  id: totrans-1354
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**points** (*list*) – a list of [`point_like`](glossary.html#point_like "point_like")
    objects.'
  id: totrans-1355
  prefs: []
  type: TYPE_NORMAL
  zh: '**points**（*list*）– 一个[`point_like`](glossary.html#point_like "point_like")对象列表。'
- en: 'Return type:'
  id: totrans-1356
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1357
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1358
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'the created annotation. It is drawn with line color black, line width 1 no
    fill color but fill color support. Use methods of [Annot](annot.html#annot) to
    make any changes to achieve something like this:'
  id: totrans-1359
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。它以黑色线条绘制，线宽为1，无填充颜色但支持填充颜色。使用[注释](annot.html#annot)的方法进行任何更改，以实现类似于这样的效果：
- en: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
  id: totrans-1360
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
- en: '[PRE124]'
  id: totrans-1361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: '[PRE125]'
  id: totrans-1362
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: '[PRE126]'
  id: totrans-1363
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '[PRE127]'
  id: totrans-1364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: 'PDF only: These annotations are normally used for **marking text** which has
    previously been somehow located (for example via [`Page.search_for()`](#Page.search_for
    "Page.search_for")). But this is not required: you are free to “mark” just anything.'
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：这些注释通常用于**标记先前某种方式定位过的文本**（例如通过[`Page.search_for()`](#Page.search_for
    "Page.search_for")）。但这不是必须的：你可以自由地“标记”任何东西。
- en: 'Standard (stroke only – no fill color support) colors are chosen per annotation
    type: **yellow** for highlighting, **red** for striking out, **green** for underlining,
    and **magenta** for wavy underlining.'
  id: totrans-1366
  prefs: []
  type: TYPE_NORMAL
  zh: 每种注释类型都选择标准的（仅支持描边 – 不支持填充颜色）颜色：用于高亮的**黄色**，用于删除线的**红色**，用于下划线的**绿色**，以及用于波浪线的**品红色**。
- en: All these four methods convert the arguments into a list of [Quad](quad.html#quad)
    objects. The **annotation** rectangle is then calculated to envelop all these
    quadrilaterals.
  id: totrans-1367
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这四种方法都将参数转换为 [Quad](quad.html#quad) 对象列表。然后，**注释**矩形将被计算为包围所有这些四边形。
- en: Note
  id: totrans-1368
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '[`search_for()`](#Page.search_for "Page.search_for") delivers a list of either
    [Rect](rect.html#rect) or [Quad](quad.html#quad) objects. Such a list can be directly
    used as an argument for these annotation types and will deliver **one common annotation**
    for all occurrences of the search string:'
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
  zh: '[`search_for()`](#Page.search_for "Page.search_for") 返回一个 [Rect](rect.html#rect)
    或 [Quad](quad.html#quad) 对象列表。这样的列表可以直接用作这些注释类型的参数，并将为搜索字符串的所有出现提供**一个共同的注释**：'
- en: '[PRE128]'
  id: totrans-1370
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: Note
  id: totrans-1371
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Obviously, text marker annotations need to know what is the top, the bottom,
    the left, and the right side of the area(s) to be marked. If the arguments are
    quads, this information is given by the sequence of the quad points. In contrast,
    a rectangle delivers much less information – this is illustrated by the fact,
    that 4! = 24 different quads can be constructed with the four corners of a rectangle.
  id: totrans-1372
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，文本标记注释需要知道要标记的区域的顶部、底部、左侧和右侧是什么。如果参数是 quads，则此信息由四边形点序列提供。相比之下，矩形提供的信息要少得多
    – 这可以从一个矩形的四个角形成的24个不同的四边形这一事实中看出来。
- en: Therefore, we **strongly recommend** to use the `quads` option for text searches,
    to ensure correct annotations. A similar consideration applies to marking **text
    spans** extracted with the “dict” / “rawdict” options of [`Page.get_text()`](#Page.get_text
    "Page.get_text"). For more details on how to compute quadrilaterals in this case,
    see section “How to Mark Non-horizontal Text” of [FAQ](faq.html#faq).
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们**强烈建议**使用 `quads` 选项进行文本搜索，以确保正确的注释。类似的考虑也适用于使用 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的 “dict” / “rawdict” 选项提取的**文本段**标记。有关如何在这种情况下计算四边形的详细信息，请参见
    [FAQ](faq.html#faq) 中的 “如何标记非水平文本” 部分。
- en: 'Parameters:'
  id: totrans-1374
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quads** (*rect_like**,**quad_like**,**list**,**tuple*) – the location(s)
    – rectangle(s) or quad(s) – to be marked. (Changed in v1.14.20) A list or tuple
    must consist of [`rect_like`](glossary.html#rect_like "rect_like") or [`quad_like`](glossary.html#quad_like
    "quad_like") items (or even a mixture of either). Every item must be finite, convex
    and not empty (as applicable). **Set this parameter to** *None* if you want to
    use the following arguments (Changed in v1.16.14). And vice versa: if not *None*,
    the remaining parameters must be *None*.'
  id: totrans-1375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads**（*rect_like*、*quad_like*、*list*、*tuple*） – 要标记的位置 – 矩形或四边形。 （在 v1.14.20
    中已更改）列表或元组必须由 [`rect_like`](glossary.html#rect_like "rect_like") 或 [`quad_like`](glossary.html#quad_like
    "quad_like") 项目组成（或两者的混合）。每个项目必须是有限的、凸的和非空的（适用时）。如果要使用以下参数，请将此参数设置为 *None*（在 v1.16.14
    中已更改）。反之亦然：如果不是 *None*，则剩余参数必须为 *None*。'
- en: '**start** (*point_like*) – start text marking at this point. Defaults to the
    top-left point of *clip*. Must be provided if `quads` is *None*. (New in v1.16.14)'
  id: totrans-1376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**start**（*point_like*） – 从此点开始标记文本。默认为 *clip* 的左上点。如果 `quads` 为 *None*，必须提供。（自
    v1.16.14 新增）'
- en: '**stop** (*point_like*) – stop text marking at this point. Defaults to the
    bottom-right point of *clip*. Must be used if `quads` is *None*. (New in v1.16.14)'
  id: totrans-1377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stop**（*point_like*） – 在此点停止标记文本。默认为 *clip* 的右下点。如果 `quads` 为 *None*，必须使用。（自
    v1.16.14 新增）'
- en: '**clip** (*rect_like*) – only consider text lines intersecting this area. Defaults
    to the page rectangle. Only use if `start` and `stop` are provided. (New in v1.16.14)'
  id: totrans-1378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*） – 仅考虑与此区域相交的文本行。默认为页面矩形。仅在提供 `start` 和 `stop` 时使用。（自
    v1.16.14 新增）'
- en: 'Return type:'
  id: totrans-1379
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot) or *None* (changed in v1.16.14).'
  id: totrans-1380
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot) 或 *None*（在 v1.16.14 中已更改）。'
- en: 'Returns:'
  id: totrans-1381
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. If *quads* is an empty list, **no annotation** is created
    (changed in v1.16.14).
  id: totrans-1382
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。如果 *quads* 是空列表，则不会创建**任何注释**（在 v1.16.14 中已更改）。
- en: Note
  id: totrans-1383
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use parameters *start*, *stop* and *clip* to highlight consecutive lines
    between the points *start* and *stop* (starting with v1.16.14). Make use of *clip*
    to further reduce the selected line bboxes and thus deal with e.g. multi-column
    pages. The following multi-line highlight on a page with three text columns was
    created by specifying the two red points and setting clip accordingly.
  id: totrans-1384
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用参数 *start*、*stop* 和 *clip* 来突出显示两个红点之间的连续线（从 v1.16.14 开始）。利用 *clip* 进一步减少所选行的边界框，从而处理例如多列页面。以下是在具有三个文本列的页面上创建的多行突出显示。
- en: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
  id: totrans-1385
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
- en: '[PRE129]'
  id: totrans-1386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: Cluster vector graphics (synonyms are line-art or drawings) based on their geometrical
    vicinity. The method walks through the output of [`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings") and joins paths whose `path["rect"]` are closer to each other
    than some tolerance values (given in the arguments). The result is a list of rectangles
    that each wrap things like tables (with gridlines), pie charts, bar charts, etc.
  id: totrans-1387
  prefs: []
  type: TYPE_NORMAL
  zh: 根据它们的几何邻近性对集群矢量图形（同义词为线框图或绘图）进行聚类。该方法遍历[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出，并连接那些 `path["rect"]` 之间距离小于某些容差值的路径。结果是一系列矩形，每个矩形都包围着像表格（带有网格线）、饼图、条形图等的东西。
- en: 'Parameters:'
  id: totrans-1388
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – only consider paths inside this area. The default
    is the full page.'
  id: totrans-1389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 仅考虑此区域内的路径。默认为整个页面。'
- en: '**drawings** (*list*) – (optional) provide a previously generated output of
    [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"). If `None` the
    method will execute the method.'
  id: totrans-1390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**drawings** (*list*) – （可选）提供先前生成的[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出。如果为 `None`，则执行该方法。'
- en: '**x_tolerance** (*float*) –'
  id: totrans-1391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x_tolerance** (*float*) –'
- en: '[PRE130]'
  id: totrans-1392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: Find tables on the page and return an object with related information. Typically,
    the default values of the many parameters will be sufficient. Adjustments should
    ever only be needed in corner case situations.
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
  zh: 查找页面上的表格并返回相关信息的对象。通常，许多参数的默认值将足够使用。只有在极端情况下才需要调整。
- en: 'Parameters:'
  id: totrans-1394
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – specify a region to consider within the page rectangle
    and ignore the rest. Default is the full page.'
  id: totrans-1395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 指定要考虑的页面矩形内的区域，并忽略其余部分。默认为整个页面。'
- en: '**strategy** (*str*) –'
  id: totrans-1396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**strategy** (*str*) –'
- en: Request a **table detection** strategy. Valid values are “lines”, “lines_strict”
    and “text”.
  id: totrans-1397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请求 **表检测** 策略。有效值为 “lines”、“lines_strict” 和 “text”。
- en: Default is **“lines”** which uses all vector graphics on the page to detect
    grid lines.
  id: totrans-1398
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认为 **“lines”**，使用页面上的所有矢量图形来检测网格线。
- en: Strategy **“lines_strict”** ignores borderless rectangle vector graphics. Sometimes
    single text pieces have background colors which may lead to false columns or lines.
    This strategy ignores them and can thus increase detection precision.
  id: totrans-1399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 策略 **“lines_strict”** 忽略无边框矩形矢量图形。有时单个文本片段具有背景颜色，这可能导致错误的列或行。此策略将忽略它们，从而提高检测精度。
- en: If **“text”** is specified, text positions are used to generate “virtual” column
    and / or row boundaries. Use `min_words_*` to request the number of words for
    considering their coordinates.
  id: totrans-1400
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果指定了 **“text”**，则使用文本位置生成“虚拟”列和/或行边界。使用 `min_words_*` 来请求考虑其坐标的单词数。
- en: Use parameters `vertical_strategy` and `horizontal_strategy` **instead** for
    a more fine-grained treatment of the dimensions.
  id: totrans-1401
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用参数`vertical_strategy`和`horizontal_strategy` **替代** 以更精细地处理维度。
- en: '**horizontal_lines** (*sequence**[**floats**]*) – y-coordinates of rows. If
    provided, there will be no attempt to identify additional table rows. This influences
    table detection.'
  id: totrans-1402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**horizontal_lines** (*sequence**[**floats**]*) – 行的 y 坐标。如果提供，将不会尝试识别额外的表行。这影响表的检测。'
- en: '**vertical_lines** (*sequence**[**floats**]*) – x-coordinates of columns. If
    provided, there will be no attempt to identify additional table columns. This
    influences table detection.'
  id: totrans-1403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**vertical_lines** (*sequence**[**floats**]*) – 列的 x 坐标。如果提供，将不会尝试识别额外的表列。这影响表的检测。'
- en: '**min_words_vertical** (*int*) – relevant for vertical strategy option “text”:
    at least this many words must coincide to establish a **virtual column** boundary.'
  id: totrans-1404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_vertical** (*int*) – 适用于垂直策略选项 “text”：至少必须有这么多单词重合以建立 **虚拟列** 边界。'
- en: '**min_words_horizontal** (*int*) – relevant for horizontal strategy option
    “text”: at least this many words must coincide to establish a **virtual row**
    boundary.'
  id: totrans-1405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_horizontal**（*int*） – 对于水平策略选项“text”相关：至少这么多的单词必须重合才能建立**虚拟行**边界。'
- en: '**snap_tolerance** (*float*) – Any two horizontal lines whose y-values differ
    by no more than this value will be **snapped** into one. Accordingly for vertical
    lines. Default is 3\. Separate values can be specified instead for the dimensions,
    using `snap_x_tolerance` and `snap_y_tolerance`.'
  id: totrans-1406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**snap_tolerance**（*float*） – 任何两个y值差异不超过此值的水平线将被**捕捉**到一起。对于垂直线也是如此。默认值为3。可以使用`snap_x_tolerance`和`snap_y_tolerance`分别指定不同的值。'
- en: '**join_tolerance** (*float*) – Any two lines will be **joined** to one if the
    end and the start points differ by no more than this value (in points). Default
    is 3\. Instead of this value, separate values can be specified for the dimensions
    using `join_x_tolerance` and `join_y_tolerance`.'
  id: totrans-1407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**join_tolerance**（*float*） – 如果两条线的端点之间的差异不超过此值（点），则将这两条线**连接**成一条。默认值为3。可以使用`join_x_tolerance`和`join_y_tolerance`分别指定不同的值。'
- en: '**edge_min_length** (*float*) – Ignore a line if its length does not exceed
    this value (points). Default is 3.'
  id: totrans-1408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**edge_min_length**（*float*） – 如果一条线的长度不超过此值（点），则忽略该线。默认值为3。'
- en: '**intersection_tolerance** (*float*) – When combining lines into cell borders,
    orthogonal lines must be within this value (points) to be considered intersecting.
    Default is 3\. Instead of this value, separate values can be specified for the
    dimensions using `intersection_x_tolerance` and `intersection_y_tolerance`.'
  id: totrans-1409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**intersection_tolerance**（*float*） – 当将线条组合成单元格边框时，正交线必须在此值（点）内被视为相交。默认值为3。可以使用`intersection_x_tolerance`和`intersection_y_tolerance`分别指定不同的值。'
- en: '**text_tolerance** (*float*) – Characters will be combined into words only
    if their distance is no larger than this value (points). Default is 3\. Instead
    of this value, separate values can be specified for the dimensions using `text_x_tolerance`
    and `text_y_tolerance`.'
  id: totrans-1410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_tolerance**（*float*） – 仅当字符之间的距离不大于此值（点）时，字符才会被组合成单词。默认值为3。可以使用`text_x_tolerance`和`text_y_tolerance`分别指定不同的值。'
- en: '**add_lines** (*tuple**,**list*) – Specify a list of “lines” (i.e. pairs of
    [`point_like`](glossary.html#point_like "point_like") objects) as **additional**,
    “virtual” vector graphics. These lines may help with table and / or cell detection
    and will not otherwise influence the detection strategy. Especially, in contrast
    to parameters `horizontal_lines` and `vertical_lines`, they will not prevent detecting
    rows or columns in other ways. These lines will be treated exactly like “real”
    vector graphics in terms of joining, snapping, intersectiing, minimum length and
    containment in the `clip` rectangle. Similarly, lines not parallel to any of the
    coordinate axes will be ignored.'
  id: totrans-1411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**add_lines**（*tuple**,**list*） – 指定作为**附加**“虚拟”矢量图形的“线条”列表（即[`point_like`](glossary.html#point_like
    "point_like")对象的对）。这些线条可能有助于表格和/或单元格的检测，并且不会以其他方式影响检测策略。特别是，与`horizontal_lines`和`vertical_lines`参数相比，它们不会以其他方式阻止检测行或列。这些线条在连接、捕捉、相交、最小长度和包含在`clip`矩形中方面会被完全像“真实”矢量图形一样处理。类似地，不平行于任何坐标轴的线条将被忽略。'
- en: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
  id: totrans-1412
  prefs: []
  type: TYPE_IMG
  zh: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
- en: 'Returns:'
  id: totrans-1413
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a `TableFinder` object that has the following significant attributes:'
  id: totrans-1414
  prefs: []
  type: TYPE_NORMAL
  zh: 一个`TableFinder`对象，具有以下重要属性：
- en: '`cells`: a list of **all bboxes** on the page, that have been identified as
    table cells (across all tables). Each cell is a [`rect_like`](glossary.html#rect_like
    "rect_like") tuple `(x0, y0, x1, y1)` of coordinates or `None`.'
  id: totrans-1415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 页面上已被识别为表格单元格的所有**边界框**（跨所有表格）的列表。每个单元格都是一个[`rect_like`](glossary.html#rect_like
    "rect_like")元组`(x0, y0, x1, y1)`或`None`。'
- en: '`tables`: a list of `Table` objects. This is `[]` if the page has no tables.
    Single tables can be found as items of this list. But the `TableFinder` object
    itself is also a sequence of its tables. This means that if `tabs` is a `TableFinder`
    object, then table “n” is delivered by `tabs.tables[n]` as well as by the shorter
    `tabs[n]`.'
  id: totrans-1416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tables`：`Table`对象的列表。如果页面没有表格，则为`[]`。单个表格可以作为此列表的项找到。但`TableFinder`对象本身也是其表格的序列。这意味着如果`tabs`是一个`TableFinder`对象，则表格“n”可以通过`tabs.tables[n]`或更短的`tabs[n]`交付。'
- en: 'The `Table` object has the following attributes:'
  id: totrans-1417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table`对象具有以下属性：'
- en: '[`bbox`](font.html#Font.bbox "Font.bbox"): the bounding box of the table as
    a tuple `(x0, y0, x1, y1)`.'
  id: totrans-1418
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bbox`](font.html#Font.bbox "Font.bbox")：表格的边界框，作为元组`(x0, y0, x1, y1)`。'
- en: '`cells`: bounding boxes of the table’s cells (list of tuples). A cell may also
    be `None`.'
  id: totrans-1419
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 表格单元的边界框（元组列表）。一个单元也可能是 `None`。'
- en: '`extract()`: this method returns the text content of each table cell as a list
    of list of strings.'
  id: totrans-1420
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`extract()`: 此方法将每个表格单元格的文本内容作为字符串列表返回。'
- en: '`to_markdown()`: this method returns the table as a **string in markdown format**
    (compatible to Github). Supporting viewers can render the string as a table. This
    output is optimized for **small token** sizes, which is especially beneficial
    for LLM/RAG feeds. Pandas DataFrames (see method `to_pandas()` below) offer an
    equivalent markdown table output which however is better readable for the human
    eye.'
  id: totrans-1421
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_markdown()`: 此方法将表格作为**Markdown 格式的字符串**返回（与 Github 兼容）。支持的查看器可以将字符串呈现为表格。此输出经过了**小标记**大小的优化，这对于
    LLM/RAG 订阅特别有利。Pandas DataFrames（参见下面的 `to_pandas()` 方法）提供了一个等效的 Markdown 表格输出，但对于人眼更易读。'
- en: '`to_pandas()`: this method returns the table as a [pandas](https://pypi.org/project/pandas/)
    [DataFrame](https://pandas.pydata.org/docs/reference/frame.html). DataFrames are
    very versatile objects allowing a plethora of table manipulation methods and outputs
    to almost 20 well-known formats, among them Excel files, CSV, JSON, markdown-formatted
    tables and more. `DataFrame.to_markdown()` generates a Github-compatible markdown
    format optimized for human readability. This method however requires the package
    [tablutate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))
    to installed in addition to pandas itself.'
  id: totrans-1422
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pandas()`: 此方法将表格作为 [pandas](https://pypi.org/project/pandas/) [DataFrame](https://pandas.pydata.org/docs/reference/frame.html)
    返回。DataFrame 是非常多才多艺的对象，允许使用各种表格操作方法，并输出到几乎 20 种众所周知的格式，其中包括 Excel 文件、CSV、JSON、Markdown
    格式的表格等。`DataFrame.to_markdown()` 生成了一个适用于 Github 的 Markdown 格式，经过了优化以提高人类可读性。然而，此方法还需要额外安装
    [tabulate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))
    这个包，除了 pandas 本身。'
- en: '`header`: a `TableHeader` object containing header information of the table.'
  id: totrans-1423
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`header`: 包含表头信息的 `TableHeader` 对象。'
- en: '`col_count`: an integer containing the number of table columns.'
  id: totrans-1424
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`col_count`: 包含表格列数的整数。'
- en: '`row_count`: an integer containing the number of table rows.'
  id: totrans-1425
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`row_count`: 包含表格行数的整数。'
- en: '`rows`: a list of `TableRow` objects containing two attributes, `bbox` is the
    boundary box of the row, and `cells` is a list of table cells contained in this
    row.'
  id: totrans-1426
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rows`: 包含两个属性的 `TableRow` 对象列表，`bbox` 是行的边界框，`cells` 是此行中包含的表格单元格列表。'
- en: 'The `TableHeader` object has the following attributes:'
  id: totrans-1427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TableHeader` 对象具有以下属性：'
- en: '`bbox`: the bounding box of the header.'
  id: totrans-1428
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`bbox`: 头部的边界框。'
- en: '`cells`: a list of bounding boxes containing the name of the respective column.'
  id: totrans-1429
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 包含各列名称的边界框列表。'
- en: '`names`: a list of strings containing the text of each of the cell bboxes.
    They represent the column names – which are used when exporting the table to pandas
    DataFrames, markdown, etc.'
  id: totrans-1430
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`names`: 包含每个单元边界框文本的字符串列表。它们代表列名 - 在将表格导出到 pandas DataFrames、Markdown 等时使用。'
- en: '`external`: a bool indicating whether the header bbox is outside the table
    body (`True`) or not. Table headers are never identified by the `TableFinder`
    logic. Therefore, if `external` is true, then the header cells are not part of
    any cell identified by `TableFinder`. If `external == False`, then the first table
    row is the header.'
  id: totrans-1431
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`external`: 一个布尔值，指示头部边界框是否在表格主体外部（`True`）或否。表头永远不会被 `TableFinder` 逻辑识别。因此，如果
    `external` 为真，则头部单元格不属于 `TableFinder` 识别的任何单元格。如果 `external == False`，则第一行是表头。'
- en: Please have a look at these [Jupyter notebooks](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis),
    which cover standard situations like multiple tables on one page or joining table
    fragments across multiple pages.
  id: totrans-1432
  prefs: []
  type: TYPE_NORMAL
  zh: 请查看这些 [Jupyter 笔记本](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis)，其中涵盖了诸如一页上的多个表格或跨多页连接表格片段等标准情况。
- en: <details><summary>Show/hide history</summary></details> *   New in version 1.23.0
  id: totrans-1433
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在版本 1.23.0 中新增
- en: 'Changed in version 1.23.19: new argument `add_lines`.'
  id: totrans-1434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在版本 1.23.19 中更改：新参数 `add_lines`。
- en: Important
  id: totrans-1435
  prefs: []
  type: TYPE_NORMAL
  zh: 重要
- en: There is also the [pdf2docx extract tables method](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)
    which is capable of table extraction if you prefer.
  id: totrans-1436
  prefs: []
  type: TYPE_NORMAL
  zh: 还有 [pdf2docx 提取表格方法](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)，如果你喜欢的话，也可以进行表格提取。
- en: '[PRE131]'
  id: totrans-1437
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: 'PDF only: Add a “rubber stamp” like annotation to e.g. indicate the document’s
    intended use (“DRAFT”, “CONFIDENTIAL”, etc.).'
  id: totrans-1438
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限于 PDF：向文档添加类似“橡皮图章”的注释，例如指示文档的预期用途（“草稿”，“机密”等）。
- en: 'Parameters:'
  id: totrans-1439
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle where to place the annotation.'
  id: totrans-1440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*）- 放置注释的矩形区域。'
- en: '**stamp** (*int*) – id number of the stamp text. For available stamps see [Stamp
    Annotation Icons](vars.html#stampicons).'
  id: totrans-1441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stamp**（*int*）- 图章文本的 id 号。有关可用图章，请参见[图章注释图标](vars.html#stampicons)。'
- en: Note
  id: totrans-1442
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The stamp’s text and its border line will automatically be sized and be put
    horizontally and vertically centered in the given rectangle. [`Annot.rect`](annot.html#Annot.rect
    "Annot.rect") is automatically calculated to fit the given **width** and will
    usually be smaller than this parameter.
  id: totrans-1443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图章的文本和边框线将自动调整大小，并水平和垂直居中在给定的矩形中。[`Annot.rect`](annot.html#Annot.rect "Annot.rect")
    将自动计算以适应给定的 **宽度**，通常会小于此参数。
- en: The font chosen is “Times Bold” and the text will be upper case.
  id: totrans-1444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择的字体是“Times Bold”，文本将为大写。
- en: The appearance can be changed using [`Annot.set_opacity()`](annot.html#Annot.set_opacity
    "Annot.set_opacity") and by setting the “stroke” color (no “fill” color supported).
  id: totrans-1445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用 [`Annot.set_opacity()`](annot.html#Annot.set_opacity "Annot.set_opacity")
    来更改外观，并设置“stroke”颜色（不支持“fill”颜色）。
- en: 'This can be used to create watermark images: on a temporary PDF page create
    a stamp annotation with a low opacity value, make a pixmap from it with *alpha=True*
    (and potentially also rotate it), discard the temporary PDF page and use the pixmap
    with [`insert_image()`](#Page.insert_image "Page.insert_image") for your target
    PDF.'
  id: totrans-1446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这可以用于创建水印图像：在临时 PDF 页面上创建一个具有低不透明度值的图章注释，使用 *alpha=True*（可能还会旋转），丢弃临时 PDF 页面，并将图像插入到你的目标
    PDF 中，使用 [`insert_image()`](#Page.insert_image "Page.insert_image")。
- en: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
  id: totrans-1447
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
- en: '[PRE132]'
  id: totrans-1448
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: 'PDF only: Add a PDF Form field (“widget”) to a page. This also **turns the
    PDF into a Form PDF**. Because of the large amount of different options available
    for widgets, we have developed a new class [Widget](widget.html#widget), which
    contains the possible PDF field attributes. It must be used for both, form field
    creation and updates.'
  id: totrans-1449
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：向页面添加 PDF 表单字段（“小部件”）。这也**将 PDF 转换为表单 PDF**。由于小部件有大量不同的选项可用，我们开发了一个新类
    [小部件](widget.html#widget)，其中包含可能的 PDF 字段属性。必须同时用于表单字段的创建和更新。
- en: 'Parameters:'
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**widget** ([Widget](widget.html#widget)) – a [Widget](widget.html#widget)
    object which must have been created upfront.'
  id: totrans-1451
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget**（[小部件](widget.html#widget)）- 一个[小部件](widget.html#widget)对象，必须事先创建。'
- en: 'Returns:'
  id: totrans-1452
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a widget annotation.
  id: totrans-1453
  prefs: []
  type: TYPE_NORMAL
  zh: 一个小部件注释。
- en: '[PRE133]'
  id: totrans-1454
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: The removal will now include any bound ‘Popup’ or response annotations and related
    objects (changed in v1.16.6).
  id: totrans-1455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在的移除将包括任何绑定的“弹出”或响应注释以及相关对象（在 v1.16.6 中更改）。
- en: 'PDF only: Delete annotation from the page and return the next one.'
  id: totrans-1456
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从页面中删除注释并返回下一个注释。
- en: 'Parameters:'
  id: totrans-1457
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**annot** ([Annot](annot.html#annot)) – the annotation to be deleted.'
  id: totrans-1458
  prefs: []
  type: TYPE_NORMAL
  zh: '**annot**（[注释](annot.html#annot)）- 要删除的注释。'
- en: 'Return type:'
  id: totrans-1459
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1460
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1461
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the annotation following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-1462
  prefs: []
  type: TYPE_NORMAL
  zh: 被删除注释后的注释。请记住，物理删除需要保存到一个带有垃圾 > 0 的新文件中。
- en: '[PRE134]'
  id: totrans-1463
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: 'PDF only: Delete field from the page and return the next one.'
  id: totrans-1464
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从页面中删除字段并返回下一个字段。
- en: 'Parameters:'
  id: totrans-1465
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**widget** ([Widget](widget.html#widget)) – the widget to be deleted.'
  id: totrans-1466
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget**（[小部件](widget.html#widget)）- 要删除的小部件。'
- en: 'Return type:'
  id: totrans-1467
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-1468
  prefs: []
  type: TYPE_NORMAL
  zh: '[小部件](widget.html#widget)'
- en: 'Returns:'
  id: totrans-1469
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the widget following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-1470
  prefs: []
  type: TYPE_NORMAL
  zh: 被删除的小部件后面的小部件。请记住，物理删除需要保存到一个带有垃圾 > 0 的新文件中。
- en: <details><summary>Show/hide history</summary></details> (New in v1.18.4)
  id: totrans-1471
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details>（v1.18.4 中新增）
- en: '[PRE135]'
  id: totrans-1472
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: 'PDF only: Delete the specified link from the page. The parameter must be an
    **original item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be deleted.'
  id: totrans-1473
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：删除页面上指定的链接。参数必须是 [`get_links()`](#Page.get_links "Page.get_links") 的**原始条目**，请参见[获取链接条目的描述](#link-dict-description)。其原因在于字典的
    *“xref”* 键，该键标识要删除的 PDF 对象。
- en: 'Parameters:'
  id: totrans-1474
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be deleted.'
  id: totrans-1475
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict**（*dict*）- 要删除的链接。'
- en: '[PRE136]'
  id: totrans-1476
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: 'PDF only: Insert a new link on this page. The parameter must be a dictionary
    of format as provided by [`get_links()`](#Page.get_links "Page.get_links"), see
    [Description of get_links() Entries](#link-dict-description).'
  id: totrans-1477
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：在本页上插入一个新链接。参数必须是由[`get_links()`](#Page.get_links "Page.get_links")提供的格式的字典，请参阅[get_links()条目描述](#link-dict-description)。
- en: 'Parameters:'
  id: totrans-1478
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be inserted.'
  id: totrans-1479
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict** (*dict*) – 待插入的链接。'
- en: '[PRE137]'
  id: totrans-1480
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: 'PDF only: Modify the specified link. The parameter must be a (modified) **original
    item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be changed.'
  id: totrans-1481
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：修改指定的链接。参数必须是由[`get_links()`](#Page.get_links "Page.get_links")的（修改后的）**原始项目**的字典。其原因是字典的“xref”键，该键标识要更改的PDF对象。
- en: 'Parameters:'
  id: totrans-1482
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be modified.'
  id: totrans-1483
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict** (*dict*) – 待修改的链接。'
- en: Warning
  id: totrans-1484
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'If updating / inserting a URI link (`"kind": LINK_URI`), please make sure to
    start the value for the `"uri"` key with a disambiguating string like `"http://"`,
    `"https://"`, `"file://"`, `"ftp://"`, `"mailto:"`, etc. Otherwise – depending
    on your browser or other “consumer” software – unexpected default assumptions
    may lead to unwanted behaviours.'
  id: totrans-1485
  prefs: []
  type: TYPE_NORMAL
  zh: '如果更新/插入URI链接（`"kind": LINK_URI`），请确保以消除歧义的字符串如`"http://"`，`"https://"`，`"file://"`，`"ftp://"`，`"mailto:"`等开始`"uri"`键的值。否则，依赖于您的浏览器或其他“消费者”软件，可能会导致意外的默认假设，从而产生意想不到的行为。'
- en: '[PRE138]'
  id: totrans-1486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE138]'
- en: 'PDF only: Return the label for the page.'
  id: totrans-1487
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回页面的标签。
- en: 'Return type:'
  id: totrans-1488
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: str
  id: totrans-1489
  prefs: []
  type: TYPE_NORMAL
  zh: str
- en: 'Returns:'
  id: totrans-1490
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the label string like “vii” for Roman numbering or “” if not defined.
  id: totrans-1491
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于罗马数字“vii”或未定义时为“”的标签字符串。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.6
  id: totrans-1492
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.18.6
- en: '[PRE139]'
  id: totrans-1493
  prefs: []
  type: TYPE_PRE
  zh: '[PRE139]'
- en: Retrieves **all** links of a page.
  id: totrans-1494
  prefs: []
  type: TYPE_NORMAL
  zh: 检索页面的**所有**链接。
- en: 'Return type:'
  id: totrans-1495
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-1496
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-1497
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. For a description of the dictionary entries, see [Description
    of get_links() Entries](#link-dict-description). Always use this or the [`Page.links()`](#Page.links
    "Page.links") method if you intend to make changes to the links of a page.
  id: totrans-1498
  prefs: []
  type: TYPE_NORMAL
  zh: 字典列表。有关字典条目的描述，请参阅[get_links()条目描述](#link-dict-description)。如果您打算更改页面的链接，请始终使用此方法或[`Page.links()`](#Page.links
    "Page.links")方法。
- en: '[PRE140]'
  id: totrans-1499
  prefs: []
  type: TYPE_PRE
  zh: '[PRE140]'
- en: Return a generator over the page’s links. The results equal the entries of [`Page.get_links()`](#Page.get_links
    "Page.get_links").
  id: totrans-1500
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面链接的生成器。结果等同于[`Page.get_links()`](#Page.get_links "Page.get_links")的条目。
- en: 'Parameters:'
  id: totrans-1501
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**kinds** (*sequence*) – a sequence of integers to down-select to one or more
    link kinds. Default is all links. Example: *kinds=(pymupdf.LINK_GOTO,)* will only
    return internal links.'
  id: totrans-1502
  prefs: []
  type: TYPE_NORMAL
  zh: '**kinds** (*sequence*) – 一个整数序列，用于选择一个或多个链接类型。默认为所有链接。例如：*kinds=(pymupdf.LINK_GOTO,)*将仅返回内部链接。'
- en: 'Return type:'
  id: totrans-1503
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-1504
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-1505
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an entry of [`Page.get_links()`](#Page.get_links "Page.get_links") for each
    iteration.
  id: totrans-1506
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的[`Page.get_links()`](#Page.get_links "Page.get_links")条目。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-1507
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE141]'
  id: totrans-1508
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: Return a generator over the page’s annotations.
  id: totrans-1509
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面注释的生成器。
- en: 'Parameters:'
  id: totrans-1510
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    annotation types. Default is all annotations. Example: `types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)` will only return ‘FreeText’ and ‘Text’ annotations.'
  id: totrans-1511
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 一个整数序列，用于选择一个或多个注释类型。默认为所有注释。例如：`types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)`将仅返回‘FreeText’和‘Text’注释。'
- en: 'Return type:'
  id: totrans-1512
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-1513
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-1514
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an [Annot](annot.html#annot) for each iteration.
  id: totrans-1515
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的[Annot](annot.html#annot)。
- en: Caution
  id: totrans-1516
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'You **cannot safely update annotations** from within this generator. This is
    because most annotation updates require reloading the page via `page = doc.reload_page(page)`.
    To circumvent this restriction, make a list of annotations xref numbers first
    and then iterate over these numbers:'
  id: totrans-1517
  prefs: []
  type: TYPE_NORMAL
  zh: 您**不能安全地更新注释**，因为大多数注释更新需要通过`page = doc.reload_page(page)`重新加载页面。为了避免此限制，请首先制作注释的交叉引用号列表，然后迭代这些数字：
- en: '[PRE142]'
  id: totrans-1518
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-1519
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE143]'
  id: totrans-1520
  prefs: []
  type: TYPE_PRE
  zh: '[PRE143]'
- en: Return a generator over the page’s form fields.
  id: totrans-1521
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面表单字段的生成器。
- en: 'Parameters:'
  id: totrans-1522
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    widget types. Default is all form fields. Example: `types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    will only return ‘Text’ fields.'
  id: totrans-1523
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 整数序列，用于筛选一个或多个小部件类型。默认为所有表单字段。例如：`types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    仅返回“文本”字段。'
- en: 'Return type:'
  id: totrans-1524
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-1525
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-1526
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a [Widget](widget.html#widget) for each iteration.
  id: totrans-1527
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的 [Widget](widget.html#widget)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-1528
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE144]'
  id: totrans-1529
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: 'PDF only: Write the text of one or more [TextWriter](textwriter.html#textwriter)
    objects to the page.'
  id: totrans-1530
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：将一个或多个 [TextWriter](textwriter.html#textwriter) 对象的文本写入页面。
- en: 'Parameters:'
  id: totrans-1531
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to place the text. If omitted, the rectangle
    union of the text writers is used.'
  id: totrans-1532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 文本放置的位置。如果省略，则使用文本编写器的矩形并集。'
- en: '**writers** (*sequence*) – a non-empty tuple / list of [TextWriter](textwriter.html#textwriter)
    objects or a single [TextWriter](textwriter.html#textwriter).'
  id: totrans-1533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**writers** (*sequence*) – 一个非空元组/列表，其中包含一个或多个 [TextWriter](textwriter.html#textwriter)
    对象或单个 [TextWriter](textwriter.html#textwriter)。'
- en: '**opacity** (*float*) – set transparency, overwrites resp. value in the text
    writers.'
  id: totrans-1534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity** (*float*) – 设置透明度，覆盖文本编写器中的相应值。'
- en: '**color** (*sequ*) – set the text color, overwrites resp. value in the text
    writers.'
  id: totrans-1535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**color** (*sequ*) – 设置文本颜色，覆盖文本编写器中的相应值。'
- en: '**overlay** (*bool*) – put the text in foreground or background.'
  id: totrans-1536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将文本放置在前景或背景中。'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio.'
  id: totrans-1537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持纵横比。'
- en: '**rotate** (*float*) – rotate the text by an arbitrary angle.'
  id: totrans-1538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 将文本按任意角度旋转。'
- en: '**oc** (*int*) – the [`xref`](glossary.html#xref "xref") of an [`OCG`](glossary.html#OCG
    "OCG") or [`OCMD`](glossary.html#OCMD "OCMD"). (New in v1.18.4)'
  id: totrans-1539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – [`OCG`](glossary.html#OCG "OCG") 或 [`OCMD`](glossary.html#OCMD
    "OCMD") 的 [`xref`](glossary.html#xref "xref")。 (新增于 v1.18.4)'
- en: Note
  id: totrans-1540
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Parameters *overlay, keep_proportion, rotate* and *oc* have the same meaning
    as in [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page").
  id: totrans-1541
  prefs: []
  type: TYPE_NORMAL
  zh: 参数 *overlay, keep_proportion, rotate* 和 *oc* 的含义与 [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page") 中相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.18
  id: totrans-1542
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.18
- en: '[PRE145]'
  id: totrans-1543
  prefs: []
  type: TYPE_PRE
  zh: '[PRE145]'
- en: 'PDF only: Insert text starting at [`point_like`](glossary.html#point_like "point_like")
    *point*. See [`Shape.insert_text()`](shape.html#Shape.insert_text "Shape.insert_text").'
  id: totrans-1544
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 [`point_like`](glossary.html#point_like "point_like") *point* 开始插入文本。参见
    [`Shape.insert_text()`](shape.html#Shape.insert_text "Shape.insert_text")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1545
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE146]'
  id: totrans-1546
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: 'PDF only: Insert text into the specified [`rect_like`](glossary.html#rect_like
    "rect_like") *rect*. See [`Shape.insert_textbox()`](shape.html#Shape.insert_textbox
    "Shape.insert_textbox").'
  id: totrans-1547
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：将文本插入到指定的 [`rect_like`](glossary.html#rect_like "rect_like") *rect* 中。参见
    [`Shape.insert_textbox()`](shape.html#Shape.insert_textbox "Shape.insert_textbox")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1548
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE147]'
  id: totrans-1549
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: '**PDF only:** Insert text into the specified rectangle. The method has similarities
    with methods [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox")
    and [`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox "TextWriter.fill_textbox"),
    but is **much more powerful**. This is achieved by letting a [Story](story-class.html#story)
    object do all the required processing.'
  id: totrans-1550
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅限 PDF：** 将文本插入到指定的矩形中。该方法与 [`Page.insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") 和 [`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox
    "TextWriter.fill_textbox") 方法类似，但功能更强大。通过让 [Story](story-class.html#story) 对象执行所有所需的处理来实现这一点。'
- en: Parameter [`text`](xml-class.html#Xml.text "Xml.text") may be a string as in
    the other methods. But it will be **interpreted as HTML source** and may therefore
    also contain HTML language elements – including styling. The `css` parameter may
    be used to pass in additional styling instructions.
  id: totrans-1551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参数 [`text`](xml-class.html#Xml.text "Xml.text") 可能是一个字符串，就像其他方法一样。但它将被**解释为
    HTML 源代码**，因此可能还包含 HTML 语言元素，包括样式。`css` 参数可用于传递额外的样式指令。
- en: Automatic line breaks are generated at word boundaries. The “soft hyphen” character
    `"&#173;"` (or `&shy;`) can be used to cause hyphenation and thus may also cause
    line breaks. **Forced** line breaks however are only achievable via the HTML tag
    `<br>` - `"\n"` is ignored and will be treated like a space.
  id: totrans-1552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动换行在单词边界处生成。可以使用“软连字符”字符`"&#173;"`（或 `&shy;`）来引起连字化，从而可能引起换行。然而，**强制**换行仅可通过
    HTML 标签 `<br>` 实现 - `"\n"` 将被忽略并被视为空格。
- en: 'With this method the following can be achieved:'
  id: totrans-1553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用此方法可以实现以下目标：
- en: Styling effects like bold, italic, text color, text alignment, font size or
    font switching.
  id: totrans-1554
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样式效果，如粗体、斜体、文字颜色、文本对齐、字体大小或字体切换。
- en: The text may include arbitrary languages – **including right-to-left** languages.
  id: totrans-1555
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文本可能包含任意语言 – 包括从右到左的语言。
- en: Scripts like [Devanagari](https://en.wikipedia.org/wiki/Devanagari) and several
    others in Asia have a highly complex system of ligatures, where two or more unicodes
    together yield one glyph. The Story uses the software package [HarfBuzz](https://harfbuzz.github.io/)
    , to deal with these things and produce correct output.
  id: totrans-1556
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[天城文](https://en.wikipedia.org/wiki/Devanagari) 等亚洲的几种文字具有高度复杂的连字系统，其中两个或更多个
    unicode 结合在一起形成一个字形。Story 使用软件包 [HarfBuzz](https://harfbuzz.github.io/) 处理这些情况，并生成正确的输出。'
- en: One can also **include images** via HTML tag `<img>` – the Story will take care
    of the appropriate layout. This is an alternative option to insert images, compared
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image").
  id: totrans-1557
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你也可以通过 HTML 标签 `<img>` 包含图像–Story 会处理适当的布局。与 [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image") 相比，这是一种插入图像的替代选项。
- en: HTML tables (tag `<table>`) may be included in the text and will be handled
    appropriately.
  id: totrans-1558
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML 表格（标签 `<table>`）可以包含在文本中，并将得到适当的处理。
- en: Links are automatically generated when present.
  id: totrans-1559
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存在时会自动生成链接。
- en: 'If content does not fit in the rectangle, the developer has two choices:'
  id: totrans-1560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果内容不适合矩形，则开发者有两个选择：
- en: '**either** only be informed about this (and accept a no-op, just like with
    the other textbox insertion methods),'
  id: totrans-1561
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**either** 只是被告知这一点（并接受无操作，就像其他文本框插入方法一样），'
- en: '**or** (`scale_low=0` - the default) scale down the content until it fits.'
  id: totrans-1562
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**or** (`scale_low=0` - the default)  或者  缩小内容，直到它适合。'
- en: 'Parameters:'
  id: totrans-1563
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle on page to receive the text.'
  id: totrans-1564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 页面上接收文本的矩形。'
- en: '**text** (*str**,*[*Story*](story-class.html#Story "Story")) – the text to
    be written. Can contain a mixture of plain text and HTML tags with styling instructions.
    Alternatively, a [Story](story-class.html#story) object may be specified (in which
    case the internal Story generation step will be omitted). A Story must have been
    generated with all required styling and Archive information.'
  id: totrans-1565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*str**,*[*Story*](story-class.html#Story "Story")) – 要写入的文本。可以包含纯文本和带有样式指令的
    HTML 标签的混合。或者，可以指定一个 [Story](story-class.html#story) 对象（在这种情况下，内部 Story 生成步骤将被省略）。必须使用所有所需的样式和归档信息生成
    Story。'
- en: '**css** (*str*) – optional string containing additional CSS instructions. This
    parameter is ignored if [`text`](xml-class.html#Xml.text "Xml.text") is a Story.'
  id: totrans-1566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**css** (*str*) – 可选字符串，包含额外的 CSS 指令。如果 [`text`](xml-class.html#Xml.text "Xml.text")
    是 Story，则忽略此参数。'
- en: '**scale_low** (*float*) – if necessary, scale down the content until it fits
    in the target rectangle. This sets the down scaling limit. Default is 0, no limit.
    A value of 1 means no down-scaling permitted. A value of e.g. 0.2 means maximum
    down-scaling by 80%.'
  id: totrans-1567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**scale_low** (*float*) – 如果需要，在目标矩形中缩小内容，直到适合为止。这设置了缩小限制。默认值为 0，没有限制。值为 1
    表示不允许缩小。例如，值为 0.2 表示最大缩小 80%。'
- en: '**archive** ([*Archive*](archive-class.html#Archive "Archive")) – an Archive
    object that points to locations where to find images or non-standard fonts. If
    [`text`](xml-class.html#Xml.text "Xml.text") refers to images or non-standard
    fonts, this parameter is required. This parameter is ignored if [`text`](xml-class.html#Xml.text
    "Xml.text") is a Story.'
  id: totrans-1568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**archive** ([*Archive*](archive-class.html#Archive "Archive")) – 指向图像或非标准字体位置的
    Archive 对象。如果 [`text`](xml-class.html#Xml.text "Xml.text") 引用图像或非标准字体，则需要此参数。如果
    [`text`](xml-class.html#Xml.text "Xml.text") 是 Story，则忽略此参数。'
- en: '**rotate** (*int*) –'
  id: totrans-1569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 旋转角度（*整数*）–'
- en: 'one of the values 0, 90, 180, 270\. Depending on this, text will be filled:'
  id: totrans-1570
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 值为 0、90、180、270 中的一个。根据这个值，文本将被填充：
- en: '0: top-left to bottom-right.'
  id: totrans-1571
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '0: 从左上到右下。'
- en: '90: bottom-left to top-right.'
  id: totrans-1572
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '90: 从左下到右上。'
- en: '180: bottom-right to top-left.'
  id: totrans-1573
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '180: 从右下到左上。'
- en: '270: top-right to bottom-left.'
  id: totrans-1574
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '270: 从右上到左下。'
- en: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
  id: totrans-1575
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
- en: '**oc** (*int*) – the xref of an [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD") or 0\. Please refer to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")
    for details.'
  id: totrans-1576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – 一个[`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD")的交叉引用或 0\. 请参考[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")获取详细信息。'
- en: '**opacity** (*float*) – set the fill and stroke opacity of the content. Only
    values `0 <= opacity < 1` are considered.'
  id: totrans-1577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity** (*float*) – 设置内容的填充和描边不透明度。仅考虑 `0 <= opacity < 1` 的值。'
- en: '**overlay** (*bool*) – put the text in front of other content. Please refer
    to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") for details.'
  id: totrans-1578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将文本置于其他内容之前。请参考[`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")获取详细信息。'
- en: 'Returns:'
  id: totrans-1579
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A tuple of floats `(spare_height, scale)`.
  id: totrans-1580
  prefs: []
  type: TYPE_NORMAL
  zh: 一个浮点数元组 `(spare_height, scale)`。
- en: '`spare_height`: -1 if content did not fit, else >= 0\. It is the height of
    the unused (still available) rectangle stripe. Positive only if scale = 1 (no
    down-scaling happened).'
  id: totrans-1581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spare_height`: -1 如果内容未适合，否则 >= 0\. 这是未使用的（仍然可用的）矩形条的高度。仅当 scale = 1 时为正（没有发生缩小）。'
- en: '`scale`: down-scaling factor, 0 < scale <= 1.'
  id: totrans-1582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scale`: 缩放因子，0 < scale <= 1。'
- en: 'Please refer to examples in this section of the recipes: [How to Fill a Box
    with HTML Text](recipes-text.html#recipestext-i-c).'
  id: totrans-1583
  prefs: []
  type: TYPE_NORMAL
  zh: 请参考本节的示例，了解如何填充一个框中的 HTML 文本：[如何填充一个框中的 HTML 文本](recipes-text.html#recipestext-i-c)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.23.8;
    rebased-only.
  id: totrans-1584
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.23.8 新增；仅基于重制。
- en: 'New in v1.23.9: [`opacity`](annot.html#Annot.opacity "Annot.opacity") parameter.'
  id: totrans-1585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.23.9 新增：[`opacity`](annot.html#Annot.opacity "Annot.opacity") 参数。
- en: '**Drawing Methods**'
  id: totrans-1586
  prefs: []
  type: TYPE_NORMAL
  zh: '**绘图方法**'
- en: '[PRE148]'
  id: totrans-1587
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: 'PDF only: Draw a line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_line()`](shape.html#Shape.draw_line "Shape.draw_line").'
  id: totrans-1588
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从*p1*到*p2*绘制一条线（[`point_like`](glossary.html#point_like "point_like")）。参见[`Shape.draw_line()`](shape.html#Shape.draw_line
    "Shape.draw_line")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1589
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE149]'
  id: totrans-1590
  prefs: []
  type: TYPE_PRE
  zh: '[PRE149]'
- en: 'PDF only: Draw a zigzag line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag "Shape.draw_zigzag").'
  id: totrans-1591
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从*p1*到*p2*绘制一条锯齿线（[`point_like`](glossary.html#point_like "point_like")）。参见[`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag
    "Shape.draw_zigzag")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1592
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE150]'
  id: totrans-1593
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: 'PDF only: Draw a squiggly (wavy, undulated) line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle
    "Shape.draw_squiggle").'
  id: totrans-1594
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从*p1*到*p2*绘制一条波浪线（波浪形、波浪状）。参见[`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle
    "Shape.draw_squiggle")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1595
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE151]'
  id: totrans-1596
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: 'PDF only: Draw a circle around *center* ([`point_like`](glossary.html#point_like
    "point_like")) with a radius of *radius*. See [`Shape.draw_circle()`](shape.html#Shape.draw_circle
    "Shape.draw_circle").'
  id: totrans-1597
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在*center*（[`point_like`](glossary.html#point_like "point_like")）周围以*radius*半径绘制一个圆。参见[`Shape.draw_circle()`](shape.html#Shape.draw_circle
    "Shape.draw_circle")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1598
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE152]'
  id: totrans-1599
  prefs: []
  type: TYPE_PRE
  zh: '[PRE152]'
- en: 'PDF only: Draw an oval (ellipse) within the given [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like"). See [`Shape.draw_oval()`](shape.html#Shape.draw_oval
    "Shape.draw_oval").'
  id: totrans-1600
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在给定的[`rect_like`](glossary.html#rect_like "rect_like")或[`quad_like`](glossary.html#quad_like
    "quad_like")内绘制椭圆（椭圆）。参见[`Shape.draw_oval()`](shape.html#Shape.draw_oval "Shape.draw_oval")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1601
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE153]'
  id: totrans-1602
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: 'PDF only: Draw a circular sector, optionally connecting the arc to the circle’s
    center (like a piece of pie). See [`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector").'
  id: totrans-1603
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制一个圆形扇区，可选择连接弧到圆的中心（像一个饼块）。参见[`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1604
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.4 版本更改
- en: '[PRE154]'
  id: totrans-1605
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: 'PDF only: Draw several connected lines defined by a sequence of [`point_like`](glossary.html#point_like
    "point_like") s. See [`Shape.draw_polyline()`](shape.html#Shape.draw_polyline
    "Shape.draw_polyline").'
  id: totrans-1606
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：绘制由一系列[`point_like`](glossary.html#point_like "point_like")定义的连接线。参见[`Shape.draw_polyline()`](shape.html#Shape.draw_polyline
    "Shape.draw_polyline")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1607
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.4中更改
- en: '[PRE155]'
  id: totrans-1608
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: 'PDF only: Draw a cubic Bézier curve from *p1* to *p4* with the control points
    *p2* and *p3* (all are [`point_like`](glossary.html#point_like "point_like") s).
    See [`Shape.draw_bezier()`](shape.html#Shape.draw_bezier "Shape.draw_bezier").'
  id: totrans-1609
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：使用控制点*p2*和*p3*（都是[`point_like`](glossary.html#point_like "point_like")）从*p1*到*p4*绘制三次贝塞尔曲线。参见[`Shape.draw_bezier()`](shape.html#Shape.draw_bezier
    "Shape.draw_bezier")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1610
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.4中更改
- en: '[PRE156]'
  id: totrans-1611
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: 'PDF only: This is a special case of *draw_bezier()*. See [`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve").'
  id: totrans-1612
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：这是*draw_bezier()*的特殊情况。参见[`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1613
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.4中更改
- en: '[PRE157]'
  id: totrans-1614
  prefs: []
  type: TYPE_PRE
  zh: '[PRE157]'
- en: 'PDF only: Draw a rectangle. See [`Shape.draw_rect()`](shape.html#Shape.draw_rect
    "Shape.draw_rect").'
  id: totrans-1615
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：绘制矩形。参见[`Shape.draw_rect()`](shape.html#Shape.draw_rect "Shape.draw_rect")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1616
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.4中更改
- en: 'Changed in v1.22.0: Added parameter *radius*.'
  id: totrans-1617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.22.0中更改：添加了参数*radius*。
- en: '[PRE158]'
  id: totrans-1618
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: 'PDF only: Draw a quadrilateral. See [`Shape.draw_quad()`](shape.html#Shape.draw_quad
    "Shape.draw_quad").'
  id: totrans-1619
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：绘制四边形。参见[`Shape.draw_quad()`](shape.html#Shape.draw_quad "Shape.draw_quad")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-1620
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.4中更改
- en: '[PRE159]'
  id: totrans-1621
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: 'PDF only: Add a new font to be used by text output methods and return its [`xref`](glossary.html#xref
    "xref"). If not already present in the file, the font definition will be added.
    Supported are the built-in [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    and the CJK fonts via **“reserved”** fontnames. Fonts can also be provided as
    a file path or a memory area containing the image of a font file.'
  id: totrans-1622
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：添加一个新的字体供文本输出方法使用，并返回其[`xref`](glossary.html#xref "xref")。如果文件中不存在，将添加字体定义。支持内置的[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")和CJK字体，还可以提供作为文件路径或包含字体文件图像的内存区域。
- en: 'Parameters:'
  id: totrans-1623
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**fontname** (*str*) –'
  id: totrans-1624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname** (*str*) – 字体名称。'
- en: The name by which this font shall be referenced when outputting text on this
    page. In general, you have a “free” choice here (but consult the [Adobe PDF References](app3.html#adobemanual),
    page 16, section 7.3.5 for a formal description of building legal PDF names).
    However, if it matches one of the [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    or one of the CJK fonts, *fontfile* and *fontbuffer* **are ignored**.
  id: totrans-1625
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出文本时引用此字体的名称。一般情况下，您在这里有一个“自由”的选择（但请参考[Adobe PDF References](app3.html#adobemanual)，第16页，第7.3.5节，以了解构建合法PDF名称的正式描述）。但如果匹配[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")中的一个或CJK字体中的一个，*fontfile*和*fontbuffer* **将被忽略**。
- en: In other words, you cannot insert a font via *fontfile* / *fontbuffer* and also
    give it a reserved *fontname*.
  id: totrans-1626
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 换句话说，您不能通过*fontfile* / *fontbuffer*插入字体，并且同时给出保留的*fontname*。
- en: Note
  id: totrans-1627
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: 'A reserved fontname can be specified in any mixture of upper or lower case
    and still match the right built-in font definition: fontnames “helv”, “Helv”,
    “HELV”, “Helvetica”, etc. all lead to the same font definition “Helvetica”. But
    from a [Page](#page) perspective, these are **different references**. You can
    exploit this fact when using different *encoding* variants (Latin, Greek, Cyrillic)
    of the same font on a page.'
  id: totrans-1628
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保留的字体名称可以以任何大小写混合的方式指定，并且仍然匹配正确的内置字体定义：字体名称“helv”、“Helv”、“HELV”、“Helvetica”等都导致相同的字体定义“Helvetica”。但从[Page](#page)的角度来看，这些是**不同的引用**。在页面上使用同一字体的不同*编码*变体（拉丁文、希腊文、西里尔文），您可以利用这一事实。
- en: '**fontfile** (*str*) – a path to a font file. If used, *fontname* must be **different
    from all reserved names**.'
  id: totrans-1629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontfile** (*str*) – 字体文件的路径。如果使用，*fontname* 必须与所有保留名称**不同**。'
- en: '**fontbuffer** (*bytes/bytearray*) – the memory image of a font file. If used,
    *fontname* must be **different from all reserved names**. This parameter would
    typically be used with [`Font.buffer`](font.html#Font.buffer "Font.buffer") for
    fonts supported / available via [Font](font.html#font).'
  id: totrans-1630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontbuffer** (*bytes/bytearray*) – 字体文件的内存映像。如果使用，*fontname* 必须与所有保留名称都**不同**。此参数通常与
    [Font](font.html#font) 中支持/可用的字体的 [`Font.buffer`](font.html#Font.buffer "Font.buffer")
    一起使用。'
- en: '**set_simple** (*int*) – applicable for *fontfile* / *fontbuffer* cases only:
    enforce treatment as a “simple” font, i.e. one that only uses character codes
    up to 255.'
  id: totrans-1631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**set_simple** (*int*) – 仅适用于 *fontfile* / *fontbuffer* 情况：强制将字体视为 “简单” 字体，即只使用字符代码到
    255。'
- en: '**encoding** (*int*) – applicable for the “Helvetica”, “Courier” and “Times”
    sets of [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts") only. Select one
    of the available encodings Latin (0), Cyrillic (2) or Greek (1). Only use the
    default (0 = Latin) for “Symbol” and “ZapfDingBats”.'
  id: totrans-1632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**encoding** (*int*) – 仅适用于 “Helvetica”，“Courier” 和 “Times” 字体组中的 [`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")。选择可用编码之一 拉丁（0），西里尔（2）或希腊（1）。只对 “Symbol” 和 “ZapfDingBats” 使用默认值（0
    = 拉丁）。'
- en: 'Rytpe:'
  id: totrans-1633
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-1634
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: 'Returns:'
  id: totrans-1635
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the [`xref`](glossary.html#xref "xref") of the installed font.
  id: totrans-1636
  prefs: []
  type: TYPE_NORMAL
  zh: 已安装字体的[`xref`](glossary.html#xref "xref")。
- en: Note
  id: totrans-1637
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Built-in fonts will not lead to the inclusion of a font file. So the resulting
    PDF file will remain small. However, your PDF viewer software is responsible for
    generating an appropriate appearance – and there **exist** differences on whether
    or how each one of them does this. This is especially true for the CJK fonts.
    But also Symbol and ZapfDingbats are incorrectly handled in some cases. Following
    are the **Font Names** and their correspondingly installed **Base Font** names:'
  id: totrans-1638
  prefs: []
  type: TYPE_NORMAL
  zh: 内置字体不会导致字体文件的包含。因此，生成的 PDF 文件将保持较小。但是，您的 PDF 查看器软件负责生成适当的外观 - 以及它们是否或如何执行此操作存在差异。对于CJK字体特别如此。但是某些情况下也会不正确地处理符号和ZapfDingbats。以下是**字体名称**及其对应的已安装的**基础字体**名称：
- en: '**Base-14 Fonts** [[1]](#f1)'
  id: totrans-1639
  prefs: []
  type: TYPE_NORMAL
  zh: '**Base-14 字体** [[1]](#f1)'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-1640
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装的基础字体** | **评论** |'
- en: '| --- | --- | --- |'
  id: totrans-1641
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| helv | Helvetica | normal |'
  id: totrans-1642
  prefs: []
  type: TYPE_TB
  zh: '| helv | Helvetica | 常规 |'
- en: '| heit | Helvetica-Oblique | italic |'
  id: totrans-1643
  prefs: []
  type: TYPE_TB
  zh: '| heit | Helvetica-Oblique | 斜体 |'
- en: '| hebo | Helvetica-Bold | bold |'
  id: totrans-1644
  prefs: []
  type: TYPE_TB
  zh: '| hebo | Helvetica-Bold | 粗体 |'
- en: '| hebi | Helvetica-BoldOblique | bold-italic |'
  id: totrans-1645
  prefs: []
  type: TYPE_TB
  zh: '| hebi | Helvetica-BoldOblique | 粗斜体 |'
- en: '| cour | Courier | normal |'
  id: totrans-1646
  prefs: []
  type: TYPE_TB
  zh: '| cour | Courier | 常规 |'
- en: '| coit | Courier-Oblique | italic |'
  id: totrans-1647
  prefs: []
  type: TYPE_TB
  zh: '| coit | Courier-Oblique | 斜体 |'
- en: '| cobo | Courier-Bold | bold |'
  id: totrans-1648
  prefs: []
  type: TYPE_TB
  zh: '| cobo | Courier-Bold | 粗体 |'
- en: '| cobi | Courier-BoldOblique | bold-italic |'
  id: totrans-1649
  prefs: []
  type: TYPE_TB
  zh: '| cobi | Courier-BoldOblique | 粗斜体 |'
- en: '| tiro | Times-Roman | normal |'
  id: totrans-1650
  prefs: []
  type: TYPE_TB
  zh: '| tiro | Times-Roman | 常规 |'
- en: '| tiit | Times-Italic | italic |'
  id: totrans-1651
  prefs: []
  type: TYPE_TB
  zh: '| tiit | Times-Italic | 斜体 |'
- en: '| tibo | Times-Bold | bold |'
  id: totrans-1652
  prefs: []
  type: TYPE_TB
  zh: '| tibo | Times-Bold | 粗体 |'
- en: '| tibi | Times-BoldItalic | bold-italic |'
  id: totrans-1653
  prefs: []
  type: TYPE_TB
  zh: '| tibi | Times-BoldItalic | 粗斜体 |'
- en: '| symb | Symbol | [[3]](#f3) |'
  id: totrans-1654
  prefs: []
  type: TYPE_TB
  zh: '| symb | Symbol | [[3]](#f3) |'
- en: '| zadb | ZapfDingbats | [[3]](#f3) |'
  id: totrans-1655
  prefs: []
  type: TYPE_TB
  zh: '| zadb | ZapfDingbats | [[3]](#f3) |'
- en: '**CJK Fonts** [[2]](#f2) (China, Japan, Korea)'
  id: totrans-1656
  prefs: []
  type: TYPE_NORMAL
  zh: '**CJK 字体** [[2]](#f2) （中国，日本，韩国）'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-1657
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装的基础字体** | **评论** |'
- en: '| --- | --- | --- |'
  id: totrans-1658
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| china-s | Heiti | simplified Chinese |'
  id: totrans-1659
  prefs: []
  type: TYPE_TB
  zh: '| china-s | Heiti | 简体中文 |'
- en: '| china-ss | Song | simplified Chinese (serif) |'
  id: totrans-1660
  prefs: []
  type: TYPE_TB
  zh: '| china-ss | Song | 简体中文（衬线） |'
- en: '| china-t | Fangti | traditional Chinese |'
  id: totrans-1661
  prefs: []
  type: TYPE_TB
  zh: '| china-t | Fangti | 繁体中文 |'
- en: '| china-ts | Ming | traditional Chinese (serif) |'
  id: totrans-1662
  prefs: []
  type: TYPE_TB
  zh: '| china-ts | Ming | 繁体中文（衬线） |'
- en: '| japan | Gothic | Japanese |'
  id: totrans-1663
  prefs: []
  type: TYPE_TB
  zh: '| japan | Gothic | 日语 |'
- en: '| japan-s | Mincho | Japanese (serif) |'
  id: totrans-1664
  prefs: []
  type: TYPE_TB
  zh: '| japan-s | Mincho | 日语（衬线） |'
- en: '| korea | Dotum | Korean |'
  id: totrans-1665
  prefs: []
  type: TYPE_TB
  zh: '| korea | Dotum | 韩语 |'
- en: '| korea-s | Batang | Korean (serif) |'
  id: totrans-1666
  prefs: []
  type: TYPE_TB
  zh: '| korea-s | Batang | 韩语（衬线） |'
- en: '[PRE160]'
  id: totrans-1667
  prefs: []
  type: TYPE_PRE
  zh: '[PRE160]'
- en: 'PDF only: Put an image inside the given rectangle. The image may already exist
    in the PDF or be taken from a pixmap, a file, or a memory area.'
  id: totrans-1668
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于 PDF：将图片放置在给定的矩形内。该图片可能已存在于 PDF 中，也可能来自于位图，文件或内存区域。
- en: 'Parameters:'
  id: totrans-1669
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to put the image. Must be finite and not empty.'
  id: totrans-1670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 图片放置的位置。必须是有限的并且不为空。'
- en: '**alpha** (*int*) – deprecated and ignored.'
  id: totrans-1671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*int*) – 已弃用并被忽略。'
- en: '**filename** (*str*) – name of an image file (all formats supported by MuPDF
    – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-1672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** (*str*) – 图像文件的名称（MuPDF 支持的所有格式 – 请参阅 [Supported Input Image Formats](pixmap.html#imagefiles)）。'
- en: '**height** (*int*) –'
  id: totrans-1673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*int*) –'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio of the image.'
  id: totrans-1674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持图片的长宽比。'
- en: '**mask** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory – to be used
    as image mask (alpha values) for the base image. When specified, the base image
    must be provided as a filename or a stream – and must not be an image that already
    has a mask.'
  id: totrans-1675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mask** (*bytes**,**bytearray**,**io.BytesIO*) – 内存中的图像，用作基础图像的图像掩码（alpha
    值）。当指定时，基础图像必须以文件名或流的形式提供，并且不能是已经有掩码的图像。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make image visibility
    dependent on this [`OCG`](glossary.html#OCG "OCG") or [`OCMD`](glossary.html#OCMD
    "OCMD"). Ignored after the first of multiple insertions. The property is stored
    with the generated PDF image object and therefore controls the image’s visibility
    throughout the PDF.'
  id: totrans-1676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) 使图像可见性依赖于此 [`OCG`](glossary.html#OCG
    "OCG") 或者 [`OCMD`](glossary.html#OCMD "OCMD")。在多次插入后会被忽略。该属性与生成的 PDF 图像对象一起存储，因此控制整个
    PDF 中图像的可见性。'
- en: '**overlay** – see [Common Parameters](shape.html#commonparms).'
  id: totrans-1677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** – 详见[通用参数](shape.html#commonparms)。'
- en: '**pixmap** ([Pixmap](pixmap.html#pixmap)) – a pixmap containing the image.'
  id: totrans-1678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap** ([Pixmap](pixmap.html#pixmap)) – 包含图像的 pixmap。'
- en: '**rotate** (*int*) – rotate the image. Must be an integer multiple of 90 degrees.
    Positive values rotate anti-clockwise. If you need a rotation by an arbitrary
    angle, consider converting the image to a PDF ([`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")) first and then use [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page") instead.'
  id: totrans-1679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 旋转图像。必须是90度的整数倍。正值为逆时针旋转。如果需要任意角度的旋转，请考虑先将图像转换为PDF（[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")），然后改用 [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")。'
- en: '**stream** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory (all formats
    supported by MuPDF – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-1680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream** (*bytes**,**bytearray**,**io.BytesIO*) – 内存中的图像（MuPDF 支持的所有格式，请参阅[支持的输入图像格式](pixmap.html#imagefiles)）。'
- en: '**width** (*int*) –'
  id: totrans-1681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width** (*int*) –'
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of an image already
    present in the PDF. If given, parameters `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream"), [`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha") and `mask` are ignored.
    The page will simply receive a reference to the existing image.'
  id: totrans-1682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref** (*int*) – PDF 中已经存在的图像的 [`xref`](glossary.html#xref "xref")。如果提供了，参数
    `filename`、[Pixmap](pixmap.html)、[`stream`](glossary.html#stream "stream")、[`alpha`](pixmap.html#Pixmap.alpha
    "Pixmap.alpha") 和 `mask` 将被忽略。页面将只是引用现有图像。'
- en: 'Returns:'
  id: totrans-1683
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The [`xref`](glossary.html#xref "xref") of the embedded image. This can be used
    as the [`xref`](glossary.html#xref "xref") argument for very significant performance
    boosts, if the image is inserted again.
  id: totrans-1684
  prefs: []
  type: TYPE_NORMAL
  zh: 嵌入图像的 [`xref`](glossary.html#xref "xref")。如果再次插入图像，则可以将此用作 [`xref`](glossary.html#xref
    "xref") 参数，从而获得非常显著的性能提升。
- en: 'This example puts the same image on every page of a document:'
  id: totrans-1685
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例在文档的每一页上都放置了相同的图像：
- en: '[PRE161]'
  id: totrans-1686
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: Note
  id: totrans-1687
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The method detects multiple insertions of the same image (like in the above
    example) and will store its data only on the first execution. This is even true
    (although less performant), if using the default `xref=0`.
  id: totrans-1688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法会检测到多次插入相同图像的情况（如上例），并且仅在第一次执行时存储其数据。即使使用默认值 `xref=0`，这也是正确的（虽然效率较低）。
- en: The method cannot detect if the same image had already been part of the file
    before opening it.
  id: totrans-1689
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法无法检测在打开文件之前是否已经存在相同的图像。
- en: You can use this method to provide a background or foreground image for the
    page, like a copyright or a watermark. Please remember, that watermarks require
    a transparent image if put in foreground …
  id: totrans-1690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用此方法为页面提供背景或前景图像，例如版权或水印。请记住，如果放在前景中，水印需要透明图像…
- en: The image may be inserted uncompressed, e.g. if a [Pixmap](pixmap.html#pixmap)
    is used or if the image has an alpha channel. Therefore, consider using `deflate=True`
    when saving the file. In addition, there are ways to control the image size –
    even if transparency comes into play. Have a look at [How to Add Images to a PDF
    Page](recipes-images.html#recipesimages-o).
  id: totrans-1691
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像可能是未经压缩的，例如，如果使用了 [Pixmap](pixmap.html#pixmap) 或者图像具有 alpha 通道。因此，保存文件时请考虑使用
    `deflate=True`。此外，即使透明度起作用，也有控制图像大小的方法。参见 [如何将图像添加到 PDF 页](recipes-images.html#recipesimages-o)。
- en: The image is stored in the PDF at its original quality level. This may be much
    better than what you need for your display. Consider **decreasing the image size**
    before insertion – e.g. by using the pixmap option and then shrinking it or scaling
    it down (see [Pixmap](pixmap.html#pixmap) chapter). The PIL method `Image.thumbnail()`
    can also be used for that purpose. The file size savings can be very significant.
  id: totrans-1692
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像以其原始质量级别存储在PDF中。这可能比您的显示需要的要好得多。在插入之前考虑**减小图像大小**，例如通过使用pixmap选项然后缩小或缩放它（请参阅[Pixmap](pixmap.html#pixmap)章节）。也可以使用PIL方法`Image.thumbnail()`来实现这一目的。文件大小节省可能非常显著。
- en: 'Another efficient way to display the same image on multiple pages is another
    method: [`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page"). Consult
    [`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf "Document.convert_to_pdf")
    for how to obtain intermediary PDFs usable for that method.'
  id: totrans-1693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在多个页面上显示相同图像的另一种有效方法是另一种方法：[`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")。请参阅[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")获取可用于该方法的中间PDF。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.14.1:
    By default, the image keeps its aspect ratio.'
  id: totrans-1694
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.14.1中更改：默认情况下，图像保持其纵横比。
- en: 'Changed in v1.14.11: Added args `keep_proportion`, `rotate`.'
  id: totrans-1695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.14.11中更改：添加了`keep_proportion`、`rotate`参数。
- en: 'Changed in v1.14.13:'
  id: totrans-1696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.14.13中更改：
- en: The image is now always placed **centered** in the rectangle, i.e. the centers
    of image and rectangle are equal.
  id: totrans-1697
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在图像总是以**居中**的方式放置在矩形中，即图像和矩形的中心是相等的。
- en: Added support for [`stream`](glossary.html#stream "stream") as `io.BytesIO`.
  id: totrans-1698
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加对[`stream`](glossary.html#stream "stream")作为`io.BytesIO`的支持。
- en: 'Changed in v1.17.6: Insertion rectangle no longer needs to have a non-empty
    intersection with the page’s [`Page.cropbox`](#Page.cropbox "Page.cropbox") [[5]](#f5).'
  id: totrans-1699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.17.6中更改：插入矩形不再需要与页面的[`Page.cropbox`](#Page.cropbox "Page.cropbox") [[5]](#f5)有非空交集。
- en: 'Changed in v1.18.1: Added `mask` arg.'
  id: totrans-1700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.18.1中更改：添加了`mask`参数。
- en: 'Changed in v1.18.3: Added `oc` arg.'
  id: totrans-1701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.18.3中更改：添加了`oc`参数。
- en: 'Changed in v1.18.13:'
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.18.13中更改：
- en: Allow providing the image as the xref of an existing one.
  id: totrans-1703
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将图像提供为现有图像的xref。
- en: Added [`xref`](glossary.html#xref "xref") arg.
  id: totrans-1704
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了[`xref`](glossary.html#xref "xref")参数。
- en: Return [`xref`](glossary.html#xref "xref") of stored image.
  id: totrans-1705
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回存储图像的[`xref`](glossary.html#xref "xref")。
- en: 'Changed in v1.19.3: deprecate and ignore [`alpha`](pixmap.html#Pixmap.alpha
    "Pixmap.alpha") arg.'
  id: totrans-1706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.19.3中更改：弃用并忽略[`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha")参数。
- en: '[PRE162]'
  id: totrans-1707
  prefs: []
  type: TYPE_PRE
  zh: '[PRE162]'
- en: Replace the image at xref with another one.
  id: totrans-1708
  prefs: []
  type: TYPE_NORMAL
  zh: 用另一张图像替换xref处的图像。
- en: 'Parameters:'
  id: totrans-1709
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref** (*整数*) – 图像的[`xref`](glossary.html#xref "xref")。'
- en: '**filename** – the filename of the new image.'
  id: totrans-1711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** – 新图像的文件名。'
- en: '**pixmap** – the [Pixmap](pixmap.html#pixmap) of the new image.'
  id: totrans-1712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap** – 新图像的[Pixmap](pixmap.html#pixmap)。'
- en: '**stream** – the memory area containing the new image.'
  id: totrans-1713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream** – 包含新图像的内存区域。'
- en: Arguments `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream") have the same meaning as in [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image"), especially exactly one of these must be provided.
  id: totrans-1714
  prefs: []
  type: TYPE_NORMAL
  zh: 参数`filename`、[Pixmap](pixmap.html)、[`stream`](glossary.html#stream "stream")的含义与[`Page.insert_image()`](#Page.insert_image
    "Page.insert_image")中相同，尤其是必须提供其中的一个。
- en: This is a **global replacement:** the new image will also be shown wherever
    the old one has been displayed throughout the file.
  id: totrans-1715
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个**全局替换：**新图像将显示在文件中显示旧图像的所有位置。
- en: This method mainly exists for technical purposes. Typical uses include replacing
    large images by smaller versions, like a lower resolution, graylevel instead of
    colored, etc., or changing transparency.
  id: totrans-1716
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法主要用于技术目的。典型用途包括通过较小版本（例如低分辨率、灰度而不是彩色等）替换大图像，或更改透明度。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-1717
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.21.0中的新内容
- en: '[PRE163]'
  id: totrans-1718
  prefs: []
  type: TYPE_PRE
  zh: '[PRE163]'
- en: 'Delete the image at xref. This is slightly misleading: actually the image is
    being replaced with a small transparent [Pixmap](pixmap.html#pixmap) using above
    [`Page.replace_image()`](#Page.replace_image "Page.replace_image"). The visible
    effect however is equivalent.'
  id: totrans-1719
  prefs: []
  type: TYPE_NORMAL
  zh: 删除xref处的图像。这略微误导：实际上，图像被用上述[`Page.replace_image()`](#Page.replace_image "Page.replace_image")替换为小型透明的[Pixmap](pixmap.html#pixmap)。然而，可见效果是等效的。
- en: 'Parameters:'
  id: totrans-1720
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-1721
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref** (*整数*) – 图像的[`xref`](glossary.html#xref "xref")。'
- en: This is a **global replacement:** the image will disappear wherever the old
    one has been displayed throughout the file.
  id: totrans-1722
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个**全局替换：**图像将在整个文件中原来显示的地方消失。
- en: If you inspect / extract a page’s images by methods like [`Page.get_images()`](#Page.get_images
    "Page.get_images"), [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    or [`Page.get_text()`](#Page.get_text "Page.get_text"), the replacing “dummy”
    image will be detected like so `(45, 47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`
    and also seem to “cover” the same boundary box on the page.
  id: totrans-1723
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您检查/提取页面的图像，如[`Page.get_images()`](#Page.get_images "Page.get_images")、[`Page.get_image_info()`](#Page.get_image_info
    "Page.get_image_info")或[`Page.get_text()`](#Page.get_text "Page.get_text")等方法，将检测到替换的“虚拟”图像，如`(45,
    47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`，并且似乎也“覆盖”了页面上的相同边界框。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-1724
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.21.0中新增
- en: '[PRE164]'
  id: totrans-1725
  prefs: []
  type: TYPE_PRE
  zh: '[PRE164]'
- en: 'Retrieves the content of a page in a variety of formats. This is a wrapper
    for multiple [TextPage](textpage.html#textpage) methods by choosing the output
    option `opt` as follows:'
  id: totrans-1726
  prefs: []
  type: TYPE_NORMAL
  zh: 以各种格式检索页面的内容。通过选择输出选项 `opt`，这是多个[TextPage](textpage.html#textpage)方法的包装器，如下所示：
- en: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT"),
    default
  id: totrans-1727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT")，默认
- en: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
  id: totrans-1728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
- en: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
  id: totrans-1729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
- en: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
  id: totrans-1730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
- en: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
  id: totrans-1731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
- en: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
  id: totrans-1732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
- en: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
  id: totrans-1733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
- en: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
  id: totrans-1734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
- en: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
  id: totrans-1735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
- en: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
  id: totrans-1736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
- en: 'Parameters:'
  id: totrans-1737
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**opt** (*str*) –'
  id: totrans-1738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opt**（*str*） –'
- en: A string indicating the requested format, one of the above. A mixture of upper
    and lower case is supported.
  id: totrans-1739
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个字符串，表示所请求的格式之一。支持大小写混合。
- en: Values “words” and “blocks” are also accepted (changed in v1.16.3).
  id: totrans-1740
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 也接受“words”和“blocks”两个值（v1.16.3中更改）。
- en: '**clip** (*rect-like*) – restrict extracted text to this rectangle. If None,
    the full page is taken. Has **no effect** for options “html”, “xhtml” and “xml”.
    (New in v1.17.7)'
  id: totrans-1741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*类似矩形*） – 将提取的文本限制在此矩形内。如果为None，则取整个页面。对于选项“html”、“xhtml”和“xml”，**没有效果**。（v1.17.7中新增）'
- en: '**flags** (*int*) – indicator bits to control whether to include images or
    how text should be handled with respect to white spaces and `ligatures`. See [Text
    Extraction Flags](vars.html#textpreserve) for available indicators and [Text Extraction
    Flags Defaults](app1.html#text-extraction-flags) for default settings. (New in
    v1.16.2)'
  id: totrans-1742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*） – 指示位，控制是否包括图像以及如何处理文本与空格和`连字`。有关可用指示器，请参阅[Text Extraction
    Flags](vars.html#textpreserve)，有关默认设置，请参阅[Text Extraction Flags Defaults](app1.html#text-extraction-flags)。（v1.16.2中新增）'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **very significantly:** by more than 50% and up to
    95%, depending on the extraction option. If specified, the ‘flags’ and ‘clip’
    arguments are ignored, because they are textpage-only properties. If omitted,
    a new, temporary textpage will be created. (New in v1.19.0)'
  id: totrans-1743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 使用之前创建的[TextPage](textpage.html#textpage)。这将大大减少执行时间：可减少50%以上，最高可达95%，具体取决于提取选项。如果指定了此参数，则“flags”和“clip”参数将被忽略，因为它们是仅针对textpage的属性。如果省略，则将创建一个新的临时textpage。（v1.19.0中新增）'
- en: '**sort** (*bool*) – sort the output by vertical, then horizontal coordinates.
    In many cases, this should suffice to generate a “natural” reading order. Has
    no effect on (X)HTML and XML. Output option **“words”** sorts by `(y1, x0)` of
    the words’ bboxes. Similar is true for “blocks”, “dict”, “json”, “rawdict”, “rawjson”:
    they all are sorted by `(y1, x0)` of the resp. block bbox. If specified for “text”,
    then internally “blocks” is used. (New in v1.19.1)'
  id: totrans-1744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**sort** (*bool*) – 将输出按垂直方向、然后按水平方向的坐标排序。在许多情况下，这应该足以生成“自然”的阅读顺序。在(X)HTML和XML上没有影响。输出选项**“words”**按单词的bboxes的`(y1,
    x0)`排序。对于“blocks”、“dict”、“json”、“rawdict”、“rawjson”，情况类似：它们都按相应块bbox的`(y1, x0)`排序。如果指定为“text”，则内部使用“blocks”。（在v1.19.1中新增）'
- en: '**delimiters** (*str*) – use these characters as *additional* word separators
    with the “words” output option (ignored otherwise). By default, all white spaces
    (including non-breaking space `0xA0`) indicate start and end of a word. Now you
    can specify more characters causing this. For instance, the default will return
    `"john.doe@outlook.com"` as **one** word. If you specify `delimiters="@."` then
    the **four** words `"john"`, `"doe"`, `"outlook"`, `"com"` will be returned. Other
    possible uses include ignoring punctuation characters `delimiters=string.punctuation`.
    The “word” strings will not contain any delimiting character. (New in v1.23.5)'
  id: totrans-1745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**delimiters** (*str*) – 使用这些字符作为“words”输出选项的*额外*单词分隔符（否则会被忽略）。默认情况下，所有空白字符（包括不间断空格`0xA0`）都表示单词的开头和结尾。现在你可以指定更多的字符导致这种情况。例如，默认情况下将返回`"john.doe@outlook.com"`作为**一个**单词。如果你指定`delimiters="@."`，那么将返回**四个**单词`"john"`，`"doe"`，`"outlook"`，`"com"`。其他可能的用法包括忽略标点符号字符`delimiters=string.punctuation`。这些“word”字符串不会包含任何分隔字符。（在v1.23.5中新增）'
- en: 'Return type:'
  id: totrans-1746
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '*str, list, dict*'
  id: totrans-1747
  prefs: []
  type: TYPE_NORMAL
  zh: '*str, list, dict*'
- en: 'Returns:'
  id: totrans-1748
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The page’s content as a string, a list or a dictionary. Refer to the corresponding
    [TextPage](textpage.html#textpage) method for details.
  id: totrans-1749
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的内容作为字符串、列表或字典。有关详细信息，请参阅相应的[TextPage](textpage.html#textpage)方法。
- en: Note
  id: totrans-1750
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use this method as a **document conversion tool** from [any supported
    document type](how-to-open-a-file.html#supported-file-types) to one of TEXT, HTML,
    XHTML or XML documents.
  id: totrans-1751
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以将此方法用作从[任何受支持的文档类型](how-to-open-a-file.html#supported-file-types)转换为TEXT、HTML、XHTML或XML文档的**文档转换工具**。
- en: 'The inclusion of text via the *clip* parameter is decided on a by-character
    level: a character becomes part of the output, if its bbox is contained in *clip*
    (changed in v1.18.2). This **deviates** from the algorithm used in redaction annotations:
    a character will be **removed if its bbox intersects** any redaction annotation.'
  id: totrans-1752
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过*clip*参数决定文本的包含是在字符级别上进行的：如果其bbox包含在*clip*中，则字符成为输出的一部分（在v1.18.2中更改）。这与用于修订注释的算法有所不同：如果字符的bbox与任何修订注释相交，则会被**移除**。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.0:
    added [TextPage](textpage.html) parameter'
  id: totrans-1753
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.19.0中更改：添加[TextPage](textpage.html)参数
- en: 'Changed in v1.19.1: added `sort` parameter'
  id: totrans-1754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.1中更改：添加了`sort`参数
- en: 'Changed in v1.19.6: added new constants for defining default flags per method.'
  id: totrans-1755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.6中更改：添加了用于每种方法定义默认标志的新常量。
- en: 'Changed in v1.23.5: added `delimiters` parameter'
  id: totrans-1756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.23.5中更改：添加`delimiters`参数
- en: '[PRE165]'
  id: totrans-1757
  prefs: []
  type: TYPE_PRE
  zh: '[PRE165]'
- en: Retrieve the text contained in a rectangle.
  id: totrans-1758
  prefs: []
  type: TYPE_NORMAL
  zh: 检索矩形中包含的文本。
- en: 'Parameters:'
  id: totrans-1759
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect-like*) – rect-like.'
  id: totrans-1760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*类似矩形的*) – 类似矩形的。'
- en: '**textpage** – a [TextPage](textpage.html#textpage) to use. If omitted, a new,
    temporary textpage will be created.'
  id: totrans-1761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 一个要使用的[TextPage](textpage.html#textpage)。如果省略，则将创建一个新的临时文本页。'
- en: 'Returns:'
  id: totrans-1762
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a string with interspersed linebreaks where necessary. It is based on dedicated
    code (changed in v1.19.0). A typical use is checking the result of [`Page.search_for()`](#Page.search_for
    "Page.search_for"):'
  id: totrans-1763
  prefs: []
  type: TYPE_NORMAL
  zh: 一个带有必要的插入换行符的字符串。它基于专用代码（在v1.19.0中更改）。一个典型的用法是检查[`Page.search_for()`](#Page.search_for
    "Page.search_for")的结果：
- en: '[PRE166]'
  id: totrans-1764
  prefs: []
  type: TYPE_PRE
  zh: '[PRE166]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.7
  id: totrans-1765
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.17.7中新增
- en: 'Changed in v1.19.0: add [TextPage](textpage.html) parameter'
  id: totrans-1766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.0中更改：添加[TextPage](textpage.html)参数
- en: '[PRE167]'
  id: totrans-1767
  prefs: []
  type: TYPE_PRE
  zh: '[PRE167]'
- en: Create a [TextPage](textpage.html#textpage) for the page.
  id: totrans-1768
  prefs: []
  type: TYPE_NORMAL
  zh: 为页面创建一个[TextPage](textpage.html#textpage)。
- en: 'Parameters:'
  id: totrans-1769
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    text extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-1770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – 控制后续文本提取和搜索可用内容的指示位 – 请参阅[`Page.get_text()`](#Page.get_text
    "Page.get_text")的参数。'
- en: '**clip** (*rect-like*) – restrict extracted text to this area. (New in v1.17.7)'
  id: totrans-1771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*类似矩形的*) – 将提取的文本限制在此区域。（在v1.17.7中新增）'
- en: 'Returns:'
  id: totrans-1772
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '[TextPage](textpage.html#textpage)'
  id: totrans-1773
  prefs: []
  type: TYPE_NORMAL
  zh: '[文本页面](textpage.html#textpage)'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.5
  id: totrans-1774
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自v1.16.5新增
- en: 'Changed in v1.17.7: introduced `clip` parameter.'
  id: totrans-1775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.17.7更改：引入`clip`参数。
- en: '[PRE168]'
  id: totrans-1776
  prefs: []
  type: TYPE_PRE
  zh: '[PRE168]'
- en: '**Optical Character Recognition** (**OCR**) technology can be used to extract
    text data for documents where text is in a raster image format throughout the
    page. Use this method to **OCR** a page for text extraction.'
  id: totrans-1777
  prefs: []
  type: TYPE_NORMAL
  zh: '**光学字符识别**（**OCR**）技术可用于提取文档中全部以光栅图像格式存在的文本数据。使用此方法对页面进行**OCR**以进行文本提取。'
- en: This method returns a [TextPage](textpage.html#textpage) for the page that includes
    OCRed text. MuPDF will invoke Tesseract-OCR if this method is used. Otherwise
    this is a normal [TextPage](textpage.html#textpage) object.
  id: totrans-1778
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法返回包含经OCR处理的文本的[文本页面](textpage.html#textpage)。如果使用此方法，MuPDF将调用Tesseract-OCR。否则，这是一个普通的[文本页面](textpage.html#textpage)对象。
- en: 'Parameters:'
  id: totrans-1779
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    test extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-1780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*） - 控制用于后续测试提取和搜索的内容的指示位 - 请参阅[`Page.get_text()`](#Page.get_text
    "Page.get_text")的参数。'
- en: '**language** (*str*) – the expected language(s). Use “+”-separated values if
    multiple languages are expected, “eng+spa” for English and Spanish.'
  id: totrans-1781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**language**（*str*） - 期望的语言。如果期望多种语言，请使用“+”分隔的值，“eng+spa”表示英语和西班牙语。'
- en: '**dpi** (*int*) – the desired resolution in dots per inch. Influences recognition
    quality (and execution time).'
  id: totrans-1782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi**（*int*） - 期望的每英寸点数。影响识别质量（和执行时间）。'
- en: '**full** (*bool*) – whether to OCR the full page, or just the displayed images.'
  id: totrans-1783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**full**（*bool*） - 是否对整个页面进行OCR，还是只对显示的图像进行OCR。'
- en: '**tessdata** (*str*) – The name of Tesseract’s language support folder `tessdata`.
    If omitted, this information must be present as environment variable [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX"). Can be determined by function [`get_tessdata()`](functions.html#get_tessdata
    "get_tessdata").'
  id: totrans-1784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**tessdata**（*str*） - Tesseract的语言支持文件夹的名称“tessdata”。如果省略，则必须作为环境变量[`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX")存在此信息。可以通过函数[`get_tessdata()`](functions.html#get_tessdata "get_tessdata")确定。'
- en: Note
  id: totrans-1785
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method does **not** support a clip parameter – OCR will always happen for
    the complete page rectangle.
  id: totrans-1786
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法**不支持**裁剪参数 - OCR将始终针对完整页面矩形进行。
- en: 'Returns:'
  id: totrans-1787
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a [TextPage](textpage.html#textpage). Execution may be significantly longer
    than [`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage").
  id: totrans-1788
  prefs: []
  type: TYPE_NORMAL
  zh: 一个[文本页面](textpage.html#textpage)。执行可能比[`Page.get_textpage()`](#Page.get_textpage
    "Page.get_textpage")显著延长。
- en: For a full page OCR, **all text** will have the font “GlyphlessFont” from Tesseract.
    In case of partial OCR, normal text will keep its properties, and only text coming
    from images will have the GlyphlessFont.
  id: totrans-1789
  prefs: []
  type: TYPE_NORMAL
  zh: 对于完整页面OCR，**所有文本**将使用来自Tesseract的“GlyphlessFont”字体。对于部分OCR，普通文本将保留其属性，只有来自图像的文本将使用GlyphlessFont字体。
- en: Note
  id: totrans-1790
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '**OCRed text is only available** to PyMuPDF’s text extractions and searches
    if their [TextPage](textpage.html) parameter specifies the output of this method.'
  id: totrans-1791
  prefs: []
  type: TYPE_NORMAL
  zh: '**OCR处理的文本仅在**PyMuPDF的文本提取和搜索中可用，如果它们的[文本页面](textpage.html)参数指定了此方法的输出。'
- en: '[This](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)
    Jupyter notebook walks through an example for using OCR textpages.'
  id: totrans-1792
  prefs: []
  type: TYPE_NORMAL
  zh: '[这篇](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)Jupyter笔记本演示了使用OCR文本页面的示例。'
- en: <details><summary>Show/hide history</summary></details> *   New in v.1.19.0
  id: totrans-1793
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自v.1.19.0新增
- en: 'Changed in v1.19.1: support full and partial OCRing a page.'
  id: totrans-1794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自v1.19.1更改：支持对页面进行完整和部分OCR。
- en: '[PRE169]'
  id: totrans-1795
  prefs: []
  type: TYPE_PRE
  zh: '[PRE169]'
- en: Return the vector graphics of the page. These are instructions which draw lines,
    rectangles, quadruples or curves, including properties like colors, transparency,
    line width and dashing, etc. Alternative terms are “line art” and “drawings”.
  id: totrans-1796
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面的矢量图形。这些是绘制线条、矩形、四边形或曲线的指令，包括颜色、透明度、线宽和虚线等属性。另外的术语是“线条艺术”和“绘图”。
- en: 'Returns:'
  id: totrans-1797
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a list of dictionaries. Each dictionary item contains one or more single draw
    commands belonging together: they have the same properties (colors, dashing, etc.).
    This is called a **“path”** in PDF, so we adopted that name here, but the method
    **works for all document types**.'
  id: totrans-1798
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。每个字典项包含一个或多个彼此相关的单一绘图命令：它们具有相同的属性（颜色、虚线等）。在PDF中称为**“路径”**，因此我们在此处采用了该名称，但该方法适用于所有文档类型。
- en: 'The path dictionary for fill, stroke and fill-stroke paths has been designed
    to be compatible with class [Shape](shape.html#shape). There are the following
    keys:'
  id: totrans-1799
  prefs: []
  type: TYPE_NORMAL
  zh: 用于填充、笔画和填充-笔画路径的路径字典已设计为与类[形状](shape.html#shape)兼容。以下是键：
- en: '| Key | Value |'
  id: totrans-1800
  prefs: []
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-1801
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-1802
  prefs: []
  type: TYPE_TB
  zh: '| closePath | 与[形状](shape.html#shape)中的参数相同。 |'
- en: '| color | Stroke color (see [Shape](shape.html#shape)). |'
  id: totrans-1803
  prefs: []
  type: TYPE_TB
  zh: '| 颜色 | 笔画颜色（见[形状](shape.html#shape)）。 |'
- en: '| dashes | Dashed line specification (see [Shape](shape.html#shape)). |'
  id: totrans-1804
  prefs: []
  type: TYPE_TB
  zh: '| dashes | 虚线规格（见[形状](shape.html#shape)）。 |'
- en: '| even_odd | Fill colors of area overlaps – same as the parameter in [Shape](shape.html#shape).
    |'
  id: totrans-1805
  prefs: []
  type: TYPE_TB
  zh: '| even_odd | 区域重叠的填充颜色-与[形状](shape.html#shape)中的参数相同。 |'
- en: '| fill | Fill color (see [Shape](shape.html#shape)). |'
  id: totrans-1806
  prefs: []
  type: TYPE_TB
  zh: '| fill | 填充颜色（见[形状](shape.html#shape)）。 |'
- en: '| items | List of draw commands: lines, rectangles, quads or curves. |'
  id: totrans-1807
  prefs: []
  type: TYPE_TB
  zh: '| 项目 | 绘制命令列表：线条、矩形、四边形或曲线。 |'
- en: '| lineCap | Number 3-tuple, use its max value on output with [Shape](shape.html#shape).
    |'
  id: totrans-1808
  prefs: []
  type: TYPE_TB
  zh: '| lineCap | 数字3元组，在[形状](shape.html#shape)中输出时使用其最大值。 |'
- en: '| lineJoin | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-1809
  prefs: []
  type: TYPE_TB
  zh: '| lineJoin | 与[形状](shape.html#shape)中的参数相同。 |'
- en: '| fill_opacity | fill color transparency (see [Shape](shape.html#shape)). (New
    in v1.18.17) |'
  id: totrans-1810
  prefs: []
  type: TYPE_TB
  zh: '| fill_opacity | 填充颜色的透明度（见[形状](shape.html#shape)）。 （新于 v1.18.17） |'
- en: '| stroke_opacity | stroke color transparency (see [Shape](shape.html#shape)).
    (New in v1.18.17) |'
  id: totrans-1811
  prefs: []
  type: TYPE_TB
  zh: '| stroke_opacity | 笔画颜色的透明度（见[形状](shape.html#shape)）。 （新于 v1.18.17） |'
- en: '| rect | Page area covered by this path. Information only. |'
  id: totrans-1812
  prefs: []
  type: TYPE_TB
  zh: '| rect | 此路径覆盖的页面区域。仅供信息参考。 |'
- en: '| layer | name of applicable Optional Content Group. (New in v1.22.0) |'
  id: totrans-1813
  prefs: []
  type: TYPE_TB
  zh: '| layer | 适用的可选内容组的名称。 （新于 v1.22.0） |'
- en: '| level | the hierarchy level if `extended=True`. (New in v1.22.0) |'
  id: totrans-1814
  prefs: []
  type: TYPE_TB
  zh: '| level | 如果`extended=True`，则为层级。 （新于 v1.22.0） |'
- en: '| seqno | command number when building page appearance. (New in v1.19.0) |'
  id: totrans-1815
  prefs: []
  type: TYPE_TB
  zh: '| seqno | 构建页面外观时的命令编号。(新于 v1.19.0) |'
- en: '| type | type of this path. (New in v1.18.17) |'
  id: totrans-1816
  prefs: []
  type: TYPE_TB
  zh: '| type | 此路径的类型。（新于 v1.18.17） |'
- en: '| width | Stroke line width. (see [Shape](shape.html#shape)). |'
  id: totrans-1817
  prefs: []
  type: TYPE_TB
  zh: '| width | 笔画线宽度。（见[形状](shape.html#shape)）。 |'
- en: Key `"opacity"` has been replaced by the new keys `"fill_opacity"` and `"stroke_opacity"`.
    This is now compatible with the corresponding parameters of [`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish"). (Changed in v1.18.17)
  id: totrans-1818
  prefs: []
  type: TYPE_NORMAL
  zh: 键`"opacity"`已被新键`"fill_opacity"`和`"stroke_opacity"`替换。这现在与[`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish")的相应参数兼容。 （在 v1.18.17 中更改）
- en: 'For paths other than groups or clips, key `"type"` takes one of the following
    values:'
  id: totrans-1819
  prefs: []
  type: TYPE_NORMAL
  zh: 对于除了组或剪辑之外的路径，键`"type"`取以下值之一：
- en: '**“f”** – this is a *fill-only* path. Only key-values relevant for this operation
    have a meaning, not applicable ones are present with a value of *None*: `"color"`,
    `"lineCap"`, `"lineJoin"`, `"width"`, `"closePath"`, `"dashes"` and should be
    ignored.'
  id: totrans-1820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“f”** – 这是一个*仅填充*路径。只有与此操作相关的键值才有意义，不适用的键值为*None*：`"color"`、`"lineCap"`、`"lineJoin"`、`"width"`、`"closePath"`、`"dashes"`，应该忽略。'
- en: '**“s”** – this is a *stroke-only* path. Similar to previous, key `"fill"` is
    present with value *None*.'
  id: totrans-1821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“s”** – 这是一个*仅笔画*路径。类似于以前，键`"fill"`的值为*None*。'
- en: '**“fs”** – this is a path performing combined *fill* and *stroke* operations.'
  id: totrans-1822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“fs”** – 这是执行组合*填充*和*笔画*操作的路径。'
- en: 'Each item in `path["items"]` is one of the following:'
  id: totrans-1823
  prefs: []
  type: TYPE_NORMAL
  zh: '`path["items"]`中的每个项目是以下之一：'
- en: '`("l", p1, p2)` - a line from p1 to p2 ([Point](point.html#point) objects).'
  id: totrans-1824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("l", p1, p2)` - 从p1到p2的线条（[点](point.html#point)对象）。'
- en: '`("c", p1, p2, p3, p4)` - cubic Bézier curve **from p1 to p4** (p2 and p3 are
    the control points). All objects are of type [Point](point.html#point).'
  id: totrans-1825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("c", p1, p2, p3, p4)` - 从p1到p4的三次贝塞尔曲线（p2和p3是控制点）。所有对象都是[点](point.html#point)类型。'
- en: '`("re", rect, orientation)` - a [Rect](rect.html#rect). Multiple rectangles
    within the same path are now detected (changed in v1.18.17). Integer `orientation`
    is 1 resp. -1 indicating whether the enclosed area is rotated left (1 = anti-clockwise),
    or resp. right [[7]](#f7) (changed in v1.19.2).'
  id: totrans-1826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("re", rect, orientation)` - 一个[矩形](rect.html#rect)。现在能检测到同一路径内的多个矩形（在 v1.18.17
    中更改）。整数`orientation`为1或-1，表示封闭区域是否向左旋转（1 = 逆时针），或向右旋转 [[7]](#f7)（在 v1.19.2 中更改）。'
- en: '`("qu", quad)` - a [Quad](quad.html#quad). 3 or 4 consecutive lines are detected
    to actually represent a [Quad](quad.html#quad) (changed in v1.19.2:). (New in
    v1.18.17)'
  id: totrans-1827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("qu", quad)` - 一个[四边形](quad.html#quad)。现在能检测到连续3或4条线实际上代表一个[四边形](quad.html#quad)（在
    v1.19.2 中更改）。 （新于 v1.18.17）'
- en: Using class [Shape](shape.html#shape), you should be able to recreate the original
    drawings on a separate (PDF) page with high fidelity under normal, not too sophisticated
    circumstances. Please see the following comments on restrictions. A coding draft
    can be found in section “Extractings Drawings” of chapter [FAQ](faq.html#faq).
  id: totrans-1828
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 [Shape](shape.html#shape) 类，您应该能够在正常且不太复杂的情况下以高保真度重新创建原始图纸并放置在单独（PDF）页面上。请参阅对限制的以下评论。在章节
    [FAQ](faq.html#faq) 的 “提取图纸” 中可以找到一份编码草案。
- en: 'Specifying `extended=True` significantly alters the output. Most importantly,
    new dictionary types are present: “clip” and “group”. All paths will now be organized
    in a hierarchic structure which is encoded by the new integer key “level”, the
    hierarchy level. Each group or clip establishes a new hierarchy, which applies
    to all subsequent paths having a *larger* level value. (New in v1.22.0)'
  id: totrans-1829
  prefs: []
  type: TYPE_NORMAL
  zh: 指定 `extended=True` 会显著改变输出。最重要的是，现在存在新的字典类型：“clip” 和 “group”。现在，所有路径都将以层次结构方式组织，该结构由新的整数键
    “level” 编码，即层次级别。每个组或裁剪都建立了一个新的层次结构，该层次结构适用于所有具有*更大*级别值的后续路径。（v1.22.0 中新增）
- en: 'Any path with a smaller level value than its predecessor will end the scope
    of (at least) the preceeding hierarchy level. A “clip” path with the same level
    as the preceding clip will end the scope of that clip. Same is true for groups.
    This is best explained by an example:'
  id: totrans-1830
  prefs: []
  type: TYPE_NORMAL
  zh: 任何具有比其前导者更小级别值的路径将结束（至少）前导层次结构级别的范围。具有与前导裁剪相同级别的“clip”路径将结束该裁剪的范围。对于组也是如此。这最好通过一个示例来解释：
- en: '[PRE170]'
  id: totrans-1831
  prefs: []
  type: TYPE_PRE
  zh: '[PRE170]'
- en: The clip in line 0 applies to line including line 7\. Group in line 2 applies
    to lines 3 to 5, clip in line 3 only applies to line 4.
  id: totrans-1832
  prefs: []
  type: TYPE_NORMAL
  zh: 第 0 行的裁剪适用于包括第 7 行在内的行。第 2 行的组适用于第 3 到第 5 行，第 3 行的裁剪仅适用于第 4 行。
- en: “stroke” in line 4 is under control of “group” in line 2 and “clip” in line
    3 (which in turn is a subset of line 0 clip).
  id: totrans-1833
  prefs: []
  type: TYPE_NORMAL
  zh: 第 4 行的“stroke”受第 2 行的“group”和第 3 行的“clip”（其又是第 0 行的裁剪的子集）控制。
- en: '**“clip”** dictionary. Its values (most importantly “scissor”) remain valid
    / apply as long as following dictionaries have a **larger “level”** value.'
  id: totrans-1834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“clip”** 字典。其值（最重要的是 “scissor”）只要后续的字典具有**更大的“level”**值，就保持有效/适用。'
- en: '| Key | Value |'
  id: totrans-1835
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-1836
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1837
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| closePath | 与“stroke”或“fill”字典中的相同 |'
- en: '| even_odd | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1838
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| even_odd | 与“stroke”或“fill”字典中的相同 |'
- en: '| items | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1839
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| items | 与“stroke”或“fill”字典中的相同 |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1840
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与“stroke”或“fill”字典中的相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1841
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与“stroke”或“fill”字典中的相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1842
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与“stroke”或“fill”字典中的相同 |'
- en: '| scissor | the clip rectangle |'
  id: totrans-1843
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| scissor | 裁剪矩形 |'
- en: '| type | “clip” |'
  id: totrans-1844
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “clip” |'
- en: “group” dictionary. Its values remain valid (apply) as long as following dictionaries
    have a **larger “level”** value. Any dictionary with an equal or lower level end
    this group.
  id: totrans-1845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “group” 字典。其值保持有效（适用），只要后续的字典具有**更大的“level”**值。任何具有相等或更低级别的字典都会结束此组。
- en: '| Key | Value |'
  id: totrans-1846
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-1847
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1848
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与“stroke”或“fill”字典中的相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1849
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与“stroke”或“fill”字典中的相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-1850
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与“stroke”或“fill”字典中的相同 |'
- en: '| isolated | (bool) Whether this group is isolated |'
  id: totrans-1851
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| isolated | (bool) 此组是否为孤立组 |'
- en: '| knockout | (bool) Whether this is a “Knockout Group” |'
  id: totrans-1852
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| knockout | (bool) 是否为“Knockout Group” |'
- en: '| blendmode | Name of the BlendMode, default is “Normal” |'
  id: totrans-1853
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| blendmode | BlendMode 的名称，默认为 “Normal” |'
- en: '| opacity | Float value in range [0, 1]. |'
  id: totrans-1854
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| opacity | 在范围 [0, 1] 中的浮点值。 |'
- en: '| type | “group” |'
  id: totrans-1855
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “group” |'
- en: Note
  id: totrans-1856
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The method is based on the output of [`Page.get_cdrawings()`](#Page.get_cdrawings
    "Page.get_cdrawings") – which is much faster, but requires somewhat more attention
    processing its output.
  id: totrans-1857
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法基于 [`Page.get_cdrawings()`](#Page.get_cdrawings "Page.get_cdrawings") 的输出——它速度更快，但需要对其输出进行更多处理。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.0
  id: totrans-1858
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.18.0 新增
- en: Changed in v1.18.17
  id: totrans-1859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.17 版中已更改
- en: 'Changed in v1.19.0: add “seqno” key, remove “clippings” key'
  id: totrans-1860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.0 版中已更改：添加了 “seqno” 键，删除了 “clippings” 键
- en: 'Changed in v1.19.1: “color” / “fill” keys now always are either are RGB tuples
    or `None`. This resolves issues caused by exotic colorspaces.'
  id: totrans-1861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.1 版中已更改： “color”/“fill” 键现在始终为 RGB 元组或 `None`。这解决了由于异国情调的颜色空间而引起的问题。
- en: 'Changed in v1.19.2: add an indicator for the *“orientation”* of the area covered
    by an “re” item.'
  id: totrans-1862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.2版本更改：为“re”项覆盖的区域的*“方向”*添加指示器。
- en: 'Changed in v1.22.0: add new key `"layer"` which contains the name of the Optional
    Content Group of the path (or `None`).'
  id: totrans-1863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.22.0版本更改：添加新键`"layer"`，其包含路径的可选内容组名称（或`None`）。
- en: 'Changed in v1.22.0: add parameter `extended` to also return clipping and group
    paths.'
  id: totrans-1864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.22.0版本更改：添加参数`extended`以便返回剪切和组路径。
- en: '[PRE171]'
  id: totrans-1865
  prefs: []
  type: TYPE_PRE
  zh: '[PRE171]'
- en: 'Extract the vector graphics on the page. Apart from following technical differences,
    functionally equivalent to [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"),
    but much faster:'
  id: totrans-1866
  prefs: []
  type: TYPE_NORMAL
  zh: 提取页面上的矢量图形。除了技术差异外，功能上等同于[`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings")，但速度更快：
- en: Every path type only contains the relevant keys, e.g. a stroke path has no `"fill"`
    color key. See comment in method [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings").
  id: totrans-1867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每种路径类型仅包含相关键，例如描边路径没有`"fill"`颜色键。请参阅[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")方法中的注释。
- en: Coordinates are given as [`point_like`](glossary.html#point_like "point_like"),
    [`rect_like`](glossary.html#rect_like "rect_like") and [`quad_like`](glossary.html#quad_like
    "quad_like") **tuples** – not as [Point](point.html#point), [Rect](rect.html#rect),
    [Quad](quad.html#quad) objects.
  id: totrans-1868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 坐标以[`point_like`](glossary.html#point_like "point_like")、[`rect_like`](glossary.html#rect_like
    "rect_like")和[`quad_like`](glossary.html#quad_like "quad_like") **元组**形式给出，而不是作为[Point](point.html#point)、[Rect](rect.html#rect)和[Quad](quad.html#quad)对象。
- en: 'If performance is a concern, consider using this method: Compared to versions
    earlier than 1.18.17, you should see much shorter response times. We have seen
    pages that required 2 seconds then, now only need 200 ms with this method.'
  id: totrans-1869
  prefs: []
  type: TYPE_NORMAL
  zh: 如果性能是一个问题，请考虑使用此方法：与1.18.17之前的版本相比，您应该看到更短的响应时间。我们曾见过需要2秒的页面，现在仅需200毫秒即可完成。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.17
  id: totrans-1870
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.17版本新增
- en: 'Changed in v1.19.0: removed “clippings” key, added “seqno” key.'
  id: totrans-1871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.0版本更改：移除了“clippings”键，添加了“seqno”键。
- en: 'Changed in v1.19.1: always generate RGB color tuples.'
  id: totrans-1872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.1版本更改：始终生成RGB颜色元组。
- en: 'Changed in v1.22.0: added new key `"layer"` which contains the name of the
    Optional Content Group of the path (or `None`).'
  id: totrans-1873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.22.0版本更改：添加新键`"layer"`，其包含路径的可选内容组名称（或`None`）。
- en: 'Changed in v1.22.0: added parameter `extended` to also return clipping paths.'
  id: totrans-1874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.22.0版本更改：添加参数`extended`以便返回剪切路径。
- en: '[PRE172]'
  id: totrans-1875
  prefs: []
  type: TYPE_PRE
  zh: '[PRE172]'
- en: 'PDF only: Return a list of fonts referenced by the page. Wrapper for [`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts").'
  id: totrans-1876
  prefs: []
  type: TYPE_NORMAL
  zh: 只支持PDF格式：返回页面引用的字体列表。[`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts")的包装器。
- en: '[PRE173]'
  id: totrans-1877
  prefs: []
  type: TYPE_PRE
  zh: '[PRE173]'
- en: 'PDF only: Return a list of images referenced by the page. Wrapper for [`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images").'
  id: totrans-1878
  prefs: []
  type: TYPE_NORMAL
  zh: 只支持PDF格式：返回页面引用的图像列表。[`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images")的包装器。
- en: '[PRE174]'
  id: totrans-1879
  prefs: []
  type: TYPE_PRE
  zh: '[PRE174]'
- en: 'Return a list of meta information dictionaries for all images shown on the
    page. This works for all document types. Technically, this is a subset of the
    dictionary output of [`Page.get_text()`](#Page.get_text "Page.get_text"): the
    image binary content and any text on the page are ignored.'
  id: totrans-1880
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面上所有图像的元信息字典列表。对所有文档类型都适用。从技术上讲，这是[`Page.get_text()`](#Page.get_text "Page.get_text")的字典输出的子集：忽略了图像二进制内容和页面上的任何文本。
- en: 'Parameters:'
  id: totrans-1881
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**hashes** (*bool*) – Compute the MD5 hashcode for each encountered image,
    which allows identifying image duplicates. This adds the key `"digest"` to the
    output, whose value is a 16 byte `bytes` object. (New in v1.18.13)'
  id: totrans-1882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**散列值** (*bool*) – 计算每个遇到的图像的MD5哈希码，从而识别图像重复。这将在输出中添加键`"digest"`，其值为一个16字节的`bytes`对象。（v1.18.13版本新增）'
- en: '**xrefs** (*bool*) – **PDF only.** Try to find the [`xref`](glossary.html#xref
    "xref") for each image. Implies `hashes=True`. Adds the `"xref"` key to the dictionary.
    If not found, the value is 0, which means, the image is either “inline” or otherwise
    undetectable. Please note that this option has an extended response time, because
    the MD5 hashcode will be computed at least two times for each image with an xref.
    (New in v1.18.13)'
  id: totrans-1883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交叉引用** (*bool*) – **仅适用于PDF**。尝试为每个图像找到[`xref`](glossary.html#xref "xref")。意味着`hashes=True`。将`"xref"`键添加到字典中。如果未找到，则值为0，这意味着图像要么是“内联”的，要么无法检测到。请注意，此选项会导致响应时间延长，因为每个具有xref的图像至少会计算两次MD5哈希码。（v1.18.13版本新增）'
- en: 'Return type:'
  id: totrans-1884
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list[dict]
  id: totrans-1885
  prefs: []
  type: TYPE_NORMAL
  zh: 列表[字典]
- en: 'Returns:'
  id: totrans-1886
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. This includes information for **exactly those** images,
    that are shown on the page – including *“inline images”*. In contrast to images
    included in [`Page.get_text()`](#Page.get_text "Page.get_text"), image **binary
    content** is not loaded, which drastically reduces memory usage. The dictionary
    layout is similar to that of image blocks in `page.get_text("dict")`.
  id: totrans-1887
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。这包括那些显示在页面上的 **确切图像** 的信息，包括 *“内联图像”*。与包含在 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 中的图像不同，图像的 **二进制内容** 不会加载，从而显著减少内存使用量。字典布局类似于 `page.get_text("dict")`
    中的图像块。
- en: '| **Key** | **Value** |'
  id: totrans-1888
  prefs: []
  type: TYPE_TB
  zh: '| **Key** | **Value** |'
- en: '| --- | --- |'
  id: totrans-1889
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| number | block number *(int)* |'
  id: totrans-1890
  prefs: []
  type: TYPE_TB
  zh: '| number | 块编号 *(int)* |'
- en: '| bbox | image bbox on page, [`rect_like`](glossary.html#rect_like "rect_like")
    |'
  id: totrans-1891
  prefs: []
  type: TYPE_TB
  zh: '| bbox | 页面上的图像 bbox，[`rect_like`](glossary.html#rect_like "rect_like") |'
- en: '| width | original image width *(int)* |'
  id: totrans-1892
  prefs: []
  type: TYPE_TB
  zh: '| width | 原始图像宽度 *(int)* |'
- en: '| height | original image height *(int)* |'
  id: totrans-1893
  prefs: []
  type: TYPE_TB
  zh: '| height | 原始图像高度 *(int)* |'
- en: '| cs-name | colorspace name *(str)* |'
  id: totrans-1894
  prefs: []
  type: TYPE_TB
  zh: '| cs-name | 色彩空间名称 *(str)* |'
- en: '| colorspace | colorspace.n *(int)* |'
  id: totrans-1895
  prefs: []
  type: TYPE_TB
  zh: '| colorspace | colorspace.n *(int)* |'
- en: '| xres | resolution in x-direction *(int)* |'
  id: totrans-1896
  prefs: []
  type: TYPE_TB
  zh: '| xres | x 轴方向的分辨率 *(int)* |'
- en: '| yres | resolution in y-direction *(int)* |'
  id: totrans-1897
  prefs: []
  type: TYPE_TB
  zh: '| yres | y 轴方向的分辨率 *(int)* |'
- en: '| bpc | bits per component *(int)* |'
  id: totrans-1898
  prefs: []
  type: TYPE_TB
  zh: '| bpc | 每分量的位数 *(int)* |'
- en: '| size | storage occupied by image *(int)* |'
  id: totrans-1899
  prefs: []
  type: TYPE_TB
  zh: '| size | 图像占用的存储空间 *(int)* |'
- en: '| digest | MD5 hashcode *(bytes)*, if *hashes* is true |'
  id: totrans-1900
  prefs: []
  type: TYPE_TB
  zh: '| digest | MD5 哈希码 *(bytes)*，如果 *hashes* 为 true |'
- en: '| xref | image [`xref`](glossary.html#xref "xref") or 0, if *xrefs* is true
    |'
  id: totrans-1901
  prefs: []
  type: TYPE_TB
  zh: '| xref | 图像的 [`xref`](glossary.html#xref "xref") 或 0（如果 *xrefs* 为 true） |'
- en: '| transform | matrix transforming image rect to bbox, [`matrix_like`](glossary.html#matrix_like
    "matrix_like") |'
  id: totrans-1902
  prefs: []
  type: TYPE_TB
  zh: '| transform | 将图像矩形转换为 bbox 的矩阵，[`matrix_like`](glossary.html#matrix_like "matrix_like")
    |'
- en: Multiple occurrences of the same image are always reported. You can detect duplicates
    by comparing their [`digest`](pixmap.html#Pixmap.digest "Pixmap.digest") values.
  id: totrans-1903
  prefs: []
  type: TYPE_NORMAL
  zh: 同一图像的多个出现总是报告。您可以通过比较它们的 [`digest`](pixmap.html#Pixmap.digest "Pixmap.digest")
    值来检测重复项。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.11
  id: totrans-1904
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.11 版中新增
- en: 'Changed in v1.18.13: added image MD5 hashcode computation and [`xref`](glossary.html#xref
    "xref") search.'
  id: totrans-1905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.18.13 版本开始更改：增加了图像的 MD5 哈希码计算和[`xref`](glossary.html#xref "xref")搜索。
- en: '[PRE175]'
  id: totrans-1906
  prefs: []
  type: TYPE_PRE
  zh: '[PRE175]'
- en: 'PDF only: Return a list of Form XObjects referenced by the page. Wrapper for
    [`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects "Document.get_page_xobjects").'
  id: totrans-1907
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于 PDF：返回页面引用的 Form XObjects 的列表。[`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects
    "Document.get_page_xobjects") 的包装器。
- en: '[PRE176]'
  id: totrans-1908
  prefs: []
  type: TYPE_PRE
  zh: '[PRE176]'
- en: 'PDF only: Return boundary boxes and transformation matrices of an embedded
    image. This is an improved version of [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") with the following differences:'
  id: totrans-1909
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于 PDF：返回嵌入图像的边界框和转换矩阵。这是 [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")
    的改进版本，具有以下区别：
- en: There is no restriction on **how** the image is invoked (by the page or one
    of its Form XObjects). The result is always complete and correct.
  id: totrans-1910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图像如何被调用没有限制（通过页面或其一个 Form XObjects 之一）。结果始终完整且正确。
- en: The result is a list of [Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))
    objects – depending on *transform*. Each list item represents one location of
    the image on the page. Multiple occurrences might not be detectable by [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-1911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结果是一个列表，包含 [Rect](rect.html#rect) 或 ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))
    对象 – 根据 *transform* 参数而定。每个列表项表示页面上图像的一个位置。多个出现可能无法通过 [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") 检测到。
- en: The method invokes [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    with `xrefs=True` and therefore has a noticeably longer response time than [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-1912
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法调用 [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    并因此比 [`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox") 响应时间明显更长。
- en: 'Parameters:'
  id: totrans-1913
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str**,**int*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images"), or the reference **name** entry of such an item (item[7]),
    or the image [`xref`](glossary.html#xref "xref").'
  id: totrans-1914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item** (*list**,**str**,**int*) – 列表 [`Page.get_images()`](#Page.get_images
    "Page.get_images") 的一项，或这种项（item[7]）的参考 **name** 条目，或图像 [`xref`](glossary.html#xref
    "xref")。'
- en: '**transform** (*bool*) – also return the matrix used to transform the image
    rectangle to the bbox on the page. If true, then tuples `(bbox, matrix)` are returned.'
  id: totrans-1915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform** (*bool*) – 也返回用于将图像矩形转换为页面上 bbox 的矩阵。如果为 true，则返回元组 `(bbox, matrix)`。'
- en: 'Return type:'
  id: totrans-1916
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-1917
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-1918
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: Boundary boxes and respective transformation matrices for each image occurrence
    on the page. If the item is not on the page, an empty list `[]` is returned.
  id: totrans-1919
  prefs: []
  type: TYPE_NORMAL
  zh: 边界框和每个页面上出现的图像对应的变换矩阵。如果项目不在页面上，则返回空列表 `[]`。
- en: <details><summary>Show/hide history</summary></details> New in v1.18.13
  id: totrans-1920
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> 新增于 v1.18.13
- en: '[PRE177]'
  id: totrans-1921
  prefs: []
  type: TYPE_PRE
  zh: '[PRE177]'
- en: 'PDF only: Return boundary box and transformation matrix of an embedded image.'
  id: totrans-1922
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：返回嵌入图像的边界框和变换矩阵。
- en: 'Parameters:'
  id: totrans-1923
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images") with *full=True* specified, or the reference **name** entry
    of such an item, which is item[-3] (or item[7] respectively).'
  id: totrans-1924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item** (*list**,**str*) – [`Page.get_images()`](#Page.get_images "Page.get_images")
    中指定了 *full=True* 的列表项，或该项的引用**名称**条目，即 item[-3]（或 item[7]）。'
- en: '**transform** (*bool*) – return the matrix used to transform the image rectangle
    to the bbox on the page (new in v1.18.11). Default is just the bbox. If true,
    then a tuple `(bbox, matrix)` is returned.'
  id: totrans-1925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform** (*bool*) – 返回用于将图像矩形转换为页面上边界框的矩阵（v1.18.11 中新增）。默认仅返回边界框。如果为 true，则返回一个元组
    `(bbox, matrix)`。'
- en: 'Return type:'
  id: totrans-1926
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))'
  id: totrans-1927
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect) 或 ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))'
- en: 'Returns:'
  id: totrans-1928
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the boundary box of the image – optionally also its transformation matrix.
  id: totrans-1929
  prefs: []
  type: TYPE_NORMAL
  zh: 图像的边界框 – 可选地还包括其变换矩阵。
- en: '<details><summary>Show/hide history</summary></details> *   (Changed in v1.16.7):
    If the page in fact does not display this image, an infinite rectangle is returned
    now. In previous versions, an exception was raised. Formally invalid parameters
    still raise exceptions.'
  id: totrans-1930
  prefs: []
  type: TYPE_NORMAL
  zh: '<details><summary>显示/隐藏历史</summary></details> *   (Changed in v1.16.7): 如果页面实际上不显示此图像，则现在将返回一个无限大的矩形。在早期版本中会引发异常。形式上无效的参数仍会引发异常。'
- en: '(Changed in v1.17.0): Only images referenced directly by the page are considered.
    This means that images occurring in embedded PDF pages are ignored and an exception
    is raised.'
  id: totrans-1931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(Changed in v1.17.0): 仅考虑页面直接引用的图像。这意味着会忽略嵌入 PDF 页面中的图像并引发异常。'
- en: '(Changed in v1.18.5): Removed the restriction introduced in v1.17.0: any item
    of the page’s image list may be specified.'
  id: totrans-1932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(Changed in v1.18.5): 移除了 v1.17.0 中引入的限制：页面图像列表中的任意项都可以指定。'
- en: '(Changed in v1.18.11): Partially re-instated a restriction: only those images
    are considered, that are either directly referenced by the page or by a Form XObject
    directly referenced by the page.'
  id: totrans-1933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(Changed in v1.18.11): 部分重新引入限制：只考虑直接由页面引用或由页面直接引用的 Form XObject 的图像。'
- en: '(Changed in v1.18.11): Optionally also return the transformation matrix together
    with the bbox as the tuple `(bbox, transform)`.'
  id: totrans-1934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(Changed in v1.18.11): 可选地也返回作为元组 `(bbox, transform)` 的变换矩阵与边界框。'
- en: Note
  id: totrans-1935
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Be aware that [`Page.get_images()`](#Page.get_images "Page.get_images") may
    contain “dead” entries i.e. images, which the page **does not display**. This
    is no error, but intended by the PDF creator. No exception will be raised in this
    case, but an infinite rectangle is returned. You can avoid this from happening
    by executing [`Page.clean_contents()`](functions.html#Page.clean_contents "Page.clean_contents")
    before this method.
  id: totrans-1936
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，[`Page.get_images()`](#Page.get_images "Page.get_images") 可能包含“死”条目，即页面**未显示**的图像。这不是错误，而是
    PDF 创建者的意图。在这种情况下不会引发异常，但会返回一个无限大的矩形。您可以在调用此方法之前执行 [`Page.clean_contents()`](functions.html#Page.clean_contents
    "Page.clean_contents") 来避免这种情况发生。
- en: 'The image’s “transformation matrix” is defined as the matrix, for which the
    expression `bbox / transform == pymupdf.Rect(0, 0, 1, 1)` is true, lookup details
    here: [Image Transformation Matrix](app3.html#imagetransformation).'
  id: totrans-1937
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像的“变换矩阵”定义为满足表达式 `bbox / transform == pymupdf.Rect(0, 0, 1, 1)` 的矩阵，详情请参阅此处：[图像变换矩阵](app3.html#imagetransformation)。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.11:
    return image transformation matrix'
  id: totrans-1938
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> *   v1.18.11 中更改：返回图像变换矩阵
- en: '[PRE178]'
  id: totrans-1939
  prefs: []
  type: TYPE_PRE
  zh: '[PRE178]'
- en: Create an SVG image from the page. Only full page images are currently supported.
  id: totrans-1940
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建一个 SVG 图像。目前仅支持全页面图像。
- en: 'Parameters:'
  id: totrans-1941
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – a matrix, default is [Identity](identity.html#identity).'
  id: totrans-1942
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**matrix** (*matrix_like*) – 一个矩阵，默认为 [Identity](identity.html#identity)。'
- en: '**text_as_path** (*bool*) – – controls how text is represented. *True* outputs
    each character as a series of elementary draw commands, which leads to a more
    precise text display in browsers, but a **very much larger** output for text-oriented
    pages. Display quality for *False* relies on the presence of the referenced fonts
    on the current system. For missing fonts, the internet browser will fall back
    to some default – leading to unpleasant appearances. Choose *False* if you want
    to parse the text of the SVG. (New in v1.17.5)'
  id: totrans-1943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_as_path** (*bool*) – – 控制文本的表示方式。*True* 输出每个字符作为一系列基本绘制命令，这导致在浏览器中显示文本更精确，但对于面向文本的页面来说输出要**大得多**。对于
    *False*，显示质量依赖于当前系统上引用字体的存在。对于缺少字体的情况，Internet 浏览器将退回到某些默认值 – 导致不愉快的外观。如果要解析 SVG
    的文本，请选择 *False*。（v1.17.5 新增）'
- en: 'Returns:'
  id: totrans-1944
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a UTF-8 encoded string that contains the image. Because SVG has XML syntax it
    can be saved in a text file, the standard extension is `.svg`.
  id: totrans-1945
  prefs: []
  type: TYPE_NORMAL
  zh: 包含图像的 UTF-8 编码字符串。由于 SVG 具有 XML 语法，它可以保存在文本文件中，标准扩展名为`.svg`。
- en: Note
  id: totrans-1946
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In case of a PDF, you can circumvent the “full page image only” restriction
    by modifying the page’s CropBox before using the method.
  id: totrans-1947
  prefs: []
  type: TYPE_NORMAL
  zh: 在 PDF 的情况下，您可以在使用该方法之前修改页面的 CropBox 以规避“仅全页面图像”的限制。
- en: '[PRE179]'
  id: totrans-1948
  prefs: []
  type: TYPE_PRE
  zh: '[PRE179]'
- en: Create a pixmap from the page. This is probably the most often used method to
    create a [Pixmap](pixmap.html#pixmap).
  id: totrans-1949
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建位图。这可能是创建 [Pixmap](pixmap.html#pixmap) 最常用的方法之一。
- en: All parameters are *keyword-only.*
  id: totrans-1950
  prefs: []
  type: TYPE_NORMAL
  zh: 所有参数都是 *关键字参数*。
- en: 'Parameters:'
  id: totrans-1951
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – default is [Identity](identity.html#identity).'
  id: totrans-1952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**matrix** (*matrix_like*) – 默认为 [Identity](identity.html#identity)。'
- en: '**dpi** (*int*) – desired resolution in x and y direction. If not `None`, the
    `"matrix"` parameter is ignored. (New in v1.19.2)'
  id: totrans-1953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi** (*int*) – x 和 y 方向的期望分辨率。如果不为 `None`，则忽略“matrix”参数。（v1.19.2 新增）'
- en: '**colorspace** (str or [Colorspace](colorspace.html#colorspace)) – The desired
    colorspace, one of “GRAY”, “RGB” or “CMYK” (case insensitive). Or specify a [Colorspace](colorspace.html#colorspace),
    ie. one of the predefined ones: [`csGRAY`](vars.html#csGRAY "csGRAY"), [`csRGB`](vars.html#csRGB
    "csRGB") or [`csCMYK`](vars.html#csCMYK "csCMYK").'
  id: totrans-1954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colorspace** (str 或 [Colorspace](colorspace.html#colorspace)) – 所需的颜色空间之一，“GRAY”、“RGB”或“CMYK”（不区分大小写）。或者指定
    [Colorspace](colorspace.html#colorspace)，即预定义的之一：[`csGRAY`](vars.html#csGRAY "csGRAY")、[`csRGB`](vars.html#csRGB
    "csRGB") 或 [`csCMYK`](vars.html#csCMYK "csCMYK")。'
- en: '**clip** (*irect_like*) – restrict rendering to the intersection of this area
    with the page’s rectangle.'
  id: totrans-1955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*irect_like*) – 限制渲染到此区域与页面矩形的交集。'
- en: '**alpha** (*bool*) –'
  id: totrans-1956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*bool*) –'
- en: 'whether to add an alpha channel. Always accept the default *False* if you do
    not really need transparency. This will save a lot of memory (25% in case of RGB
    … and pixmaps are typically **large**!), and also processing time. Also note an
    **important difference** in how the image will be rendered: with *True* the pixmap’s
    samples area will be pre-cleared with *0x00*. This results in **transparent**
    areas where the page is empty. With *False* the pixmap’s samples will be pre-cleared
    with *0xff*. This results in **white** where the page has nothing to show.'
  id: totrans-1957
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否添加 alpha 通道。如果您实际上不需要透明度，请始终接受默认值 *False*。这将节省大量内存（对于 RGB 来说约为 25%…而位图通常**很大**！），并减少处理时间。还要注意图像渲染方式的**重要区别**：使用
    *True* 时，位图的样本区域将预先清除为 *0x00*。这导致页面为空的区域为**透明**。使用 *False* 时，位图的样本将预先清除为 *0xff*。这导致页面没有内容时为**白色**。
- en: <details><summary>Show/hide history</summary></details> Changed in v1.14.17
  id: totrans-1958
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> 在 v1.14.17 中更改
- en: The default alpha value is now *False*.
  id: totrans-1959
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认 alpha 值现在为 *False*。
- en: Generated with *alpha=True*
  id: totrans-1960
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用 *alpha=True*
- en: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
  id: totrans-1961
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
- en: Generated with *alpha=False*
  id: totrans-1962
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用 *alpha=False*
- en: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
  id: totrans-1963
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
- en: '**annots** (*bool*) – *(new in version 1.16.0)* whether to also render annotations
    or to suppress them. You can create pixmaps for annotations separately.'
  id: totrans-1964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**annots** (*bool*) – *(自 1.16.0 版本新增)* 是否也渲染注释或者抑制它们。你可以单独为注释创建位图。'
- en: 'Return type:'
  id: totrans-1965
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Pixmap](pixmap.html#pixmap)'
  id: totrans-1966
  prefs: []
  type: TYPE_NORMAL
  zh: '[Pixmap](pixmap.html#pixmap)'
- en: 'Returns:'
  id: totrans-1967
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'Pixmap of the page. For fine-controlling the generated image, the by far most
    important parameter is **matrix**. E.g. you can increase or decrease the image
    resolution by using **Matrix(xzoom, yzoom)**. If zoom > 1, you will get a higher
    resolution: zoom=2 will double the number of pixels in that direction and thus
    generate a 2 times larger image. Non-positive values will flip horizontally, resp.
    vertically. Similarly, matrices also let you rotate or shear, and you can combine
    effects via e.g. matrix multiplication. See the [Matrix](matrix.html#matrix) section
    to learn more.  Note'
  id: totrans-1968
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的位图。用于精确控制生成的图像，到目前为止最重要的参数是**matrix**。例如，您可以通过**Matrix(xzoom, yzoom)**增加或减少图像分辨率。如果缩放大于1，则会获得更高的分辨率：缩放=2将在该方向上增加两倍像素数，从而生成两倍大的图像。非正值会水平或垂直翻转。类似地，矩阵还允许您旋转或剪切，并且可以通过矩阵乘法组合效果。详见[Matrix](matrix.html#matrix)章节了解更多。注意
- en: The pixmap will have *“premultiplied”* pixels if `alpha=True`. To learn about
    some background, e.g. look for “Premultiplied alpha” [here](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P).
  id: totrans-1969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`alpha=True`，位图将具有*“预乘”*像素。要了解一些背景信息，例如查找“预乘阿尔法”[这里](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P)。
- en: 'The method will respect any page rotation and will not exceed the intersection
    of `clip` and [`Page.cropbox`](#Page.cropbox "Page.cropbox"). If you need the
    page’s mediabox (and if this is a different rectangle), you can use a snippet
    like the following to achieve this:'
  id: totrans-1970
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法将尊重任何页面旋转，并且不会超出`clip`和[`Page.cropbox`](#Page.cropbox "Page.cropbox")的交集。如果您需要页面的mediabox（如果这是一个不同的矩形），您可以使用以下代码片段来实现此目的：
- en: '[PRE180]'
  id: totrans-1971
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE180]'
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.2:
    added support of parameter dpi.'
  id: totrans-1972
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.19.2中更改：添加对dpi参数的支持。
- en: '[PRE181]'
  id: totrans-1973
  prefs: []
  type: TYPE_PRE
  zh: '[PRE181]'
- en: 'PDF only: return a list of the names of annotations, widgets and links. Technically,
    these are the */NM* values of every PDF object found in the page’s */Annots* array.'
  id: totrans-1974
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：返回注释、部件和链接的名称列表。从技术上讲，这些是页面的*/Annots*数组中每个PDF对象的*/NM*值。
- en: 'Return type:'
  id: totrans-1975
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-1976
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.10
  id: totrans-1977
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.16.10中新增
- en: '[PRE182]'
  id: totrans-1978
  prefs: []
  type: TYPE_PRE
  zh: '[PRE182]'
- en: 'PDF only: return a list of the :data`xref` numbers of annotations, widgets
    and links – technically of all entries found in the page’s */Annots* array.'
  id: totrans-1979
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：返回一个列表，其中包含页面的*/Annots*数组中所有条目的:data`xref`号。
- en: 'Return type:'
  id: totrans-1980
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-1981
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-1982
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a list of items *(xref, type)* where type is the annotation type. Use the type
    to tell apart links, fields and annotations, see [Annotation Types](vars.html#annotationtypes).
  id: totrans-1983
  prefs: []
  type: TYPE_NORMAL
  zh: 一个项目列表*(xref, type)*其中type是注释类型。使用类型来区分链接、字段和注释，参见[注释类型](vars.html#annotationtypes)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-1984
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.17.1中新增
- en: '[PRE183]'
  id: totrans-1985
  prefs: []
  type: TYPE_PRE
  zh: '[PRE183]'
- en: 'PDF only: return the annotation identified by *ident*. This may be its unique
    name (PDF `/NM` key), or its [`xref`](glossary.html#xref "xref").'
  id: totrans-1986
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：返回由*ident*标识的注释。这可能是其唯一名称（PDF `/NM`键）或其[`xref`](glossary.html#xref "xref")。
- en: 'Parameters:'
  id: totrans-1987
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**ident** (*str**,**int*) – the annotation name or xref.'
  id: totrans-1988
  prefs: []
  type: TYPE_NORMAL
  zh: '**ident** (*str**,**int*) – 注释名称或交叉引用。'
- en: 'Return type:'
  id: totrans-1989
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-1990
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-1991
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the annotation or *None*.
  id: totrans-1992
  prefs: []
  type: TYPE_NORMAL
  zh: 注释或*None*。
- en: Note
  id: totrans-1993
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Methods [`Page.annot_names()`](#Page.annot_names "Page.annot_names"), [`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs") provide lists of names or xrefs, respectively, from where
    an item may be picked and loaded via this method.
  id: totrans-1994
  prefs: []
  type: TYPE_NORMAL
  zh: 方法[`Page.annot_names()`](#Page.annot_names "Page.annot_names")，[`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs")提供名称或xref列表，从中可以选择并通过此方法加载项目。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-1995
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.17.1中新增
- en: '[PRE184]'
  id: totrans-1996
  prefs: []
  type: TYPE_PRE
  zh: '[PRE184]'
- en: 'PDF only: return the field identified by *xref*.'
  id: totrans-1997
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：返回由*xref*标识的字段。
- en: 'Parameters:'
  id: totrans-1998
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the field’s xref.'
  id: totrans-1999
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref** (*int*) – 字段的xref。'
- en: 'Return type:'
  id: totrans-2000
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-2001
  prefs: []
  type: TYPE_NORMAL
  zh: '[部件](widget.html#widget)'
- en: 'Returns:'
  id: totrans-2002
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the field or *None*.
  id: totrans-2003
  prefs: []
  type: TYPE_NORMAL
  zh: 字段或*None*。
- en: Note
  id: totrans-2004
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This is similar to the analogous method [`Page.load_annot()`](#Page.load_annot
    "Page.load_annot") – except that here only the xref is supported as identifier.
  id: totrans-2005
  prefs: []
  type: TYPE_NORMAL
  zh: 这类似于类似方法[`Page.load_annot()`](#Page.load_annot "Page.load_annot") – 唯一的区别在于此处仅支持xref作为标识符。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.6
  id: totrans-2006
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.19.6中新增
- en: '[PRE185]'
  id: totrans-2007
  prefs: []
  type: TYPE_PRE
  zh: '[PRE185]'
- en: Return the first link on a page. Synonym of property [`first_link`](#Page.first_link
    "Page.first_link").
  id: totrans-2008
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面上的第一个链接。与属性[`first_link`](#Page.first_link "Page.first_link")同义。
- en: 'Return type:'
  id: totrans-2009
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Link](link.html#link)'
  id: totrans-2010
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: 'Returns:'
  id: totrans-2011
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: first link on the page (or *None*).
  id: totrans-2012
  prefs: []
  type: TYPE_NORMAL
  zh: 页面上的第一个链接（或*None*）。
- en: '[PRE186]'
  id: totrans-2013
  prefs: []
  type: TYPE_PRE
  zh: '[PRE186]'
- en: 'PDF only: Set the rotation of the page.'
  id: totrans-2014
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：设置页面的旋转。
- en: 'Parameters:'
  id: totrans-2015
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rotate** (*int*) – An integer specifying the required rotation in degrees.
    Must be an integer multiple of 90\. Values will be converted to one of 0, 90,
    180, 270.'
  id: totrans-2016
  prefs: []
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 以度为单位指定所需的旋转角度的整数。必须是90的整数倍。值将转换为0、90、180、270之一。'
- en: '[PRE187]'
  id: totrans-2017
  prefs: []
  type: TYPE_PRE
  zh: '[PRE187]'
- en: 'PDF only: Set page rotation to 0 while maintaining appearance and page content.'
  id: totrans-2018
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：将页面旋转角度设置为0，同时保持外观和页面内容。
- en: 'Returns:'
  id: totrans-2019
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The inverted matrix used to achieve this change. If the page was not rotated
    (rotation 0), [Identity](identity.html#identity) is returned. The method automatically
    recomputes the rectangles of any annotations, links and widgets present on the
    page.
  id: totrans-2020
  prefs: []
  type: TYPE_NORMAL
  zh: 用于实现此更改的反转矩阵。如果页面未旋转（旋转为0），则返回 [Identity](identity.html#identity)。该方法会自动重新计算页面上存在的任何注释、链接和小部件的矩形。
- en: This method may come in handy when e.g. used with [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page").
  id: totrans-2021
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当与 [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") 结合使用时，此方法可能会派上用场。
- en: '[PRE188]'
  id: totrans-2022
  prefs: []
  type: TYPE_PRE
  zh: '[PRE188]'
- en: 'PDF only: Display a page of another PDF as a **vector image** (otherwise similar
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image")). This is a
    multi-purpose method. For example, you can use it to'
  id: totrans-2023
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：将另一个 PDF 的页面显示为**矢量图像**（否则与 [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image") 类似）。这是一个多功能方法。例如，您可以使用它来
- en: create “n-up” versions of existing PDF files, combining several input pages
    into **one output page** (see example [combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)),
  id: totrans-2024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建现有 PDF 文件的“n-up”版本，将多个输入页面合并成**一个输出页面**（参见示例 [combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)），
- en: create “posterized” PDF files, i.e. every input page is split up in parts which
    each create a separate output page (see [posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)),
  id: totrans-2025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建“分色”PDF文件，即每个输入页面都分割成几个部分，每个部分创建一个单独的输出页面（见 [posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)），
- en: include PDF-based vector images like company logos, watermarks, etc., see [svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py),
    which puts an SVG-based logo on each page (requires additional packages to deal
    with SVG-to-PDF conversions).
  id: totrans-2026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括基于 PDF 的矢量图像，如公司标志、水印等，参见 [svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py)，该脚本将一个基于
    SVG 的标志放置在每个页面上（需要额外的软件包来处理 SVG 到 PDF 的转换）。
- en: 'Parameters:'
  id: totrans-2027
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to place the image on current page. Must be
    finite and its intersection with the page must not be empty.'
  id: totrans-2028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 将图像放置在当前页面的位置。必须是有限的，且其与页面的交集不得为空。'
- en: '**docsrc** ([Document](document.html#document)) – source PDF document containing
    the page. Must be a different document object, but may be the same file.'
  id: totrans-2029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**docsrc** ([文档](document.html#document)) – 包含页面的源 PDF 文档。必须是不同的文档对象，但可以是同一个文件。'
- en: '**pno** (*int*) – page number (0-based, in `-∞ < pno < docsrc.page_count`)
    to be shown.'
  id: totrans-2030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pno** (*int*) – 页码（从`-∞ < pno < docsrc.page_count`）为0开始。'
- en: '**keep_proportion** (*bool*) – whether to maintain the width-height-ratio (default).
    If false, all 4 corners are always positioned on the border of the target rectangle
    – whatever the rotation value. In general, this will deliver distorted and /or
    non-rectangular images.'
  id: totrans-2031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 是否保持宽高比（默认）。如果为false，则所有4个角始终放置在目标矩形的边框上 - 无论旋转值如何。一般来说，这将提供扭曲和/或非矩形图像。'
- en: '**overlay** (*bool*) – put image in foreground (default) or background.'
  id: totrans-2032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将图像放置在前景（默认）或背景。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make visibility dependent
    on this [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD "OCMD")
    (which must be defined in the target PDF) [[9]](#f9). (New in v1.18.3)'
  id: totrans-2033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) 使可见性依赖于此 [`OCG`](glossary.html#OCG
    "OCG") / [`OCMD`](glossary.html#OCMD "OCMD")（必须在目标 PDF 中定义）[[9]](#f9)。（v1.18.3中的新功能）'
- en: '**rotate** (*float*) – show the source rectangle rotated by some angle. Any
    angle is supported (changed in v1.14.11). (New in v1.14.10)'
  id: totrans-2034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 显示由某个角度旋转的源矩形。支持任何角度（在 v1.14.11 中更改）。 （v1.14.10中的新功能）'
- en: '**clip** (*rect_like*) – choose which part of the source page to show. Default
    is the full page, else must be finite and its intersection with the source page
    must not be empty.'
  id: totrans-2035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 选择要显示的源页面的哪个部分。默认是整个页面，否则必须是有限的，且其与源页面的交集不得为空。'
- en: Note
  id: totrans-2036
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In contrast to method [`Document.insert_pdf()`](document.html#Document.insert_pdf
    "Document.insert_pdf"), this method does not copy annotations, widgets or links,
    so these are not included in the target [[6]](#f6). But all its **other resources
    (text, images, fonts, etc.)** will be imported into the current PDF. They will
    therefore appear in text extractions and in [`get_fonts()`](#Page.get_fonts "Page.get_fonts")
    and [`get_images()`](#Page.get_images "Page.get_images") lists – even if they
    are not contained in the visible area given by *clip*.
  id: totrans-2037
  prefs: []
  type: TYPE_NORMAL
  zh: 与方法[`Document.insert_pdf()`](document.html#Document.insert_pdf "Document.insert_pdf")相比，此方法不复制注释、部件或链接，因此这些内容不包含在目标
    [[6]](#f6)中。但它的**其他资源（文本、图像、字体等）**将被导入到当前PDF中。因此，它们将出现在文本提取和[`get_fonts()`](#Page.get_fonts
    "Page.get_fonts")以及[`get_images()`](#Page.get_images "Page.get_images")列表中，即使它们不包含在由*clip*给定的可见区域中。
- en: 'Example: Show the same source page, rotated by 90 and by -90 degrees:'
  id: totrans-2038
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：显示同一源页面，分别旋转90度和-90度：
- en: '[PRE189]'
  id: totrans-2039
  prefs: []
  type: TYPE_PRE
  zh: '[PRE189]'
- en: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>Show/hide
    history</summary></details> *   Changed in v1.14.11: Parameter *reuse_xref* has
    been deprecated. Position the source rectangle centered in target rectangle. Any
    rotation angle is now supported.'
  id: totrans-2040
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>显示/隐藏历史</summary></details>
    *   在 v1.14.11 中更改：参数*reuse_xref*已不推荐使用。将源矩形置于目标矩形的中心位置。现在支持任何旋转角度。'
- en: 'Changed in v1.18.3: New parameter `oc`.'
  id: totrans-2041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.3 中更改：新增参数`oc`。
- en: '[PRE190]'
  id: totrans-2042
  prefs: []
  type: TYPE_PRE
  zh: '[PRE190]'
- en: 'PDF only: Create a new [Shape](shape.html#shape) object for the page.'
  id: totrans-2043
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：为页面创建一个新的[Shape](shape.html#shape)对象。
- en: 'Return type:'
  id: totrans-2044
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Shape](shape.html#shape)'
  id: totrans-2045
  prefs: []
  type: TYPE_NORMAL
  zh: '[Shape](shape.html#shape)'
- en: 'Returns:'
  id: totrans-2046
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a new [Shape](shape.html#shape) to use for compound drawings. See description
    there.
  id: totrans-2047
  prefs: []
  type: TYPE_NORMAL
  zh: 一个新的[Shape](shape.html#shape)，用于复合图形绘制。详见该处描述。
- en: '[PRE191]'
  id: totrans-2048
  prefs: []
  type: TYPE_PRE
  zh: '[PRE191]'
- en: Search for *needle* on a page. Wrapper for [`TextPage.search()`](textpage.html#TextPage.search
    "TextPage.search").
  id: totrans-2049
  prefs: []
  type: TYPE_NORMAL
  zh: 在页面上搜索*needle*。[`TextPage.search()`](textpage.html#TextPage.search "TextPage.search")的封装。
- en: 'Parameters:'
  id: totrans-2050
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**needle** (*str*) – Text to search for. May contain spaces. Upper / lower
    case is ignored, but only works for ASCII characters: For example, “COMPÉTENCES”
    will not be found if needle is “compétences” – “compÉtences” however will. Similar
    is true for German umlauts and the like.'
  id: totrans-2051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**needle**（*str*） – 要搜索的文本。可能包含空格。忽略大小写，但仅适用于ASCII字符：例如，“COMPÉTENCES”将无法找到，如果needle是“compétences”
    – 然而，如果needle是“compÉtences”则可以。对于德语umlauts等也是如此。'
- en: '**clip** (*rect_like*) – only search within this area. (New in v1.18.2)'
  id: totrans-2052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*） – 仅在此区域内进行搜索。（新增于 v1.18.2）'
- en: '**quads** (*bool*) – Return object type [Quad](quad.html#quad) instead of [Rect](rect.html#rect).'
  id: totrans-2053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads**（*bool*） – 返回对象类型为[Quad](quad.html#quad)，而不是[Rect](rect.html#rect)。'
- en: '**flags** (*int*) – Control the data extracted by the underlying [TextPage](textpage.html#textpage).
    By default, ligatures and white spaces are kept, and hyphenation [[8]](#f8) is
    detected.'
  id: totrans-2054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*） – 控制基础[TextPage](textpage.html#textpage)提取的数据。默认情况下保留连字和空格，并检测连字符
    [[8]](#f8)。'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **significantly.** If specified, the ‘flags’ and ‘clip’
    arguments are ignored. If omitted, a temporary textpage will be created. (New
    in v1.19.0)'
  id: totrans-2055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 使用先前创建的[TextPage](textpage.html#textpage)。这显著减少了执行时间。如果指定，‘flags’和‘clip’参数将被忽略。如果省略，将创建一个临时的textpage。（新增于
    v1.19.0）'
- en: 'Return type:'
  id: totrans-2056
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2057
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-2058
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of [Rect](rect.html#rect) or [Quad](quad.html#quad) objects, each of
    which – **normally!** – surrounds one occurrence of *needle*. **However:** if
    parts of *needle* occur on more than one line, then a separate item is generated
    for each these parts. So, if `needle = "search string"`, two rectangles may be
    generated.
  id: totrans-2059
  prefs: []
  type: TYPE_NORMAL
  zh: 返回一个[Rect](rect.html#rect)或[Quad](quad.html#quad)对象列表，每个对象通常包围一个*needle*的出现。然而，如果*needle*的部分出现在多行上，则会为每个部分生成一个单独的项。因此，如果
    `needle = "search string"`，可能会生成两个矩形。
- en: '<details><summary>Show/hide history</summary></details> Changes in v1.18.2:'
  id: totrans-2060
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史</summary></details> v1.18.2 中的更改：
- en: There no longer is a limit on the list length (removal of the `hit_max` parameter).
  id: totrans-2061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列表长度不再有限制（移除了`hit_max`参数）。
- en: 'If a word is **hyphenated** at a line break, it will still be found. E.g. the
    needle “method” will be found even if hyphenated as “meth-od” at a line break,
    and two rectangles will be returned: one surrounding “meth” (without the hyphen)
    and another one surrounding “od”.'
  id: totrans-2062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个单词在行尾处被连字符分隔，它仍然会被找到。例如，“method”会被找到，即使在行尾处被连字符为“meth-od”，会返回两个矩形：一个围绕“meth”（不包括连字符），另一个围绕“od”。
- en: Note
  id: totrans-2063
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The method supports multi-line text marker annotations: you can use the full
    returned list as **one single** parameter for creating the annotation.'
  id: totrans-2064
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法支持多行文本标记注释：您可以将完整返回的列表作为**一个单独**参数来创建注释。
- en: Caution
  id: totrans-2065
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'There is a tricky aspect: the search logic regards **contiguous multiple occurrences**
    of *needle* as one: assuming *needle* is “abc”, and the page contains “abc” and
    “abcabc”, then only **two** rectangles will be returned, one for “abc”, and a
    second one for “abcabc”.'
  id: totrans-2066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存在一个棘手的问题：搜索逻辑将**连续的多个出现**的*needle*视为一个：假设*needle*是“abc”，页面包含“abc”和“abcabc”，那么只会返回**两个**矩形，一个用于“abc”，第二个用于“abcabc”。
- en: You can always use [`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")
    to check what text actually is being surrounded by each rectangle.
  id: totrans-2067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您始终可以使用[`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")来检查每个矩形周围实际包含的文本。
- en: Note
  id: totrans-2068
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'A feature repeatedly asked for is supporting **regular expressions** when specifying
    the `"needle"` string: **There is no way to do this.** If you need something in
    that direction, first extract text in the desired format and then subselect the
    result by matching with some regex pattern. Here is an example for matching words:'
  id: totrans-2069
  prefs: []
  type: TYPE_NORMAL
  zh: 一个经常被要求的功能是在指定“needle”字符串时支持**正则表达式**：**目前无法实现此功能**。如果需要类似功能，请先提取所需格式的文本，然后通过某些正则表达式模式进行子选择。这里有一个匹配单词的示例：
- en: '[PRE192]'
  id: totrans-2070
  prefs: []
  type: TYPE_PRE
  zh: '[PRE192]'
- en: The `matches` list will contain the words matching the given pattern. In the
    same way you can select `span["text"]` from the output of `page.get_text("dict")`.
  id: totrans-2071
  prefs: []
  type: TYPE_NORMAL
  zh: '`matches`列表将包含与给定模式匹配的单词。您可以从`page.get_text("dict")`的输出中选择`span["text"]`。'
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.2:
    added `clip` parameter. Remove `hit_max` parameter. Add default “dehyphenate”.'
  id: totrans-2072
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.18.2中的更改：添加了`clip`参数。移除`hit_max`参数。添加默认值“dehyphenate”。
- en: 'Changed in v1.19.0: added [TextPage](textpage.html) parameter.'
  id: totrans-2073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.0中的更改：添加了[TextPage](textpage.html)参数。
- en: '[PRE193]'
  id: totrans-2074
  prefs: []
  type: TYPE_PRE
  zh: '[PRE193]'
- en: 'PDF only: Change the physical page dimension by setting [`mediabox`](#Page.mediabox
    "Page.mediabox") in the page’s object definition.'
  id: totrans-2075
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：通过在页面对象定义中设置[`mediabox`](#Page.mediabox "Page.mediabox")来更改物理页面尺寸。
- en: 'Parameters:'
  id: totrans-2076
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect-like*) – the new [`mediabox`](#Page.mediabox "Page.mediabox")
    value.'
  id: totrans-2077
  prefs: []
  type: TYPE_NORMAL
  zh: '**r** (*rect-like*) – 页面的新[`mediabox`](#Page.mediabox "Page.mediabox")值。'
- en: Note
  id: totrans-2078
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method also removes the page’s other (optional) rectangles ([`cropbox`](#Page.cropbox
    "Page.cropbox"), ArtBox, TrimBox and Bleedbox) to prevent inconsistent situations.
    This will cause those to assume their default values.
  id: totrans-2079
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法还会移除页面的其他（可选）矩形（[`cropbox`](#Page.cropbox "Page.cropbox")、ArtBox、TrimBox和Bleedbox），以避免不一致的情况。这将导致它们恢复到默认值。
- en: Caution
  id: totrans-2080
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For non-empty pages this may have undesired effects, because the location of
    all content depends on this value and will therefore change position or even disappear.
  id: totrans-2081
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非空页面，这可能会产生不良影响，因为所有内容的位置都取决于此值，因此位置可能会改变或甚至消失。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.13
  id: totrans-2082
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.16.13中的新功能
- en: 'Changed in v1.19.4: remove all other rectangle definitions.'
  id: totrans-2083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.4中的更改：移除所有其他矩形定义。
- en: '[PRE194]'
  id: totrans-2084
  prefs: []
  type: TYPE_PRE
  zh: '[PRE194]'
- en: 'PDF only: change the visible part of the page.'
  id: totrans-2085
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：更改页面的可见部分。
- en: 'Parameters:'
  id: totrans-2086
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect_like*) – the new visible area of the page. Note that this **must**
    be specified in **unrotated coordinates**, not empty, nor infinite and be completely
    contained in the [`Page.mediabox`](#Page.mediabox "Page.mediabox").'
  id: totrans-2087
  prefs: []
  type: TYPE_NORMAL
  zh: '**r** (*rect_like*) – 页面的新可见区域。请注意，此处**必须**使用未旋转坐标指定，不能是空的，也不能是无限的，并且完全包含在[`Page.mediabox`](#Page.mediabox
    "Page.mediabox")中。'
- en: 'After execution **(if the page is not rotated)**, [`Page.rect`](#Page.rect
    "Page.rect") will equal this rectangle, but be shifted to the top-left position
    (0, 0) if necessary. Example session:'
  id: totrans-2088
  prefs: []
  type: TYPE_NORMAL
  zh: 执行之后（如果页面未旋转），[`Page.rect`](#Page.rect "Page.rect")将等于此矩形，但如果需要，将被移至左上角位置（0,
    0）。会话示例：
- en: '[PRE195]'
  id: totrans-2089
  prefs: []
  type: TYPE_PRE
  zh: '[PRE195]'
- en: '[PRE196]'
  id: totrans-2090
  prefs: []
  type: TYPE_PRE
  zh: '[PRE196]'
- en: '[PRE197]'
  id: totrans-2091
  prefs: []
  type: TYPE_PRE
  zh: '[PRE197]'
- en: '[PRE198]'
  id: totrans-2092
  prefs: []
  type: TYPE_PRE
  zh: '[PRE198]'
- en: 'PDF only: Set the resp. rectangle in the page object. For the meaning of these
    objects see [Adobe PDF References](app3.html#adobemanual), page 77\. Parameter
    and restrictions are the same as for [`Page.set_cropbox()`](#Page.set_cropbox
    "Page.set_cropbox").'
  id: totrans-2093
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：在页面对象中设置相应的矩形。有关这些对象的含义，请参阅[Adobe PDF参考](app3.html#adobemanual)，第77页。参数和限制与[`Page.set_cropbox()`](#Page.set_cropbox
    "Page.set_cropbox")相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.4
  id: totrans-2094
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.19.4中的新功能
- en: '[PRE199]'
  id: totrans-2095
  prefs: []
  type: TYPE_PRE
  zh: '[PRE199]'
- en: 'Contains the rotation of the page in degrees (always 0 for non-PDF types).
    This is a copy of the value in the PDF file. The PDF documentation says:'
  id: totrans-2096
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面旋转的度数（非PDF类型始终为0）。这是PDF文件中值的复制。PDF文档说明如下：
- en: '*“The number of degrees by which the page should be rotated clockwise when
    displayed or printed. The value must be a multiple of 90\. Default value: 0.”*'
  id: totrans-2097
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*“显示或打印时页面顺时针旋转的度数。值必须是90的倍数。默认值：0。”*'
- en: ''
  id: totrans-2098
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In PyMuPDF, we make sure that this attribute is always one of 0, 90, 180 or
    270.
  id: totrans-2099
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在PyMuPDF中，我们确保该属性始终为0、90、180或270之一。
- en: 'Type:'
  id: totrans-2100
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-2101
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE200]'
  id: totrans-2102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE200]'
- en: Contains the top-left point of the page’s `/CropBox` for a PDF, otherwise *Point(0,
    0)*.
  id: totrans-2103
  prefs: []
  type: TYPE_NORMAL
  zh: 包含PDF页面`/CropBox`的左上角点。否则为*Point(0, 0)*。
- en: 'Type:'
  id: totrans-2104
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-2105
  prefs: []
  type: TYPE_NORMAL
  zh: '[点](point.html#point)'
- en: '[PRE201]'
  id: totrans-2106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE201]'
- en: The page’s `/CropBox` for a PDF. Always the **unrotated** page rectangle is
    returned. For a non-PDF this will always equal the page rectangle.
  id: totrans-2107
  prefs: []
  type: TYPE_NORMAL
  zh: PDF的页面`/CropBox`。始终返回**未旋转**的页面矩形。对于非PDF文档，这将始终等于页面矩形。
- en: Note
  id: totrans-2108
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In PDF, the relationship between `/MediaBox`, `/CropBox` and page rectangle
    may sometimes be confusing, please do lookup the glossary for [`MediaBox`](glossary.html#MediaBox
    "MediaBox").
  id: totrans-2109
  prefs: []
  type: TYPE_NORMAL
  zh: 在PDF中，`/MediaBox`、`/CropBox`和页面矩形之间的关系有时可能令人困惑，请查看词汇表了解[`MediaBox`](glossary.html#MediaBox
    "MediaBox")。
- en: 'Type:'
  id: totrans-2110
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2111
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '[PRE202]'
  id: totrans-2112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE202]'
- en: '[PRE203]'
  id: totrans-2113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE203]'
- en: '[PRE204]'
  id: totrans-2114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE204]'
- en: The page’s `/ArtBox`, `/BleedBox`, `/TrimBox`, respectively. If not provided,
    defaulting to [`Page.cropbox`](#Page.cropbox "Page.cropbox").
  id: totrans-2115
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的`/ArtBox`、`/BleedBox`、`/TrimBox`，如果未提供，则默认为[`Page.cropbox`](#Page.cropbox
    "Page.cropbox")。
- en: 'Type:'
  id: totrans-2116
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2117
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '[PRE205]'
  id: totrans-2118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE205]'
- en: Contains the width and height of the page’s [`Page.mediabox`](#Page.mediabox
    "Page.mediabox") for a PDF, otherwise the bottom-right coordinates of [`Page.rect`](#Page.rect
    "Page.rect").
  id: totrans-2119
  prefs: []
  type: TYPE_NORMAL
  zh: 包含PDF页面的[`Page.mediabox`](#Page.mediabox "Page.mediabox")的宽度和高度，否则是[`Page.rect`](#Page.rect
    "Page.rect")的右下角坐标。
- en: 'Type:'
  id: totrans-2120
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-2121
  prefs: []
  type: TYPE_NORMAL
  zh: '[点](point.html#point)'
- en: '[PRE206]'
  id: totrans-2122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE206]'
- en: The page’s [`mediabox`](#Page.mediabox "Page.mediabox") for a PDF, otherwise
    [`Page.rect`](#Page.rect "Page.rect").
  id: totrans-2123
  prefs: []
  type: TYPE_NORMAL
  zh: PDF页面的[`mediabox`](#Page.mediabox "Page.mediabox")，否则是[`Page.rect`](#Page.rect
    "Page.rect")。
- en: 'Type:'
  id: totrans-2124
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2125
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: Note
  id: totrans-2126
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For most PDF documents and for **all other document types**, `page.rect == page.cropbox
    == page.mediabox` is true. However, for some PDFs the visible page is a true subset
    of [`mediabox`](#Page.mediabox "Page.mediabox"). Also, if the page is rotated,
    its [`Page.rect`](#Page.rect "Page.rect") may not equal [`Page.cropbox`](#Page.cropbox
    "Page.cropbox"). In these cases the above attributes help to correctly locate
    page elements.
  id: totrans-2127
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数PDF文档和所有其他文档类型，`page.rect == page.cropbox == page.mediabox`是真实的。然而，对于某些PDF文档，可见页面是[`mediabox`](#Page.mediabox
    "Page.mediabox")的真正子集。此外，如果页面被旋转，其[`Page.rect`](#Page.rect "Page.rect")可能不等于[`Page.cropbox`](#Page.cropbox
    "Page.cropbox")。在这些情况下，上述属性有助于正确定位页面元素。
- en: '[PRE207]'
  id: totrans-2128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE207]'
- en: This matrix translates coordinates from the PDF space to the MuPDF space. For
    example, in PDF `/Rect [x0 y0 x1 y1]` the pair (x0, y0) specifies the **bottom-left**
    point of the rectangle – in contrast to MuPDF’s system, where (x0, y0) specify
    top-left. Multiplying the PDF coordinates with this matrix will deliver the (Py-)
    MuPDF rectangle version. Obviously, the inverse matrix will again yield the PDF
    rectangle.
  id: totrans-2129
  prefs: []
  type: TYPE_NORMAL
  zh: 此矩阵将PDF空间中的坐标转换为MuPDF空间中的坐标。例如，在PDF中，`/Rect [x0 y0 x1 y1]`中的(x0, y0)指定矩形的**左下**角点，而在MuPDF系统中，(x0,
    y0)指定顶部左侧。将PDF坐标与此矩阵相乘将得到（Py-）MuPDF矩形版本。显然，逆矩阵将再次生成PDF矩形。
- en: 'Type:'
  id: totrans-2130
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-2131
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE208]'
  id: totrans-2132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE208]'
- en: '[PRE209]'
  id: totrans-2133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE209]'
- en: 'These matrices may be used for dealing with rotated PDF pages. When adding
    / inserting anything to a PDF page, the coordinates of the **unrotated** page
    are always used. These matrices help translating between the two states. Example:
    if a page is rotated by 90 degrees – what would then be the coordinates of the
    top-left Point(0, 0) of an A4 page?'
  id: totrans-2134
  prefs: []
  type: TYPE_NORMAL
  zh: 这些矩阵可能用于处理旋转的PDF页面。在向PDF页面添加/插入任何内容时，始终使用未旋转页面的坐标。这些矩阵有助于在两种状态之间进行转换。例如：如果页面旋转了90度，则A4页面左上角点(0,
    0)的坐标是多少？
- en: '[PRE210]'
  id: totrans-2135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE210]'
- en: 'Type:'
  id: totrans-2136
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-2137
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE211]'
  id: totrans-2138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE211]'
- en: Contains the first [Link](link.html#link) of a page (or *None*).
  id: totrans-2139
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[链接](link.html#link)（或*无*）。
- en: 'Type:'
  id: totrans-2140
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Link](link.html#link)'
  id: totrans-2141
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: '[PRE212]'
  id: totrans-2142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE212]'
- en: Contains the first [Annot](annot.html#annot) of a page (or *None*).
  id: totrans-2143
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[注释](annot.html#annot)（或*无*）。
- en: 'Type:'
  id: totrans-2144
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-2145
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: '[PRE213]'
  id: totrans-2146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE213]'
- en: Contains the first [Widget](widget.html#widget) of a page (or *None*).
  id: totrans-2147
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[部件](widget.html#widget)（或*无*）。
- en: 'Type:'
  id: totrans-2148
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-2149
  prefs: []
  type: TYPE_NORMAL
  zh: '[部件](widget.html#widget)'
- en: '[PRE214]'
  id: totrans-2150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE214]'
- en: The page number.
  id: totrans-2151
  prefs: []
  type: TYPE_NORMAL
  zh: 页码。
- en: 'Type:'
  id: totrans-2152
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-2153
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE215]'
  id: totrans-2154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE215]'
- en: The owning document object.
  id: totrans-2155
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有的文档对象。
- en: 'Type:'
  id: totrans-2156
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Document](document.html#document)'
  id: totrans-2157
  prefs: []
  type: TYPE_NORMAL
  zh: '[Document](document.html#document)'
- en: '[PRE216]'
  id: totrans-2158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE216]'
- en: Contains the rectangle of the page. Same as result of [`Page.bound()`](#Page.bound
    "Page.bound").
  id: totrans-2159
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面矩形的矩形。与[`Page.bound()`](#Page.bound "Page.bound")的结果相同。
- en: 'Type:'
  id: totrans-2160
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2161
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE217]'
  id: totrans-2162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE217]'
- en: The page’s PDF [`xref`](glossary.html#xref "xref"). Zero if not a PDF.
  id: totrans-2163
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的PDF[`xref`](glossary.html#xref "xref")。如果不是PDF，则为零。
- en: 'Type:'
  id: totrans-2164
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2165
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '* * *'
  id: totrans-2166
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Redactions
  id: totrans-2167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 遮蔽
- en: '[PRE218]'
  id: totrans-2168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE218]'
- en: '**PDF only**: Add a redaction annotation. A redaction annotation identifies
    content to be removed from the document. Adding such an annotation is the first
    of two steps. It makes visible what will be removed in the subsequent step, [`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions").'
  id: totrans-2169
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅限PDF**：添加一个遮蔽注释。遮蔽注释标识要从文档中移除的内容。添加此注释是两步骤中的第一步。它使得在随后的步骤[`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions")中可以看到将要移除的内容。'
- en: 'Parameters:'
  id: totrans-2170
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quad** (*quad_like**,**rect_like*) – specifies the (rectangular) area to
    be removed which is always equal to the annotation rectangle. This may be a [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like") object. If
    a quad is specified, then the enveloping rectangle is taken.'
  id: totrans-2171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quad** (*quad_like**,**rect_like*) – 指定要移除的（矩形）区域，其大小始终等于注释矩形。这可以是一个[`rect_like`](glossary.html#rect_like
    "rect_like")或[`quad_like`](glossary.html#quad_like "quad_like")对象。如果指定了四边形，则采用包围矩形。'
- en: '**text** (*str*) – text to be placed in the rectangle after applying the redaction
    (and thus removing old content). (New in v1.16.12)'
  id: totrans-2172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*str*) – 应用遮蔽后（因此删除旧内容后）要放置在矩形中的文本。（v1.16.12中的新功能）'
- en: '**fontname** (*str*) –'
  id: totrans-2173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontname** (*str*) –'
- en: the font to use when *text* is given, otherwise ignored. The same rules apply
    as for [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox") –
    which is the method [`Page.apply_redactions()`](#Page.apply_redactions "Page.apply_redactions")
    internally invokes. The replacement text will be **vertically centered**, if this
    is one of the CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts). (New in v1.16.12)
  id: totrans-2174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当提供了*text*时要使用的字体，否则将被忽略。适用的规则与[`Page.insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")相同——这是方法[`Page.apply_redactions()`](#Page.apply_redactions
    "Page.apply_redactions")在内部调用的方式。如果这是CJK或[PDF Base 14 Fonts](app3.html#base-14-fonts)之一，则替换文本将**垂直居中**。（v1.16.12中的新功能）
- en: Note
  id: totrans-2175
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: For an **existing** font of the page, use its reference name as *fontname* (this
    is *item[4]* of its entry in [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")).
  id: totrans-2176
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于页面上的**现有**字体，请使用其引用名称作为*fontname*（这是其在[`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts")条目中的*item[4]*）。
- en: 'For a **new, non-builtin** font, proceed as follows:'
  id: totrans-2177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于一个**新的、非内置**字体，请按以下步骤进行：
- en: '[PRE219]'
  id: totrans-2178
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE219]'
- en: '**fontsize** (*float*) – the [`fontsize`](glossary.html#fontsize "fontsize")
    to use for the replacing text. If the text is too large to fit, several insertion
    attempts will be made, gradually reducing the [`fontsize`](glossary.html#fontsize
    "fontsize") to no less than 4\. If then the text will still not fit, no text insertion
    will take place at all. (New in v1.16.12)'
  id: totrans-2179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize** (*float*) – 用于替换文本的[`fontsize`](glossary.html#fontsize "fontsize")。如果文本过大而无法容纳，将进行多次插入尝试，逐渐减小[`fontsize`](glossary.html#fontsize
    "fontsize")至不少于4。如果仍然无法容纳，则根本不会进行文本插入。（v1.16.12中的新功能）'
- en: '**align** (*int*) – the horizontal alignment for the replacing text. See [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") for available values. The vertical alignment is (approximately)
    centered if a PDF built-in font is used (CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts)).
    (New in v1.16.12)'
  id: totrans-2180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**align** (*int*) – 替换文本的水平对齐方式。参见[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")以获取可用值。如果使用PDF内置字体（CJK或[PDF Base 14 Fonts](app3.html#base-14-fonts)），垂直对齐方式是（近似）居中的。（v1.16.12中的新功能）'
- en: '**fill** (*sequence*) – the fill color of the rectangle **after applying**
    the redaction. The default is *white = (1, 1, 1)*, which is also taken if *None*
    is specified. To suppress a fill color altogether, specify *False*. In this cases
    the rectangle remains transparent. (New in v1.16.12)'
  id: totrans-2181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fill** (*sequence*) – 应用遮蔽后矩形的填充颜色。默认为*white = (1, 1, 1)*，如果指定*None*则也采用此颜色。要完全禁用填充颜色，请指定*False*。在这种情况下，矩形保持透明。（v1.16.12中的新功能）'
- en: '**text_color** (*sequence*) – the color of the replacing text. Default is *black
    = (0, 0, 0)*. (New in v1.16.12)'
  id: totrans-2182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_color** (*sequence*) – 替换文本的颜色。默认为*black = (0, 0, 0)*。（v1.16.12中的新功能）'
- en: '**cross_out** (*bool*) – add two diagonal lines to the annotation rectangle.
    (New in v1.17.2)'
  id: totrans-2183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**cross_out** (*bool*) – 在注释矩形上添加两条对角线。 （v1.17.2中的新功能）'
- en: 'Return type:'
  id: totrans-2184
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-2185
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-2186
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: the created annotation. Its standard appearance looks like a red rectangle (no
    fill color), optionally showing two diagonal lines. Colors, line width, dashing,
    opacity and blend mode can now be set and applied via [`Annot.update()`](annot.html#Annot.update
    "Annot.update") like with other annotations. (Changed in v1.17.2)
  id: totrans-2187
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。其标准外观类似于一个红色矩形（无填充色），可选择显示两条对角线。现在可以通过[`Annot.update()`](annot.html#Annot.update
    "Annot.update")设置和应用颜色、线宽、虚线、不透明度和混合模式，就像处理其他注释一样。（在 v1.17.2 中更改）
- en: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>Show/hide
    history</summary></details> *   New in v1.16.11'
  id: totrans-2188
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/img-redact.jpg](../Images/89f843e2f4453c2561d0dbf05e28d1c1.png)<details><summary>显示/隐藏历史记录</summary></details>
    *   新增于 v1.16.11'
- en: '[PRE220]'
  id: totrans-2189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE220]'
- en: '**PDF only**: Remove all **content** contained in any redaction rectangle on
    the page.'
  id: totrans-2190
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅限 PDF**：删除页面上任何编辑矩形中包含的所有**内容**。'
- en: '**This method applies and then deletes all redactions from the page.**'
  id: totrans-2191
  prefs: []
  type: TYPE_NORMAL
  zh: '**此方法应用并从页面删除所有编辑。**'
- en: 'Parameters:'
  id: totrans-2192
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**images** (*int*) – How to redact overlapping images. The default (2) blanks
    out overlapping pixels. `PDF_REDACT_IMAGE_NONE | 0` ignores, and `PDF_REDACT_IMAGE_REMOVE
    | 1` completely removes images overlapping any redaction annotation. Option `PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE
    | 3` only removes images that are actually visible.'
  id: totrans-2193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**images** (*int*) – 如何编辑重叠图像。默认情况下（2），消除重叠像素。`PDF_REDACT_IMAGE_NONE | 0` 忽略，而`PDF_REDACT_IMAGE_REMOVE
    | 1` 完全移除与任何编辑注释重叠的图像。选项`PDF_REDACT_IMAGE_REMOVE_UNLESS_INVISIBLE | 3` 仅删除实际可见的图像。'
- en: '**graphics** (*int*) – How to redact overlapping vector graphics (also called
    “line-art” or “drawings”). The default (2) removes any overlapping vector graphics.
    `PDF_REDACT_LINE_ART_NONE | 0` ignores, and `PDF_REDACT_LINE_ART_IF_COVERED |
    1` removes graphics fully contained in a redaction annotation. When removing line-art,
    please be aware that **stroked** vector graphics (i.e. type “s” or “sf”) have
    a **larger wrapping rectangle** than one might expect: first of all, at least
    50% of the path’s line width have to be added in each direction to truly include
    all of the drawing. If a so-called “miter limit” is provided (see page 121 of
    the PDF specification), the enlarging value is `miter * width / 2`. So, when letting
    everything default (width = 1, miter = 10), the redaction rectangle should be
    at least 5 points larger in every direction.'
  id: totrans-2194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**graphics** (*int*) – 如何编辑重叠的矢量图形（也称为“线艺术”或“绘图”）。默认情况下（2），删除任何重叠的矢量图形。`PDF_REDACT_LINE_ART_NONE
    | 0` 忽略，而`PDF_REDACT_LINE_ART_IF_COVERED | 1` 删除完全包含在编辑注释中的图形。在删除线艺术时，请注意**描边**矢量图形（即类型“s”或“sf”）具有比预期更大的包装矩形：首先，必须在每个方向上至少添加路径线宽的50%以确实包括所有的绘图内容。如果提供了所谓的“斜接限制”（请参阅
    PDF 规范的第121页），则扩大值为 `miter * width / 2`。因此，当所有内容保持默认值（宽度 = 1，斜接 = 10）时，编辑矩形在每个方向上至少应大5点。'
- en: '**text** (*int*) – Whether to redact overlapping text. The default `PDF_REDACT_TEXT_REMOVE
    | 0` removes all characters whose boundary box overlaps any redaction rectangle.
    This complies with the original legal / data protection intentions of redaction
    annotations. Other use cases however may require to **keep text** while redacting
    vector graphics or images. This can be achieved by setting `text=True|PDF_REDACT_TEXT_NONE
    | 1`. This does **not comply** with the data protection intentions of redaction
    annotations. **Do so at your own risk.**'
  id: totrans-2195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text** (*int*) – 是否编辑重叠文本。默认情况下，`PDF_REDACT_TEXT_REMOVE | 0` 删除所有边界框与任何编辑矩形重叠的字符。这符合编辑注释的原始法律
    / 数据保护意图。但其他用例可能需要在编辑矢量图形或图像时**保留文本**。可以通过设置 `text=True|PDF_REDACT_TEXT_NONE |
    1` 实现这一点。这**不符合**编辑注释的数据保护意图。请自行决定是否采用。'
- en: 'Returns:'
  id: totrans-2196
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: '`True` if at least one redaction annotation has been processed, `False` otherwise.'
  id: totrans-2197
  prefs: []
  type: TYPE_NORMAL
  zh: 如果至少处理了一个编辑注释，则返回`True`，否则返回`False`。
- en: Note
  id: totrans-2198
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Text contained in a redaction rectangle will be **physically** removed from
    the page (assuming [`Document.save()`](document.html#Document.save "Document.save")
    with a suitable garbage option) and will no longer appear in e.g. text extractions
    or anywhere else. All redaction annotations will also be removed. Other annotations
    are unaffected.
  id: totrans-2199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含在编辑矩形中的文本将从页面上**物理**移除（假设使用合适的垃圾选项保存[`Document.save()`](document.html#Document.save
    "Document.save")），并且将不再出现在文本提取或其他任何地方。所有编辑注释也将被删除。其他注释不受影响。
- en: All overlapping links will be removed. If the rectangle of the link was covering
    text, then only the overlapping part of the text is being removed. Similar applies
    to images covered by link rectangles.
  id: totrans-2200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有重叠的链接将被移除。如果链接的矩形覆盖了文本，则只会删除文本的重叠部分。类似的情况也适用于被链接矩形覆盖的图像。
- en: The overlapping parts of **images** will be blanked-out for default option `PDF_REDACT_IMAGE_PIXELS`
    (changed in v1.18.0). Option 0 does not touch any images and 1 will remove any
    image with an overlap.
  id: totrans-2201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认选项`PDF_REDACT_IMAGE_PIXELS`将**图像**的重叠部分清空（在v1.18.0中更改）。选项0不触及任何图像，1将移除任何有重叠的图像。
- en: For option `images=PDF_REDACT_IMAGE_REMOVE` only this page’s **references to
    the images** are removed - not necessarily the images themselves. Images are completely
    removed from the file only, if no longer referenced at all (assuming suitable
    garbage collection options).
  id: totrans-2202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项`images=PDF_REDACT_IMAGE_REMOVE`，仅删除此页对图像的**引用** - 并非一定删除图像本身。仅当不再引用图像（假设合适的垃圾回收选项）时，才会完全从文件中删除图像。
- en: For option `images=PDF_REDACT_IMAGE_PIXELS` a new image of format PNG is created,
    which the page will use in place of the original one. The original image is not
    deleted or replaced as part of this process, so other pages may still show the
    original. In addition, the new, modified PNG image currently is **stored uncompressed**.
    Do keep these aspects in mind when choosing the right garbage collection method
    and compression options during save.
  id: totrans-2203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于选项`images=PDF_REDACT_IMAGE_PIXELS`，将创建一个新的PNG格式图像，并用其替换原来的图像。原始图像不会作为此过程的一部分被删除或替换，因此其他页面可能仍显示原始图像。此外，当前修改后的PNG图像**未压缩存储**。在保存期间选择适当的垃圾收集方法和压缩选项时，请注意这些方面。
- en: '**Text removal** is done by character: A character is removed if its bbox has
    a **non-empty overlap** with a redaction rectangle (changed in MuPDF v1.17). Depending
    on the font properties and / or the chosen line height, deletion may occur for
    undesired text parts. Using [`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights") with a *True* argument before text search may
    help to prevent this.'
  id: totrans-2204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本删除** 是按字符完成的：如果字符的边界框与遮挡矩形有**非空重叠**（在MuPDF v1.17中更改），则删除该字符。根据字体属性和/或所选行高，可能会删除不需要的文本部分。在进行文本搜索之前，使用[`Tools.set_small_glyph_heights()`](tools.html#Tools.set_small_glyph_heights
    "Tools.set_small_glyph_heights")并传递*True*参数可能有助于防止这种情况发生。'
- en: Redactions are a simple way to replace single words in a PDF, or to just physically
    remove them. Locate the word “secret” using some text extraction or search method
    and insert a redaction using “xxxxxx” as replacement text for each occurrence.
  id: totrans-2205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 遮罩是替换PDF中单词或物理删除它们的简单方法。使用某些文本提取或搜索方法定位单词“secret”，并使用“xxxxxx”作为替换文本插入遮罩。
- en: Be wary if the replacement is longer than the original – this may lead to an
    awkward appearance, line breaks or no new text at all.
  id: totrans-2206
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果替换文本比原始文本更长，请小心，这可能会导致尺寸不协调、换行或根本没有新文本出现。
- en: For a number of reasons, the new text may not exactly be positioned on the same
    line like the old one – especially true if the replacement font was not one of
    CJK or [PDF Base 14 Fonts](app3.html#base-14-fonts).
  id: totrans-2207
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于各种原因，新文本可能不会像旧文本一样完全位于同一行上 — 特别是如果替换字体不是CJK或者[PDF Base 14 Fonts](app3.html#base-14-fonts)之一。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.11
  id: totrans-2208
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.16.11中新增
- en: 'Changed in v1.16.12: The previous *mark* parameter is gone. Instead, the respective
    rectangles are filled with the individual *fill* color of each redaction annotation.
    If a *text* was given in the annotation, then [`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") is invoked to insert it, using parameters provided with
    the redaction.'
  id: totrans-2209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.16.12中更改：之前的*mark*参数已经删除。取而代之的是，各个遮罩注释的*fill*颜色填充了相应的矩形。如果注释中给出了*text*，则会调用[`insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox")来插入文本框，使用与遮罩相应的参数。
- en: 'Changed in v1.18.0: added option for handling images that overlap redaction
    areas.'
  id: totrans-2210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.18.0中更改：添加了处理重叠遮罩区域图像的选项。
- en: 'Changed in v1.23.27: added option for removing graphics as well.'
  id: totrans-2211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.23.27中更改：添加了用于移除图形的选项。
- en: 'Changed in v1.24.2: added option `keep_text` to leave text untouched.'
  id: totrans-2212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.24.2中更改：添加了选项`keep_text`以保留文本不变。
- en: '* * *'
  id: totrans-2213
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '[PRE221]'
  id: totrans-2214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE221]'
- en: '[PRE222]'
  id: totrans-2215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE222]'
- en: 'PDF only: Add an annotation consisting of lines which connect the given points.
    A **Polygon’s** first and last points are automatically connected, which does
    not happen for a **PolyLine**. The **rectangle** is automatically created as the
    smallest rectangle containing the points, each one surrounded by a circle of radius
    3 (= 3 * line width). The following shows a ‘PolyLine’ that has been modified
    with colors and line ends.'
  id: totrans-2216
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：添加一个注释，由连接给定点的线条组成。**多边形**的第一个和最后一个点会自动连接，这在**折线**中是不会发生的。**矩形**会自动创建为包含这些点的最小矩形，每个点周围都有半径为3的圆圈（=
    3 * 线宽）。以下显示了一个已经用颜色和线端修改过的“折线”。
- en: 'Parameters:'
  id: totrans-2217
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**points** (*list*) – a list of [`point_like`](glossary.html#point_like "point_like")
    objects.'
  id: totrans-2218
  prefs: []
  type: TYPE_NORMAL
  zh: '**points**（*list*）– 一个[`point_like`](glossary.html#point_like "point_like")对象的列表。'
- en: 'Return type:'
  id: totrans-2219
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-2220
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot)'
- en: 'Returns:'
  id: totrans-2221
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'the created annotation. It is drawn with line color black, line width 1 no
    fill color but fill color support. Use methods of [Annot](annot.html#annot) to
    make any changes to achieve something like this:'
  id: totrans-2222
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。用黑色线条绘制，线宽为1，无填充颜色但支持填充颜色。使用[Annot](annot.html#annot)的方法进行任何更改，以达到类似这样的效果：
- en: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
  id: totrans-2223
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-polyline.png](../Images/87d5e9ef380fcba893bb28b8300f6cc9.png)](_images/img-polyline.png)'
- en: '[PRE223]'
  id: totrans-2224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE223]'
- en: '[PRE224]'
  id: totrans-2225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE224]'
- en: '[PRE225]'
  id: totrans-2226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE225]'
- en: '[PRE226]'
  id: totrans-2227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE226]'
- en: 'PDF only: These annotations are normally used for **marking text** which has
    previously been somehow located (for example via [`Page.search_for()`](#Page.search_for
    "Page.search_for")). But this is not required: you are free to “mark” just anything.'
  id: totrans-2228
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：这些注释通常用于**标记已经通过[`Page.search_for()`](#Page.search_for "Page.search_for")之类的方式定位过的文本**。但这不是必需的：您可以自由地“标记”任何内容。
- en: 'Standard (stroke only – no fill color support) colors are chosen per annotation
    type: **yellow** for highlighting, **red** for striking out, **green** for underlining,
    and **magenta** for wavy underlining.'
  id: totrans-2229
  prefs: []
  type: TYPE_NORMAL
  zh: 标准（仅描边——不支持填充颜色）颜色根据注释类型选择：用于突出显示的**黄色**，用于删除线的**红色**，用于下划线的**绿色**，用于波浪下划线的**洋红色**。
- en: All these four methods convert the arguments into a list of [Quad](quad.html#quad)
    objects. The **annotation** rectangle is then calculated to envelop all these
    quadrilaterals.
  id: totrans-2230
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这四种方法都将参数转换为[Quad](quad.html#quad)对象的列表。然后计算**注释**矩形以包围所有这些四边形。
- en: Note
  id: totrans-2231
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '[`search_for()`](#Page.search_for "Page.search_for") delivers a list of either
    [Rect](rect.html#rect) or [Quad](quad.html#quad) objects. Such a list can be directly
    used as an argument for these annotation types and will deliver **one common annotation**
    for all occurrences of the search string:'
  id: totrans-2232
  prefs: []
  type: TYPE_NORMAL
  zh: '[`search_for()`](#Page.search_for "Page.search_for") 提供了一个包含[Rect](rect.html#rect)或[Quad](quad.html#quad)对象的列表。这样的列表可以直接用作这些注释类型的参数，并将为所有搜索字符串的出现提供**一个共同的注释**：'
- en: '[PRE227]'
  id: totrans-2233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE227]'
- en: Note
  id: totrans-2234
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Obviously, text marker annotations need to know what is the top, the bottom,
    the left, and the right side of the area(s) to be marked. If the arguments are
    quads, this information is given by the sequence of the quad points. In contrast,
    a rectangle delivers much less information – this is illustrated by the fact,
    that 4! = 24 different quads can be constructed with the four corners of a rectangle.
  id: totrans-2235
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，文本标记注释需要知道要标记的区域的顶部、底部、左侧和右侧。如果参数是四边形，这些信息通过四边形顶点的顺序给出。相比之下，矩形提供的信息要少得多——这可以通过这样一个事实来说明，即可以用矩形的四个角构建24个不同的四边形。
- en: Therefore, we **strongly recommend** to use the `quads` option for text searches,
    to ensure correct annotations. A similar consideration applies to marking **text
    spans** extracted with the “dict” / “rawdict” options of [`Page.get_text()`](#Page.get_text
    "Page.get_text"). For more details on how to compute quadrilaterals in this case,
    see section “How to Mark Non-horizontal Text” of [FAQ](faq.html#faq).
  id: totrans-2236
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们**强烈建议**使用`quads`选项进行文本搜索，以确保正确的注释。类似的考虑也适用于使用[`Page.get_text()`](#Page.get_text
    "Page.get_text")的“dict”/“rawdict”选项提取的**文本跨度**标记。有关如何在这种情况下计算四边形的更多详细信息，请参见[FAQ](faq.html#faq)中的“如何标记非水平文本”部分。
- en: 'Parameters:'
  id: totrans-2237
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quads** (*rect_like**,**quad_like**,**list**,**tuple*) – the location(s)
    – rectangle(s) or quad(s) – to be marked. (Changed in v1.14.20) A list or tuple
    must consist of [`rect_like`](glossary.html#rect_like "rect_like") or [`quad_like`](glossary.html#quad_like
    "quad_like") items (or even a mixture of either). Every item must be finite, convex
    and not empty (as applicable). **Set this parameter to** *None* if you want to
    use the following arguments (Changed in v1.16.14). And vice versa: if not *None*,
    the remaining parameters must be *None*.'
  id: totrans-2238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads** (*rect_like**,**quad_like**,**list**,**tuple*) – 要标记的位置（矩形或四边形）。（v1.14.20中更改）列表或元组必须由[`rect_like`](glossary.html#rect_like
    "rect_like")或[`quad_like`](glossary.html#quad_like "quad_like")项（或两者混合的任意组合）组成。每个项必须是有限的、凸的和非空的（如适用）。如果要使用以下参数，请将此参数设置为*None*（v1.16.14中更改）。反之亦然：如果不为*None*，则其余参数必须为*None*。'
- en: '**start** (*point_like*) – start text marking at this point. Defaults to the
    top-left point of *clip*. Must be provided if `quads` is *None*. (New in v1.16.14)'
  id: totrans-2239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**start** (*point_like*) – 在这一点开始标记文本。默认为*clip*的左上角点。如果`quads`为*None*，必须提供。（v1.16.14中新增）'
- en: '**stop** (*point_like*) – stop text marking at this point. Defaults to the
    bottom-right point of *clip*. Must be used if `quads` is *None*. (New in v1.16.14)'
  id: totrans-2240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stop** (*point_like*) – 在这一点停止标记文本。默认为*clip*的右下角点。如果`quads`为*None*，必须使用。（v1.16.14中新增）'
- en: '**clip** (*rect_like*) – only consider text lines intersecting this area. Defaults
    to the page rectangle. Only use if `start` and `stop` are provided. (New in v1.16.14)'
  id: totrans-2241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 仅考虑与此区域相交的文本行。默认为页面矩形。只有在提供`start`和`stop`时才使用。（v1.16.14中新增）'
- en: 'Return type:'
  id: totrans-2242
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot) or *None* (changed in v1.16.14).'
  id: totrans-2243
  prefs: []
  type: TYPE_NORMAL
  zh: '[Annot](annot.html#annot) 或 *None*（v1.16.14中更改）。'
- en: 'Returns:'
  id: totrans-2244
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the created annotation. If *quads* is an empty list, **no annotation** is created
    (changed in v1.16.14).
  id: totrans-2245
  prefs: []
  type: TYPE_NORMAL
  zh: 创建的注释。如果*quads*是一个空列表，则**不创建注释**（v1.16.14中更改）。
- en: Note
  id: totrans-2246
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use parameters *start*, *stop* and *clip* to highlight consecutive lines
    between the points *start* and *stop* (starting with v1.16.14). Make use of *clip*
    to further reduce the selected line bboxes and thus deal with e.g. multi-column
    pages. The following multi-line highlight on a page with three text columns was
    created by specifying the two red points and setting clip accordingly.
  id: totrans-2247
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用参数*start*、*stop*和*clip*来突出显示两点*start*和*stop*之间的连续行（从v1.16.14开始）。利用*clip*可以进一步减少选择的行边界框，从而处理例如多列页面。在具有三个文本列的页面上创建以下多行高亮显示是通过指定两个红点并相应设置clip来实现的。
- en: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
  id: totrans-2248
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-markers.jpg](../Images/5f165540580f211c945ad22d4cc0662a.png)](_images/img-markers.jpg)'
- en: '[PRE228]'
  id: totrans-2249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE228]'
- en: Cluster vector graphics (synonyms are line-art or drawings) based on their geometrical
    vicinity. The method walks through the output of [`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings") and joins paths whose `path["rect"]` are closer to each other
    than some tolerance values (given in the arguments). The result is a list of rectangles
    that each wrap things like tables (with gridlines), pie charts, bar charts, etc.
  id: totrans-2250
  prefs: []
  type: TYPE_NORMAL
  zh: 基于它们的几何邻近性聚类矢量图形（同义词为线条艺术或图纸）。该方法遍历[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出，并连接那些`path["rect"]`彼此之间距离小于某个容差值（给定在参数中）的路径。结果是一个矩形列表，每个矩形包裹着诸如带有网格线的表格、饼图、柱状图等东西。
- en: 'Parameters:'
  id: totrans-2251
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – only consider paths inside this area. The default
    is the full page.'
  id: totrans-2252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 仅考虑此区域内的路径。默认为整页。'
- en: '**drawings** (*list*) – (optional) provide a previously generated output of
    [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"). If `None` the
    method will execute the method.'
  id: totrans-2253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**drawings** (*list*) – （可选）提供先前生成的[`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings")的输出。如果为`None`，则方法将执行该方法。'
- en: '**x_tolerance** (*float*) –'
  id: totrans-2254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x_tolerance** (*float*) –'
- en: '[PRE229]'
  id: totrans-2255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE229]'
- en: Find tables on the page and return an object with related information. Typically,
    the default values of the many parameters will be sufficient. Adjustments should
    ever only be needed in corner case situations.
  id: totrans-2256
  prefs: []
  type: TYPE_NORMAL
  zh: 查找页面上的表格并返回相关信息的对象。通常，许多参数的默认值将足以满足要求。调整只应在极端情况下需要。
- en: 'Parameters:'
  id: totrans-2257
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – specify a region to consider within the page rectangle
    and ignore the rest. Default is the full page.'
  id: totrans-2258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 指定要在页面矩形内考虑的区域，忽略其余部分。默认为整页。'
- en: '**strategy** (*str*) –'
  id: totrans-2259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**strategy** (*str*) –'
- en: Request a **table detection** strategy. Valid values are “lines”, “lines_strict”
    and “text”.
  id: totrans-2260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请求一个表格检测策略。有效值为“lines”、“lines_strict”和“text”。
- en: Default is **“lines”** which uses all vector graphics on the page to detect
    grid lines.
  id: totrans-2261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Default is **“lines”** which uses all vector graphics on the page to detect
    grid lines.
- en: Strategy **“lines_strict”** ignores borderless rectangle vector graphics. Sometimes
    single text pieces have background colors which may lead to false columns or lines.
    This strategy ignores them and can thus increase detection precision.
  id: totrans-2262
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Strategy **“lines_strict”** ignores borderless rectangle vector graphics. Sometimes
    single text pieces have background colors which may lead to false columns or lines.
    This strategy ignores them and can thus increase detection precision.
- en: If **“text”** is specified, text positions are used to generate “virtual” column
    and / or row boundaries. Use `min_words_*` to request the number of words for
    considering their coordinates.
  id: totrans-2263
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: If **“text”** is specified, text positions are used to generate “virtual” column
    and / or row boundaries. Use `min_words_*` to request the number of words for
    considering their coordinates.
- en: Use parameters `vertical_strategy` and `horizontal_strategy` **instead** for
    a more fine-grained treatment of the dimensions.
  id: totrans-2264
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Use parameters `vertical_strategy` and `horizontal_strategy` **instead** for
    a more fine-grained treatment of the dimensions.
- en: '**horizontal_lines** (*sequence**[**floats**]*) – y-coordinates of rows. If
    provided, there will be no attempt to identify additional table rows. This influences
    table detection.'
  id: totrans-2265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**horizontal_lines** (*sequence**[**floats**]*) – y-coordinates of rows. If
    provided, there will be no attempt to identify additional table rows. This influences
    table detection.'
- en: '**vertical_lines** (*sequence**[**floats**]*) – x-coordinates of columns. If
    provided, there will be no attempt to identify additional table columns. This
    influences table detection.'
  id: totrans-2266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**vertical_lines** (*sequence**[**floats**]*) – x-coordinates of columns. If
    provided, there will be no attempt to identify additional table columns. This
    influences table detection.'
- en: '**min_words_vertical** (*int*) – relevant for vertical strategy option “text”:
    at least this many words must coincide to establish a **virtual column** boundary.'
  id: totrans-2267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_vertical** (*int*) – relevant for vertical strategy option “text”:
    at least this many words must coincide to establish a **virtual column** boundary.'
- en: '**min_words_horizontal** (*int*) – relevant for horizontal strategy option
    “text”: at least this many words must coincide to establish a **virtual row**
    boundary.'
  id: totrans-2268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**min_words_horizontal** (*int*) – relevant for horizontal strategy option
    “text”: at least this many words must coincide to establish a **virtual row**
    boundary.'
- en: '**snap_tolerance** (*float*) – Any two horizontal lines whose y-values differ
    by no more than this value will be **snapped** into one. Accordingly for vertical
    lines. Default is 3\. Separate values can be specified instead for the dimensions,
    using `snap_x_tolerance` and `snap_y_tolerance`.'
  id: totrans-2269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**snap_tolerance** (*float*) – Any two horizontal lines whose y-values differ
    by no more than this value will be **snapped** into one. Accordingly for vertical
    lines. Default is 3\. Separate values can be specified instead for the dimensions,
    using `snap_x_tolerance` and `snap_y_tolerance`.'
- en: '**join_tolerance** (*float*) – Any two lines will be **joined** to one if the
    end and the start points differ by no more than this value (in points). Default
    is 3\. Instead of this value, separate values can be specified for the dimensions
    using `join_x_tolerance` and `join_y_tolerance`.'
  id: totrans-2270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**join_tolerance** (*float*) – Any two lines will be **joined** to one if the
    end and the start points differ by no more than this value (in points). Default
    is 3\. Instead of this value, separate values can be specified for the dimensions
    using `join_x_tolerance` and `join_y_tolerance`.'
- en: '**edge_min_length** (*float*) – Ignore a line if its length does not exceed
    this value (points). Default is 3.'
  id: totrans-2271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**edge_min_length** (*float*) – Ignore a line if its length does not exceed
    this value (points). Default is 3.'
- en: '**intersection_tolerance** (*float*) – When combining lines into cell borders,
    orthogonal lines must be within this value (points) to be considered intersecting.
    Default is 3\. Instead of this value, separate values can be specified for the
    dimensions using `intersection_x_tolerance` and `intersection_y_tolerance`.'
  id: totrans-2272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**intersection_tolerance** (*float*) – When combining lines into cell borders,
    orthogonal lines must be within this value (points) to be considered intersecting.
    Default is 3\. Instead of this value, separate values can be specified for the
    dimensions using `intersection_x_tolerance` and `intersection_y_tolerance`.'
- en: '**text_tolerance** (*float*) – Characters will be combined into words only
    if their distance is no larger than this value (points). Default is 3\. Instead
    of this value, separate values can be specified for the dimensions using `text_x_tolerance`
    and `text_y_tolerance`.'
  id: totrans-2273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_tolerance** (*float*) – Characters will be combined into words only
    if their distance is no larger than this value (points). Default is 3\. Instead
    of this value, separate values can be specified for the dimensions using `text_x_tolerance`
    and `text_y_tolerance`.'
- en: '**add_lines** (*tuple**,**list*) – Specify a list of “lines” (i.e. pairs of
    [`point_like`](glossary.html#point_like "point_like") objects) as **additional**,
    “virtual” vector graphics. These lines may help with table and / or cell detection
    and will not otherwise influence the detection strategy. Especially, in contrast
    to parameters `horizontal_lines` and `vertical_lines`, they will not prevent detecting
    rows or columns in other ways. These lines will be treated exactly like “real”
    vector graphics in terms of joining, snapping, intersectiing, minimum length and
    containment in the `clip` rectangle. Similarly, lines not parallel to any of the
    coordinate axes will be ignored.'
  id: totrans-2274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**add_lines** (*tuple**,**list*) – 指定“附加”、“虚拟”矢量图的列表（即一对 [`point_like`](glossary.html#point_like
    "point_like") 对象）。这些线条可以帮助表格和/或单元格的检测，不会影响检测策略的其他方面。特别是，与 `horizontal_lines` 和
    `vertical_lines` 参数相比，它们不会通过其他方式防止检测行或列。这些线条在连接、捕捉、相交、最小长度和包含性方面会像“真实”矢量图一样对待，与
    `clip` 矩形相同。同样，不平行于任何坐标轴的线条将被忽略。'
- en: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
  id: totrans-2275
  prefs: []
  type: TYPE_IMG
  zh: '![_images/img-findtables.jpg](../Images/c8a53fc0f951d1ad4f6697aea6f40859.png)'
- en: 'Returns:'
  id: totrans-2276
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a `TableFinder` object that has the following significant attributes:'
  id: totrans-2277
  prefs: []
  type: TYPE_NORMAL
  zh: '`TableFinder` 对象具有以下重要属性：'
- en: '`cells`: a list of **all bboxes** on the page, that have been identified as
    table cells (across all tables). Each cell is a [`rect_like`](glossary.html#rect_like
    "rect_like") tuple `(x0, y0, x1, y1)` of coordinates or `None`.'
  id: totrans-2278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 页面上被识别为表格单元的所有边界框的列表。每个单元格都是一个 [`rect_like`](glossary.html#rect_like
    "rect_like") 元组 `(x0, y0, x1, y1)` 或 `None`。'
- en: '`tables`: a list of `Table` objects. This is `[]` if the page has no tables.
    Single tables can be found as items of this list. But the `TableFinder` object
    itself is also a sequence of its tables. This means that if `tabs` is a `TableFinder`
    object, then table “n” is delivered by `tabs.tables[n]` as well as by the shorter
    `tabs[n]`.'
  id: totrans-2279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tables`: `Table` 对象的列表。如果页面没有表格，则为 `[]`。单个表格可以作为该列表的项找到。但是 `TableFinder` 对象本身也是其表格序列的一部分。这意味着如果
    `tabs` 是一个 `TableFinder` 对象，则表格 “n” 也可以通过 `tabs.tables[n]` 和较短的 `tabs[n]` 交付。'
- en: 'The `Table` object has the following attributes:'
  id: totrans-2280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table` 对象具有以下属性：'
- en: '[`bbox`](font.html#Font.bbox "Font.bbox"): the bounding box of the table as
    a tuple `(x0, y0, x1, y1)`.'
  id: totrans-2281
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bbox`](font.html#Font.bbox "Font.bbox"): 表格的边界框，表示为元组 `(x0, y0, x1, y1)`。'
- en: '`cells`: bounding boxes of the table’s cells (list of tuples). A cell may also
    be `None`.'
  id: totrans-2282
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 表格单元的边界框（元组列表）。单元格也可能为 `None`。'
- en: '`extract()`: this method returns the text content of each table cell as a list
    of list of strings.'
  id: totrans-2283
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`extract()`: 此方法将每个表格单元的文本内容作为字符串的列表列表返回。'
- en: '`to_markdown()`: this method returns the table as a **string in markdown format**
    (compatible to Github). Supporting viewers can render the string as a table. This
    output is optimized for **small token** sizes, which is especially beneficial
    for LLM/RAG feeds. Pandas DataFrames (see method `to_pandas()` below) offer an
    equivalent markdown table output which however is better readable for the human
    eye.'
  id: totrans-2284
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_markdown()`: 此方法将表格作为 Markdown 格式的字符串返回（兼容 Github）。支持的查看器可以将字符串呈现为表格。此输出针对**小型令牌**大小进行了优化，这对于
    LLM/RAG feeds 特别有益。Pandas 的 DataFrame（参见下面的 `to_pandas()` 方法）提供了一个等效的 Markdown
    表格输出，但对于人眼更易读。'
- en: '`to_pandas()`: this method returns the table as a [pandas](https://pypi.org/project/pandas/)
    [DataFrame](https://pandas.pydata.org/docs/reference/frame.html). DataFrames are
    very versatile objects allowing a plethora of table manipulation methods and outputs
    to almost 20 well-known formats, among them Excel files, CSV, JSON, markdown-formatted
    tables and more. `DataFrame.to_markdown()` generates a Github-compatible markdown
    format optimized for human readability. This method however requires the package
    [tablutate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))
    to installed in addition to pandas itself.'
  id: totrans-2285
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pandas()`: 此方法将表格作为 [pandas](https://pypi.org/project/pandas/) 的 [DataFrame](https://pandas.pydata.org/docs/reference/frame.html)
    返回。DataFrame 是非常多才多艺的对象，允许大量的表格操作方法，并输出到几乎 20 种广为人知的格式，其中包括 Excel 文件、CSV、JSON、Markdown
    格式的表格等。`DataFrame.to_markdown()` 生成了一个适用于人类阅读的 Github 兼容的 Markdown 格式。然而，这种方法除了
    pandas 本身外，还需要安装 [tablutate]([https://pypi.org/project/tabulate/](https://pypi.org/project/tabulate/))
    包。'
- en: '`header`: a `TableHeader` object containing header information of the table.'
  id: totrans-2286
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`header`: 表头信息的 `TableHeader` 对象。'
- en: '`col_count`: an integer containing the number of table columns.'
  id: totrans-2287
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`col_count`: 包含表格列数的整数。'
- en: '`row_count`: an integer containing the number of table rows.'
  id: totrans-2288
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`row_count`: 包含表格行数的整数。'
- en: '`rows`: a list of `TableRow` objects containing two attributes, `bbox` is the
    boundary box of the row, and `cells` is a list of table cells contained in this
    row.'
  id: totrans-2289
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rows`: 包含两个属性的`TableRow`对象列表，`bbox`是行的边界框，`cells`是包含在此行中的表格单元格列表。'
- en: 'The `TableHeader` object has the following attributes:'
  id: totrans-2290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TableHeader`对象具有以下属性：'
- en: '`bbox`: the bounding box of the header.'
  id: totrans-2291
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`bbox`: 表头的边界框。'
- en: '`cells`: a list of bounding boxes containing the name of the respective column.'
  id: totrans-2292
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cells`: 包含相应列名称的边界框列表。'
- en: '`names`: a list of strings containing the text of each of the cell bboxes.
    They represent the column names – which are used when exporting the table to pandas
    DataFrames, markdown, etc.'
  id: totrans-2293
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`names`: 包含每个单元框文本的字符串列表。它们表示列名 - 在将表格导出到pandas数据框、markdown等时使用。'
- en: '`external`: a bool indicating whether the header bbox is outside the table
    body (`True`) or not. Table headers are never identified by the `TableFinder`
    logic. Therefore, if `external` is true, then the header cells are not part of
    any cell identified by `TableFinder`. If `external == False`, then the first table
    row is the header.'
  id: totrans-2294
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`external`: 布尔值，指示标题框是否在表格主体之外（`True`），或者不在外面（`False`）。表头从不由`TableFinder`逻辑识别。因此，如果`external`为真，则标题单元格不是由`TableFinder`识别的任何单元格的一部分。如果`external
    == False`，则第一行是表头。'
- en: Please have a look at these [Jupyter notebooks](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis),
    which cover standard situations like multiple tables on one page or joining table
    fragments across multiple pages.
  id: totrans-2295
  prefs: []
  type: TYPE_NORMAL
  zh: 请查看这些[Jupyter笔记本](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/table-analysis)，涵盖了如一页上多个表格或跨多页连接表格片段等标准情况。
- en: <details><summary>Show/hide history</summary></details> *   New in version 1.23.0
  id: totrans-2296
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   1.23.0版本中的新功能
- en: 'Changed in version 1.23.19: new argument `add_lines`.'
  id: totrans-2297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1.23.19版本中的更改：新参数`add_lines`。
- en: Important
  id: totrans-2298
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示：
- en: There is also the [pdf2docx extract tables method](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)
    which is capable of table extraction if you prefer.
  id: totrans-2299
  prefs: []
  type: TYPE_NORMAL
  zh: 也可以使用[pdf2docx提取表格方法](https://pdf2docx.readthedocs.io/en/latest/quickstart.table.html)，如果你更喜欢。
- en: '[PRE230]'
  id: totrans-2300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE230]'
- en: 'PDF only: Add a “rubber stamp” like annotation to e.g. indicate the document’s
    intended use (“DRAFT”, “CONFIDENTIAL”, etc.).'
  id: totrans-2301
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：例如，向其中添加一个“橡皮图章”注释，以指示文档的预期使用（“DRAFT”、“CONFIDENTIAL”等）。
- en: 'Parameters:'
  id: totrans-2302
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle where to place the annotation.'
  id: totrans-2303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*） - 注释放置的矩形。'
- en: '**stamp** (*int*) – id number of the stamp text. For available stamps see [Stamp
    Annotation Icons](vars.html#stampicons).'
  id: totrans-2304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stamp**（*int*） - 图章文本的ID号码。有关可用图章，请参阅[图章注释图标](vars.html#stampicons)。'
- en: Note
  id: totrans-2305
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：
- en: The stamp’s text and its border line will automatically be sized and be put
    horizontally and vertically centered in the given rectangle. [`Annot.rect`](annot.html#Annot.rect
    "Annot.rect") is automatically calculated to fit the given **width** and will
    usually be smaller than this parameter.
  id: totrans-2306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图章文本及其边框将自动调整大小，并水平垂直居中于给定的矩形内。[`Annot.rect`](annot.html#Annot.rect "Annot.rect")将自动计算以适应给定的**width**，通常比此参数小。
- en: The font chosen is “Times Bold” and the text will be upper case.
  id: totrans-2307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择的字体是“Times Bold”，文本将是大写。
- en: The appearance can be changed using [`Annot.set_opacity()`](annot.html#Annot.set_opacity
    "Annot.set_opacity") and by setting the “stroke” color (no “fill” color supported).
  id: totrans-2308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用[`Annot.set_opacity()`](annot.html#Annot.set_opacity "Annot.set_opacity")改变外观，并设置“stroke”颜色（不支持“fill”颜色）。
- en: 'This can be used to create watermark images: on a temporary PDF page create
    a stamp annotation with a low opacity value, make a pixmap from it with *alpha=True*
    (and potentially also rotate it), discard the temporary PDF page and use the pixmap
    with [`insert_image()`](#Page.insert_image "Page.insert_image") for your target
    PDF.'
  id: totrans-2309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这可用于创建水印图像：在临时PDF页面上创建一个具有低不透明度值的图章注释，从中创建一个具有*alpha=True*的位图（可能还要旋转它），丢弃临时PDF页面，并使用[`insert_image()`](#Page.insert_image
    "Page.insert_image")将该位图插入到目标PDF中。
- en: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
  id: totrans-2310
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-stampannot.jpg](../Images/6c3204b51ff4a8c2e2bc64f845471cab.png)](_images/img-stampannot.jpg)'
- en: '[PRE231]'
  id: totrans-2311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE231]'
- en: 'PDF only: Add a PDF Form field (“widget”) to a page. This also **turns the
    PDF into a Form PDF**. Because of the large amount of different options available
    for widgets, we have developed a new class [Widget](widget.html#widget), which
    contains the possible PDF field attributes. It must be used for both, form field
    creation and updates.'
  id: totrans-2312
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：向页面添加PDF表单字段（“小部件”）。这也**将PDF转换为表单PDF**。由于小部件有许多不同的选项可用，我们开发了一个新的类[Widget](widget.html#widget)，其中包含可能的PDF字段属性。它必须用于表单字段的创建和更新。
- en: 'Parameters:'
  id: totrans-2313
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**widget** ([Widget](widget.html#widget)) – a [Widget](widget.html#widget)
    object which must have been created upfront.'
  id: totrans-2314
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget**（[Widget](widget.html#widget)） - 必须预先创建的[Widget](widget.html#widget)对象。'
- en: 'Returns:'
  id: totrans-2315
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a widget annotation.
  id: totrans-2316
  prefs: []
  type: TYPE_NORMAL
  zh: 小部件注释。
- en: '[PRE232]'
  id: totrans-2317
  prefs: []
  type: TYPE_PRE
  zh: '[PRE232]'
- en: The removal will now include any bound ‘Popup’ or response annotations and related
    objects (changed in v1.16.6).
  id: totrans-2318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在删除将包括任何绑定的“弹出”或响应注释及相关对象（在v1.16.6中更改）。
- en: 'PDF only: Delete annotation from the page and return the next one.'
  id: totrans-2319
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：从页面中删除注释并返回下一个注释。
- en: 'Parameters:'
  id: totrans-2320
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**annot** ([Annot](annot.html#annot)) – the annotation to be deleted.'
  id: totrans-2321
  prefs: []
  type: TYPE_NORMAL
  zh: '**annot**（[注释](annot.html#annot)） - 要删除的注释。'
- en: 'Return type:'
  id: totrans-2322
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-2323
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-2324
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the annotation following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-2325
  prefs: []
  type: TYPE_NORMAL
  zh: 删除后的注释。请记住，物理删除需要保存到一个带有垃圾 > 0 的新文件。
- en: '[PRE233]'
  id: totrans-2326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE233]'
- en: 'PDF only: Delete field from the page and return the next one.'
  id: totrans-2327
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：从页面中删除字段并返回下一个字段。
- en: 'Parameters:'
  id: totrans-2328
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**widget** ([Widget](widget.html#widget)) – the widget to be deleted.'
  id: totrans-2329
  prefs: []
  type: TYPE_NORMAL
  zh: '**widget**（[Widget](widget.html#widget)） - 要删除的小部件。'
- en: 'Return type:'
  id: totrans-2330
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-2331
  prefs: []
  type: TYPE_NORMAL
  zh: '[Widget](widget.html#widget)'
- en: 'Returns:'
  id: totrans-2332
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the widget following the deleted one. Please remember that physical removal
    requires saving to a new file with garbage > 0.
  id: totrans-2333
  prefs: []
  type: TYPE_NORMAL
  zh: 删除后的小部件。请记住，物理删除需要保存到一个带有垃圾 > 0 的新文件。
- en: <details><summary>Show/hide history</summary></details> (New in v1.18.4)
  id: totrans-2334
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details>（在v1.18.4中新增）
- en: '[PRE234]'
  id: totrans-2335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE234]'
- en: 'PDF only: Delete the specified link from the page. The parameter must be an
    **original item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be deleted.'
  id: totrans-2336
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：从页面中删除指定的链接。参数必须是[`get_links()`](#Page.get_links "Page.get_links")的**原始项目**，请参见[获取链接项的描述](#link-dict-description)。原因是字典的*“xref”*键，用于标识要删除的PDF对象。
- en: 'Parameters:'
  id: totrans-2337
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be deleted.'
  id: totrans-2338
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict**（*dict*） - 要删除的链接。'
- en: '[PRE235]'
  id: totrans-2339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE235]'
- en: 'PDF only: Insert a new link on this page. The parameter must be a dictionary
    of format as provided by [`get_links()`](#Page.get_links "Page.get_links"), see
    [Description of get_links() Entries](#link-dict-description).'
  id: totrans-2340
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：在此页面上插入新链接。参数必须是由[`get_links()`](#Page.get_links "Page.get_links")提供的格式的字典，参见[获取链接项的描述](#link-dict-description)。
- en: 'Parameters:'
  id: totrans-2341
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be inserted.'
  id: totrans-2342
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict**（*dict*） - 要插入的链接。'
- en: '[PRE236]'
  id: totrans-2343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE236]'
- en: 'PDF only: Modify the specified link. The parameter must be a (modified) **original
    item** of [`get_links()`](#Page.get_links "Page.get_links"), see [Description
    of get_links() Entries](#link-dict-description). The reason for this is the dictionary’s
    *“xref”* key, which identifies the PDF object to be changed.'
  id: totrans-2344
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：修改指定的链接。参数必须是[`get_links()`](#Page.get_links "Page.get_links")的（修改后的）**原始项目**，请参见[获取链接项的描述](#link-dict-description)。原因是字典的*“xref”*键，用于标识要更改的PDF对象。
- en: 'Parameters:'
  id: totrans-2345
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**linkdict** (*dict*) – the link to be modified.'
  id: totrans-2346
  prefs: []
  type: TYPE_NORMAL
  zh: '**linkdict**（*dict*） - 要修改的链接。'
- en: Warning
  id: totrans-2347
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'If updating / inserting a URI link (`"kind": LINK_URI`), please make sure to
    start the value for the `"uri"` key with a disambiguating string like `"http://"`,
    `"https://"`, `"file://"`, `"ftp://"`, `"mailto:"`, etc. Otherwise – depending
    on your browser or other “consumer” software – unexpected default assumptions
    may lead to unwanted behaviours.'
  id: totrans-2348
  prefs: []
  type: TYPE_NORMAL
  zh: '如果更新/插入URI链接（`"kind": LINK_URI`），请确保以消除歧义的字符串（如`"http://"`, `"https://"`, `"file://"`,
    `"ftp://"`, `"mailto:"`等）开头值为`"uri"`键。否则，根据您的浏览器或其他“消费者”软件的不同假设可能导致意外的默认行为。'
- en: '[PRE237]'
  id: totrans-2349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE237]'
- en: 'PDF only: Return the label for the page.'
  id: totrans-2350
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：返回页面的标签。
- en: 'Return type:'
  id: totrans-2351
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: str
  id: totrans-2352
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: 'Returns:'
  id: totrans-2353
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the label string like “vii” for Roman numbering or “” if not defined.
  id: totrans-2354
  prefs: []
  type: TYPE_NORMAL
  zh: 如罗马编号中的“vii”或未定义时的“”标签字符串。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.6
  id: totrans-2355
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在v1.18.6中新增
- en: '[PRE238]'
  id: totrans-2356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE238]'
- en: Retrieves **all** links of a page.
  id: totrans-2357
  prefs: []
  type: TYPE_NORMAL
  zh: 检索页面上的**所有**链接。
- en: 'Return type:'
  id: totrans-2358
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2359
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-2360
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. For a description of the dictionary entries, see [Description
    of get_links() Entries](#link-dict-description). Always use this or the [`Page.links()`](#Page.links
    "Page.links") method if you intend to make changes to the links of a page.
  id: totrans-2361
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。有关字典条目的描述，请参阅 [get_links() 条目描述](#link-dict-description)。如果打算修改页面的链接，请始终使用此方法或
    [`Page.links()`](#Page.links "Page.links") 方法。
- en: '[PRE239]'
  id: totrans-2362
  prefs: []
  type: TYPE_PRE
  zh: '[PRE239]'
- en: Return a generator over the page’s links. The results equal the entries of [`Page.get_links()`](#Page.get_links
    "Page.get_links").
  id: totrans-2363
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面的链接的生成器。结果等同于 [`Page.get_links()`](#Page.get_links "Page.get_links") 的条目。
- en: 'Parameters:'
  id: totrans-2364
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**kinds** (*sequence*) – a sequence of integers to down-select to one or more
    link kinds. Default is all links. Example: *kinds=(pymupdf.LINK_GOTO,)* will only
    return internal links.'
  id: totrans-2365
  prefs: []
  type: TYPE_NORMAL
  zh: '**kinds** (*sequence*) – 整数序列，用于选择一个或多个链接种类。默认为所有链接。例如：*kinds=(pymupdf.LINK_GOTO,)*
    将仅返回内部链接。'
- en: 'Return type:'
  id: totrans-2366
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-2367
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-2368
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an entry of [`Page.get_links()`](#Page.get_links "Page.get_links") for each
    iteration.
  id: totrans-2369
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的 [`Page.get_links()`](#Page.get_links "Page.get_links") 条目。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-2370
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE240]'
  id: totrans-2371
  prefs: []
  type: TYPE_PRE
  zh: '[PRE240]'
- en: Return a generator over the page’s annotations.
  id: totrans-2372
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面注释的生成器。
- en: 'Parameters:'
  id: totrans-2373
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    annotation types. Default is all annotations. Example: `types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)` will only return ‘FreeText’ and ‘Text’ annotations.'
  id: totrans-2374
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 整数序列，用于选择一个或多个注释类型。默认为所有注释。例如：`types=(pymupdf.PDF_ANNOT_FREETEXT,
    pymupdf.PDF_ANNOT_TEXT)` 将仅返回‘FreeText’和‘Text’注释。'
- en: 'Return type:'
  id: totrans-2375
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-2376
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-2377
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: an [Annot](annot.html#annot) for each iteration.
  id: totrans-2378
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的 [Annot](annot.html#annot)。
- en: Caution
  id: totrans-2379
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'You **cannot safely update annotations** from within this generator. This is
    because most annotation updates require reloading the page via `page = doc.reload_page(page)`.
    To circumvent this restriction, make a list of annotations xref numbers first
    and then iterate over these numbers:'
  id: totrans-2380
  prefs: []
  type: TYPE_NORMAL
  zh: 无法在此生成器内安全更新注释。这是因为大多数注释更新需要通过 `page = doc.reload_page(page)` 重新加载页面。要避开此限制，首先创建注释
    xref 号的列表，然后迭代这些数字：
- en: '[PRE241]'
  id: totrans-2381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE241]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-2382
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE242]'
  id: totrans-2383
  prefs: []
  type: TYPE_PRE
  zh: '[PRE242]'
- en: Return a generator over the page’s form fields.
  id: totrans-2384
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面的表单字段的生成器。
- en: 'Parameters:'
  id: totrans-2385
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**types** (*sequence*) – a sequence of integers to down-select to one or more
    widget types. Default is all form fields. Example: `types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    will only return ‘Text’ fields.'
  id: totrans-2386
  prefs: []
  type: TYPE_NORMAL
  zh: '**types** (*sequence*) – 整数序列，用于选择一个或多个小部件类型。默认为所有表单字段。例如：`types=(pymupdf.PDF_WIDGET_TYPE_TEXT,)`
    将仅返回‘Text’字段。'
- en: 'Return type:'
  id: totrans-2387
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: generator
  id: totrans-2388
  prefs: []
  type: TYPE_NORMAL
  zh: 生成器
- en: 'Returns:'
  id: totrans-2389
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a [Widget](widget.html#widget) for each iteration.
  id: totrans-2390
  prefs: []
  type: TYPE_NORMAL
  zh: 每次迭代的 [Widget](widget.html#widget)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.4
  id: totrans-2391
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.4
- en: '[PRE243]'
  id: totrans-2392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE243]'
- en: 'PDF only: Write the text of one or more [TextWriter](textwriter.html#textwriter)
    objects to the page.'
  id: totrans-2393
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限于 PDF：将一个或多个 [TextWriter](textwriter.html#textwriter) 对象的文本写入页面。
- en: 'Parameters:'
  id: totrans-2394
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to place the text. If omitted, the rectangle
    union of the text writers is used.'
  id: totrans-2395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 放置文本的位置。如果省略，将使用文本编写器的矩形联合。'
- en: '**writers** (*sequence*) – a non-empty tuple / list of [TextWriter](textwriter.html#textwriter)
    objects or a single [TextWriter](textwriter.html#textwriter).'
  id: totrans-2396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**writers** (*sequence*) – 非空元组/列表，包含一个或多个 [TextWriter](textwriter.html#textwriter)
    对象或单个 [TextWriter](textwriter.html#textwriter)。'
- en: '**opacity** (*float*) – set transparency, overwrites resp. value in the text
    writers.'
  id: totrans-2397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity** (*float*) – 设置透明度，覆盖文本编写器中的相应值。'
- en: '**color** (*sequ*) – set the text color, overwrites resp. value in the text
    writers.'
  id: totrans-2398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**color** (*sequ*) – 设置文本颜色，覆盖文本编写器中的相应值。'
- en: '**overlay** (*bool*) – put the text in foreground or background.'
  id: totrans-2399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将文本置于前景或背景。'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio.'
  id: totrans-2400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持宽高比。'
- en: '**rotate** (*float*) – rotate the text by an arbitrary angle.'
  id: totrans-2401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 将文本按任意角度旋转。'
- en: '**oc** (*int*) – the [`xref`](glossary.html#xref "xref") of an [`OCG`](glossary.html#OCG
    "OCG") or [`OCMD`](glossary.html#OCMD "OCMD"). (New in v1.18.4)'
  id: totrans-2402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – [`OCG`](glossary.html#OCG "OCG") 或 [`OCMD`](glossary.html#OCMD
    "OCMD") 的 [`xref`](glossary.html#xref "xref")。 (新增于 v1.18.4)'
- en: Note
  id: totrans-2403
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Parameters *overlay, keep_proportion, rotate* and *oc* have the same meaning
    as in [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page").
  id: totrans-2404
  prefs: []
  type: TYPE_NORMAL
  zh: 参数 *overlay, keep_proportion, rotate* 和 *oc* 与 [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page") 中的含义相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.18
  id: totrans-2405
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新于 v1.16.18
- en: '[PRE244]'
  id: totrans-2406
  prefs: []
  type: TYPE_PRE
  zh: '[PRE244]'
- en: 'PDF only: Insert text starting at [`point_like`](glossary.html#point_like "point_like")
    *point*. See [`Shape.insert_text()`](shape.html#Shape.insert_text "Shape.insert_text").'
  id: totrans-2407
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 [`point_like`](glossary.html#point_like "point_like") *point* 处开始插入文本。参见
    [`Shape.insert_text()`](shape.html#Shape.insert_text "Shape.insert_text")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2408
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新于 v1.16.18
- en: '[PRE245]'
  id: totrans-2409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE245]'
- en: 'PDF only: Insert text into the specified [`rect_like`](glossary.html#rect_like
    "rect_like") *rect*. See [`Shape.insert_textbox()`](shape.html#Shape.insert_textbox
    "Shape.insert_textbox").'
  id: totrans-2410
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：将文本插入到指定的 [`rect_like`](glossary.html#rect_like "rect_like") *rect* 中。参见
    [`Shape.insert_textbox()`](shape.html#Shape.insert_textbox "Shape.insert_textbox")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2411
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新于 v1.16.18
- en: '[PRE246]'
  id: totrans-2412
  prefs: []
  type: TYPE_PRE
  zh: '[PRE246]'
- en: '**PDF only:** Insert text into the specified rectangle. The method has similarities
    with methods [`Page.insert_textbox()`](#Page.insert_textbox "Page.insert_textbox")
    and [`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox "TextWriter.fill_textbox"),
    but is **much more powerful**. This is achieved by letting a [Story](story-class.html#story)
    object do all the required processing.'
  id: totrans-2413
  prefs: []
  type: TYPE_NORMAL
  zh: '**仅限 PDF：**将文本插入到指定的矩形中。该方法与 [`Page.insert_textbox()`](#Page.insert_textbox
    "Page.insert_textbox") 和 [`TextWriter.fill_textbox()`](textwriter.html#TextWriter.fill_textbox
    "TextWriter.fill_textbox") 方法类似，但**功能更强大**。这是通过让 [Story](story-class.html#story)
    对象执行所有所需处理来实现的。'
- en: Parameter [`text`](xml-class.html#Xml.text "Xml.text") may be a string as in
    the other methods. But it will be **interpreted as HTML source** and may therefore
    also contain HTML language elements – including styling. The `css` parameter may
    be used to pass in additional styling instructions.
  id: totrans-2414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参数 [`text`](xml-class.html#Xml.text "Xml.text") 可能是其他方法中的字符串。但它将被**解释为 HTML
    源码**，因此也可能包含 HTML 语言元素 - 包括样式。`css` 参数可用于传递额外的样式指令。
- en: Automatic line breaks are generated at word boundaries. The “soft hyphen” character
    `"&#173;"` (or `&shy;`) can be used to cause hyphenation and thus may also cause
    line breaks. **Forced** line breaks however are only achievable via the HTML tag
    `<br>` - `"\n"` is ignored and will be treated like a space.
  id: totrans-2415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动在单词边界处生成换行符。软连字符 `"&#173;"`（或 `&shy;`）可用于引起连字符，并因此也可能引起换行。**强制**换行仅可通过 HTML
    标签 `<br>` 实现 - `"\n"` 将被忽略，并将被视为空格。
- en: 'With this method the following can be achieved:'
  id: totrans-2416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过这种方法可以实现以下功能：
- en: Styling effects like bold, italic, text color, text alignment, font size or
    font switching.
  id: totrans-2417
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 像粗体、斜体、文本颜色、文本对齐、字体大小或字体切换等样式效果。
- en: The text may include arbitrary languages – **including right-to-left** languages.
  id: totrans-2418
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文本可以包含任意语言 - 包括**从右到左**的语言。
- en: Scripts like [Devanagari](https://en.wikipedia.org/wiki/Devanagari) and several
    others in Asia have a highly complex system of ligatures, where two or more unicodes
    together yield one glyph. The Story uses the software package [HarfBuzz](https://harfbuzz.github.io/)
    , to deal with these things and produce correct output.
  id: totrans-2419
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如[梵文](https://en.wikipedia.org/wiki/Devanagari)和亚洲的其他一些语言拥有高度复杂的连字系统，两个或更多个
    Unicode 字符联合形成一个字形。Story 使用软件包 [HarfBuzz](https://harfbuzz.github.io/) 处理这些情况，并产生正确的输出。
- en: One can also **include images** via HTML tag `<img>` – the Story will take care
    of the appropriate layout. This is an alternative option to insert images, compared
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image").
  id: totrans-2420
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 也可以通过 HTML 标签 `<img>` **包含图像** - Story 将处理适当的布局。这是与 [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image") 相比插入图像的另一选择。
- en: HTML tables (tag `<table>`) may be included in the text and will be handled
    appropriately.
  id: totrans-2421
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML 表格（标签 `<table>`）可以包含在文本中，并将得到适当处理。
- en: Links are automatically generated when present.
  id: totrans-2422
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存在链接时会自动生成链接。
- en: 'If content does not fit in the rectangle, the developer has two choices:'
  id: totrans-2423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果内容不适合于矩形，则开发者有两种选择：
- en: '**either** only be informed about this (and accept a no-op, just like with
    the other textbox insertion methods),'
  id: totrans-2424
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**either** 只需收到相关通知（并接受无操作，就像其他文本框插入方法一样），'
- en: '**or** (`scale_low=0` - the default) scale down the content until it fits.'
  id: totrans-2425
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**或**（`scale_low=0` - 默认值）缩小内容直至适合。'
- en: 'Parameters:'
  id: totrans-2426
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – rectangle on page to receive the text.'
  id: totrans-2427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect**（*rect_like*）– 页面上接收文本的矩形区域。'
- en: '**text** (*str**,*[*Story*](story-class.html#Story "Story")) – the text to
    be written. Can contain a mixture of plain text and HTML tags with styling instructions.
    Alternatively, a [Story](story-class.html#story) object may be specified (in which
    case the internal Story generation step will be omitted). A Story must have been
    generated with all required styling and Archive information.'
  id: totrans-2428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text**（*str**,*[*Story*](story-class.html#Story "Story")）– 要写入的文本。可以包含纯文本和带有样式指令的HTML标记的混合体。或者，可以指定一个[Story](story-class.html#story)对象（在这种情况下，将省略内部
    Story 生成步骤）。必须已生成具有所有必需的样式和存档信息的 Story。'
- en: '**css** (*str*) – optional string containing additional CSS instructions. This
    parameter is ignored if [`text`](xml-class.html#Xml.text "Xml.text") is a Story.'
  id: totrans-2429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**css**（*str*）– 包含额外CSS指令的可选字符串。如果[`text`](xml-class.html#Xml.text "Xml.text")是一个
    Story，则此参数将被忽略。'
- en: '**scale_low** (*float*) – if necessary, scale down the content until it fits
    in the target rectangle. This sets the down scaling limit. Default is 0, no limit.
    A value of 1 means no down-scaling permitted. A value of e.g. 0.2 means maximum
    down-scaling by 80%.'
  id: totrans-2430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**scale_low**（*float*）– 如果需要，将内容缩小，直到适合目标矩形为止。这设置了缩小的下限。默认为 0，即无限制。值为 1 表示不允许缩小。例如，值为
    0.2 表示最大缩小 80%。'
- en: '**archive** ([*Archive*](archive-class.html#Archive "Archive")) – an Archive
    object that points to locations where to find images or non-standard fonts. If
    [`text`](xml-class.html#Xml.text "Xml.text") refers to images or non-standard
    fonts, this parameter is required. This parameter is ignored if [`text`](xml-class.html#Xml.text
    "Xml.text") is a Story.'
  id: totrans-2431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**archive**（[*Archive*](archive-class.html#Archive "Archive")）– 指向图片或非标准字体位置的
    Archive 对象。如果[`text`](xml-class.html#Xml.text "Xml.text")引用图片或非标准字体，则需要此参数。如果[`text`](xml-class.html#Xml.text
    "Xml.text")是一个 Story，则此参数将被忽略。'
- en: '**rotate** (*int*) –'
  id: totrans-2432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate**（*int*）–'
- en: 'one of the values 0, 90, 180, 270\. Depending on this, text will be filled:'
  id: totrans-2433
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 取值之一：0, 90, 180, 270。根据此值，文本将被填充：
- en: '0: top-left to bottom-right.'
  id: totrans-2434
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 0：从左上到右下。
- en: '90: bottom-left to top-right.'
  id: totrans-2435
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 90：从左下到右上。
- en: '180: bottom-right to top-left.'
  id: totrans-2436
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 180：从右下到左上。
- en: '270: top-right to bottom-left.'
  id: totrans-2437
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 270：从右上到左下。
- en: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
  id: totrans-2438
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-rotate.png](../Images/50131384349202b34e4bddbe97be8b9e.png)'
- en: '**oc** (*int*) – the xref of an [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD") or 0\. Please refer to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")
    for details.'
  id: totrans-2439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc**（*int*）– [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD
    "OCMD") 的交叉引用或 0。请参阅[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")获取详细信息。'
- en: '**opacity** (*float*) – set the fill and stroke opacity of the content. Only
    values `0 <= opacity < 1` are considered.'
  id: totrans-2440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opacity**（*float*）– 设置内容的填充和描边不透明度。仅考虑 `0 <= opacity < 1` 的值。'
- en: '**overlay** (*bool*) – put the text in front of other content. Please refer
    to [`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page") for details.'
  id: totrans-2441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay**（*bool*）– 将文本置于其他内容前面。请参阅[`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page")获取详细信息。'
- en: 'Returns:'
  id: totrans-2442
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A tuple of floats `(spare_height, scale)`.
  id: totrans-2443
  prefs: []
  type: TYPE_NORMAL
  zh: 一组浮点数元组（`spare_height, scale`）。
- en: '`spare_height`: -1 if content did not fit, else >= 0\. It is the height of
    the unused (still available) rectangle stripe. Positive only if scale = 1 (no
    down-scaling happened).'
  id: totrans-2444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spare_height`：-1 表示内容未适合，否则 >= 0。这是未使用（仍可用）矩形条的高度。仅当 scale = 1 时为正。'
- en: '`scale`: down-scaling factor, 0 < scale <= 1.'
  id: totrans-2445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scale`：缩放因子，0 < scale <= 1。'
- en: 'Please refer to examples in this section of the recipes: [How to Fill a Box
    with HTML Text](recipes-text.html#recipestext-i-c).'
  id: totrans-2446
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅本节配方示例：[如何用HTML文本填充框](recipes-text.html#recipestext-i-c)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.23.8;
    rebased-only.
  id: totrans-2447
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.23.8；仅重新基于。
- en: 'New in v1.23.9: [`opacity`](annot.html#Annot.opacity "Annot.opacity") parameter.'
  id: totrans-2448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增于 v1.23.9：[`opacity`](annot.html#Annot.opacity "Annot.opacity") 参数。
- en: '**Drawing Methods**'
  id: totrans-2449
  prefs: []
  type: TYPE_NORMAL
  zh: '**绘图方法**'
- en: '[PRE247]'
  id: totrans-2450
  prefs: []
  type: TYPE_PRE
  zh: '[PRE247]'
- en: 'PDF only: Draw a line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_line()`](shape.html#Shape.draw_line "Shape.draw_line").'
  id: totrans-2451
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限PDF：从 *p1* 到 *p2* 绘制一条线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见[`Shape.draw_line()`](shape.html#Shape.draw_line "Shape.draw_line")。
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2452
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   于 v1.18.4 中更改
- en: '[PRE248]'
  id: totrans-2453
  prefs: []
  type: TYPE_PRE
  zh: '[PRE248]'
- en: 'PDF only: Draw a zigzag line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag "Shape.draw_zigzag").'
  id: totrans-2454
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p2* 绘制一条锯齿线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见 [`Shape.draw_zigzag()`](shape.html#Shape.draw_zigzag "Shape.draw_zigzag").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2455
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE249]'
  id: totrans-2456
  prefs: []
  type: TYPE_PRE
  zh: '[PRE249]'
- en: 'PDF only: Draw a squiggly (wavy, undulated) line from *p1* to *p2* ([`point_like`](glossary.html#point_like
    "point_like") s). See [`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle
    "Shape.draw_squiggle").'
  id: totrans-2457
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p2* 绘制一条波浪线（[`point_like`](glossary.html#point_like "point_like")
    s）。参见 [`Shape.draw_squiggle()`](shape.html#Shape.draw_squiggle "Shape.draw_squiggle").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2458
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE250]'
  id: totrans-2459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE250]'
- en: 'PDF only: Draw a circle around *center* ([`point_like`](glossary.html#point_like
    "point_like")) with a radius of *radius*. See [`Shape.draw_circle()`](shape.html#Shape.draw_circle
    "Shape.draw_circle").'
  id: totrans-2460
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制围绕 *center*（[`point_like`](glossary.html#point_like "point_like")）的圆，半径为
    *radius*。参见 [`Shape.draw_circle()`](shape.html#Shape.draw_circle "Shape.draw_circle").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2461
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE251]'
  id: totrans-2462
  prefs: []
  type: TYPE_PRE
  zh: '[PRE251]'
- en: 'PDF only: Draw an oval (ellipse) within the given [`rect_like`](glossary.html#rect_like
    "rect_like") or [`quad_like`](glossary.html#quad_like "quad_like"). See [`Shape.draw_oval()`](shape.html#Shape.draw_oval
    "Shape.draw_oval").'
  id: totrans-2463
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：在给定的 [`rect_like`](glossary.html#rect_like "rect_like") 或 [`quad_like`](glossary.html#quad_like
    "quad_like") 内绘制一个椭圆（椭圆）。参见 [`Shape.draw_oval()`](shape.html#Shape.draw_oval "Shape.draw_oval").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2464
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE252]'
  id: totrans-2465
  prefs: []
  type: TYPE_PRE
  zh: '[PRE252]'
- en: 'PDF only: Draw a circular sector, optionally connecting the arc to the circle’s
    center (like a piece of pie). See [`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector").'
  id: totrans-2466
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制一个圆形扇区，可选地连接弧到圆心（像一个饼图）。参见 [`Shape.draw_sector()`](shape.html#Shape.draw_sector
    "Shape.draw_sector").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2467
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE253]'
  id: totrans-2468
  prefs: []
  type: TYPE_PRE
  zh: '[PRE253]'
- en: 'PDF only: Draw several connected lines defined by a sequence of [`point_like`](glossary.html#point_like
    "point_like") s. See [`Shape.draw_polyline()`](shape.html#Shape.draw_polyline
    "Shape.draw_polyline").'
  id: totrans-2469
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制由一系列 [`point_like`](glossary.html#point_like "point_like") s 定义的连接线。参见
    [`Shape.draw_polyline()`](shape.html#Shape.draw_polyline "Shape.draw_polyline").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2470
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE254]'
  id: totrans-2471
  prefs: []
  type: TYPE_PRE
  zh: '[PRE254]'
- en: 'PDF only: Draw a cubic Bézier curve from *p1* to *p4* with the control points
    *p2* and *p3* (all are [`point_like`](glossary.html#point_like "point_like") s).
    See [`Shape.draw_bezier()`](shape.html#Shape.draw_bezier "Shape.draw_bezier").'
  id: totrans-2472
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：从 *p1* 到 *p4* 绘制一条三次贝塞尔曲线，控制点为 *p2* 和 *p3*（均为 [`point_like`](glossary.html#point_like
    "point_like") s）。参见 [`Shape.draw_bezier()`](shape.html#Shape.draw_bezier "Shape.draw_bezier").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2473
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE255]'
  id: totrans-2474
  prefs: []
  type: TYPE_PRE
  zh: '[PRE255]'
- en: 'PDF only: This is a special case of *draw_bezier()*. See [`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve").'
  id: totrans-2475
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：这是 *draw_bezier()* 的特例。参见 [`Shape.draw_curve()`](shape.html#Shape.draw_curve
    "Shape.draw_curve").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2476
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE256]'
  id: totrans-2477
  prefs: []
  type: TYPE_PRE
  zh: '[PRE256]'
- en: 'PDF only: Draw a rectangle. See [`Shape.draw_rect()`](shape.html#Shape.draw_rect
    "Shape.draw_rect").'
  id: totrans-2478
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制一个矩形。参见 [`Shape.draw_rect()`](shape.html#Shape.draw_rect "Shape.draw_rect").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2479
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: 'Changed in v1.22.0: Added parameter *radius*.'
  id: totrans-2480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.22.0 中更改：添加了参数 *radius*。
- en: '[PRE257]'
  id: totrans-2481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE257]'
- en: 'PDF only: Draw a quadrilateral. See [`Shape.draw_quad()`](shape.html#Shape.draw_quad
    "Shape.draw_quad").'
  id: totrans-2482
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限 PDF：绘制一个四边形。参见 [`Shape.draw_quad()`](shape.html#Shape.draw_quad "Shape.draw_quad").
- en: <details><summary>Show/hide history</summary></details> *   Changed in v1.18.4
  id: totrans-2483
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.4 中更改
- en: '[PRE258]'
  id: totrans-2484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE258]'
- en: 'PDF only: Add a new font to be used by text output methods and return its [`xref`](glossary.html#xref
    "xref"). If not already present in the file, the font definition will be added.
    Supported are the built-in [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    and the CJK fonts via **“reserved”** fontnames. Fonts can also be provided as
    a file path or a memory area containing the image of a font file.'
  id: totrans-2485
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：添加一个新的字体以供文本输出方法使用，并返回其[`xref`](glossary.html#xref "xref")。如果文件中尚未存在，则将添加字体定义。支持内置[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")和CJK字体通过**“保留”**字体名称。还可以提供字体作为文件路径或包含字体文件映像的内存区域。
- en: 'Parameters:'
  id: totrans-2486
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**fontname** (*str*) –'
  id: totrans-2487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字体名称** (*str*) –'
- en: The name by which this font shall be referenced when outputting text on this
    page. In general, you have a “free” choice here (but consult the [Adobe PDF References](app3.html#adobemanual),
    page 16, section 7.3.5 for a formal description of building legal PDF names).
    However, if it matches one of the [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts")
    or one of the CJK fonts, *fontfile* and *fontbuffer* **are ignored**.
  id: totrans-2488
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出文本时，此字体应被引用的名称。通常，您在这里有一个“自由”的选择（但请参阅[Adobe PDF参考](app3.html#adobemanual)，第16页，第7.3.5节，以获取构建合法PDF名称的正式描述）。但是，如果它与[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")或CJK字体之一匹配，*fontfile*和*fontbuffer*将**被忽略**。
- en: In other words, you cannot insert a font via *fontfile* / *fontbuffer* and also
    give it a reserved *fontname*.
  id: totrans-2489
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 换句话说，您不能通过*fontfile* / *fontbuffer*插入字体，同时给出一个保留的*fontname*。
- en: Note
  id: totrans-2490
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: 'A reserved fontname can be specified in any mixture of upper or lower case
    and still match the right built-in font definition: fontnames “helv”, “Helv”,
    “HELV”, “Helvetica”, etc. all lead to the same font definition “Helvetica”. But
    from a [Page](#page) perspective, these are **different references**. You can
    exploit this fact when using different *encoding* variants (Latin, Greek, Cyrillic)
    of the same font on a page.'
  id: totrans-2491
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以在任何大小写混合的保留字体名称中指定，并且仍然匹配正确的内置字体定义：例如字体名称“helv”，“Helv”，“HELV”，“Helvetica”等都会导致相同的字体定义“Helvetica”。但从[页面](#page)的角度来看，这些是**不同的引用**。在页面上使用同一字体的不同*编码*变体（拉丁文，希腊文，西里尔文），您可以利用这一点。
- en: '**fontfile** (*str*) – a path to a font file. If used, *fontname* must be **different
    from all reserved names**.'
  id: totrans-2492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontfile** (*str*) – 字体文件的路径。如果使用，*fontname*必须与所有保留名称**不同**。'
- en: '**fontbuffer** (*bytes/bytearray*) – the memory image of a font file. If used,
    *fontname* must be **different from all reserved names**. This parameter would
    typically be used with [`Font.buffer`](font.html#Font.buffer "Font.buffer") for
    fonts supported / available via [Font](font.html#font).'
  id: totrans-2493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontbuffer** (*bytes/bytearray*) – 字体文件的内存映像。如果使用，*fontname*必须与所有保留名称**不同**。此参数通常与[`Font.buffer`](font.html#Font.buffer
    "Font.buffer")一起使用，用于支持/可用于[Font](font.html#font)的字体。'
- en: '**set_simple** (*int*) – applicable for *fontfile* / *fontbuffer* cases only:
    enforce treatment as a “simple” font, i.e. one that only uses character codes
    up to 255.'
  id: totrans-2494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**set_simple** (*int*) – 仅适用于*fontfile* / *fontbuffer*的情况：强制作为“简单”字体处理，即只使用字符代码直到255。'
- en: '**encoding** (*int*) – applicable for the “Helvetica”, “Courier” and “Times”
    sets of [`Base14_Fonts`](vars.html#Base14_Fonts "Base14_Fonts") only. Select one
    of the available encodings Latin (0), Cyrillic (2) or Greek (1). Only use the
    default (0 = Latin) for “Symbol” and “ZapfDingBats”.'
  id: totrans-2495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**编码** (*int*) – 仅适用于“Helvetica”，“Courier”和“Times”系列的[`Base14_Fonts`](vars.html#Base14_Fonts
    "Base14_Fonts")。选择可用的编码之一：拉丁文（0），西里尔文（2）或希腊文（1）。对于“Symbol”和“ZapfDingBats”，仅使用默认值（0
    = 拉丁文）。'
- en: 'Rytpe:'
  id: totrans-2496
  prefs: []
  type: TYPE_NORMAL
  zh: Rytpe：
- en: int
  id: totrans-2497
  prefs: []
  type: TYPE_NORMAL
  zh: '**int**'
- en: 'Returns:'
  id: totrans-2498
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the [`xref`](glossary.html#xref "xref") of the installed font.
  id: totrans-2499
  prefs: []
  type: TYPE_NORMAL
  zh: 安装字体的[`xref`](glossary.html#xref "xref")。
- en: Note
  id: totrans-2500
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Built-in fonts will not lead to the inclusion of a font file. So the resulting
    PDF file will remain small. However, your PDF viewer software is responsible for
    generating an appropriate appearance – and there **exist** differences on whether
    or how each one of them does this. This is especially true for the CJK fonts.
    But also Symbol and ZapfDingbats are incorrectly handled in some cases. Following
    are the **Font Names** and their correspondingly installed **Base Font** names:'
  id: totrans-2501
  prefs: []
  type: TYPE_NORMAL
  zh: 内置字体不会导致字体文件的包含。因此生成的PDF文件大小保持较小。然而，您的PDF查看器软件负责生成适当的外观 - 对于CJK字体，存在差异，无论是否如何处理。但某些情况下，Symbol和ZapfDingbats处理不正确。以下是**字体名称**及其相应安装的**基本字体**名称：
- en: '**Base-14 Fonts** [[1]](#f1)'
  id: totrans-2502
  prefs: []
  type: TYPE_NORMAL
  zh: '**Base-14字体** [[1]](#f1)'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-2503
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装基本字体** | **注释** |'
- en: '| --- | --- | --- |'
  id: totrans-2504
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| helv | Helvetica | normal |'
  id: totrans-2505
  prefs: []
  type: TYPE_TB
  zh: '| helv | Helvetica | normal |'
- en: '| heit | Helvetica-Oblique | italic |'
  id: totrans-2506
  prefs: []
  type: TYPE_TB
  zh: '| heit | Helvetica-Oblique | 斜体 |'
- en: '| hebo | Helvetica-Bold | bold |'
  id: totrans-2507
  prefs: []
  type: TYPE_TB
  zh: '| hebo | Helvetica-Bold | 粗体 |'
- en: '| hebi | Helvetica-BoldOblique | bold-italic |'
  id: totrans-2508
  prefs: []
  type: TYPE_TB
  zh: '| hebi | Helvetica-BoldOblique | 粗斜体 |'
- en: '| cour | Courier | normal |'
  id: totrans-2509
  prefs: []
  type: TYPE_TB
  zh: '| cour | Courier | 普通 |'
- en: '| coit | Courier-Oblique | italic |'
  id: totrans-2510
  prefs: []
  type: TYPE_TB
  zh: '| coit | Courier-Oblique | 斜体 |'
- en: '| cobo | Courier-Bold | bold |'
  id: totrans-2511
  prefs: []
  type: TYPE_TB
  zh: '| cobo | Courier-Bold | 粗体 |'
- en: '| cobi | Courier-BoldOblique | bold-italic |'
  id: totrans-2512
  prefs: []
  type: TYPE_TB
  zh: '| cobi | Courier-BoldOblique | 粗斜体 |'
- en: '| tiro | Times-Roman | normal |'
  id: totrans-2513
  prefs: []
  type: TYPE_TB
  zh: '| tiro | Times-Roman | 普通 |'
- en: '| tiit | Times-Italic | italic |'
  id: totrans-2514
  prefs: []
  type: TYPE_TB
  zh: '| tiit | Times-Italic | 斜体 |'
- en: '| tibo | Times-Bold | bold |'
  id: totrans-2515
  prefs: []
  type: TYPE_TB
  zh: '| tibo | Times-Bold | 粗体 |'
- en: '| tibi | Times-BoldItalic | bold-italic |'
  id: totrans-2516
  prefs: []
  type: TYPE_TB
  zh: '| tibi | Times-BoldItalic | 粗斜体 |'
- en: '| symb | Symbol | [[3]](#f3) |'
  id: totrans-2517
  prefs: []
  type: TYPE_TB
  zh: '| symb | Symbol | [[3]](#f3) |'
- en: '| zadb | ZapfDingbats | [[3]](#f3) |'
  id: totrans-2518
  prefs: []
  type: TYPE_TB
  zh: '| zadb | ZapfDingbats | [[3]](#f3) |'
- en: '**CJK Fonts** [[2]](#f2) (China, Japan, Korea)'
  id: totrans-2519
  prefs: []
  type: TYPE_NORMAL
  zh: '**CJK字体** [[2]](#f2)（中国，日本，韩国）。'
- en: '| **Font Name** | **Installed Base Font** | **Comments** |'
  id: totrans-2520
  prefs: []
  type: TYPE_TB
  zh: '| **字体名称** | **已安装的基础字体** | **注释** |'
- en: '| --- | --- | --- |'
  id: totrans-2521
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| china-s | Heiti | simplified Chinese |'
  id: totrans-2522
  prefs: []
  type: TYPE_TB
  zh: '| china-s | Heiti | 简体中文 |'
- en: '| china-ss | Song | simplified Chinese (serif) |'
  id: totrans-2523
  prefs: []
  type: TYPE_TB
  zh: '| china-ss | Song | 简体中文（Serif） |'
- en: '| china-t | Fangti | traditional Chinese |'
  id: totrans-2524
  prefs: []
  type: TYPE_TB
  zh: '| china-t | Fangti | 繁体中文 |'
- en: '| china-ts | Ming | traditional Chinese (serif) |'
  id: totrans-2525
  prefs: []
  type: TYPE_TB
  zh: '| china-ts | Ming | 繁体中文（Serif） |'
- en: '| japan | Gothic | Japanese |'
  id: totrans-2526
  prefs: []
  type: TYPE_TB
  zh: '| japan | Gothic | 日文 |'
- en: '| japan-s | Mincho | Japanese (serif) |'
  id: totrans-2527
  prefs: []
  type: TYPE_TB
  zh: '| japan-s | Mincho | 日文（Serif） |'
- en: '| korea | Dotum | Korean |'
  id: totrans-2528
  prefs: []
  type: TYPE_TB
  zh: '| korea | Dotum | 韩文 |'
- en: '| korea-s | Batang | Korean (serif) |'
  id: totrans-2529
  prefs: []
  type: TYPE_TB
  zh: '| korea-s | Batang | 韩文（Serif） |'
- en: '[PRE259]'
  id: totrans-2530
  prefs: []
  type: TYPE_PRE
  zh: '[PRE259]'
- en: 'PDF only: Put an image inside the given rectangle. The image may already exist
    in the PDF or be taken from a pixmap, a file, or a memory area.'
  id: totrans-2531
  prefs: []
  type: TYPE_NORMAL
  zh: 仅PDF：将图像放入给定的矩形内。图像可以已经存在于PDF中，也可以从位图、文件或内存区域中获取。
- en: 'Parameters:'
  id: totrans-2532
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to put the image. Must be finite and not empty.'
  id: totrans-2533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 放置图像的位置。必须是有限且非空的。'
- en: '**alpha** (*int*) – deprecated and ignored.'
  id: totrans-2534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*int*) – 已弃用且被忽略。'
- en: '**filename** (*str*) – name of an image file (all formats supported by MuPDF
    – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-2535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** (*str*) – 图像文件的名称（所有MuPDF支持的格式，请参见[支持的输入图像格式](pixmap.html#imagefiles)）。'
- en: '**height** (*int*) –'
  id: totrans-2536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*int*) – 高度。'
- en: '**keep_proportion** (*bool*) – maintain the aspect ratio of the image.'
  id: totrans-2537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 保持图像的长宽比。'
- en: '**mask** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory – to be used
    as image mask (alpha values) for the base image. When specified, the base image
    must be provided as a filename or a stream – and must not be an image that already
    has a mask.'
  id: totrans-2538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mask** (*bytes**,**bytearray**,**io.BytesIO*) – 内存中的图像，用作基础图像的图像掩码（alpha值）。指定时，必须将基础图像提供为文件名或流，并且不能是已经有掩码的图像。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make image visibility
    dependent on this [`OCG`](glossary.html#OCG "OCG") or [`OCMD`](glossary.html#OCMD
    "OCMD"). Ignored after the first of multiple insertions. The property is stored
    with the generated PDF image object and therefore controls the image’s visibility
    throughout the PDF.'
  id: totrans-2539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – （[`xref`](glossary.html#xref "xref")）使图像的可见性依赖于此[`OCG`](glossary.html#OCG
    "OCG")或[`OCMD`](glossary.html#OCMD "OCMD")。在多次插入后忽略。此属性存储在生成的PDF图像对象中，因此控制整个PDF中图像的可见性。'
- en: '**overlay** – see [Common Parameters](shape.html#commonparms).'
  id: totrans-2540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** – 参见[通用参数](shape.html#commonparms)。'
- en: '**pixmap** ([Pixmap](pixmap.html#pixmap)) – a pixmap containing the image.'
  id: totrans-2541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap** ([位图](pixmap.html#pixmap)) – 包含图像的位图。'
- en: '**rotate** (*int*) – rotate the image. Must be an integer multiple of 90 degrees.
    Positive values rotate anti-clockwise. If you need a rotation by an arbitrary
    angle, consider converting the image to a PDF ([`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")) first and then use [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page") instead.'
  id: totrans-2542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*int*) – 旋转图像。必须是90度的整数倍。正值逆时针旋转。如果需要任意角度的旋转，请考虑将图像转换为PDF（[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")）然后使用[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")。'
- en: '**stream** (*bytes**,**bytearray**,**io.BytesIO*) – image in memory (all formats
    supported by MuPDF – see [Supported Input Image Formats](pixmap.html#imagefiles)).'
  id: totrans-2543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream** (*bytes**,**bytearray**,**io.BytesIO*) – 内存中的图像（所有MuPDF支持的格式，请参见[支持的输入图像格式](pixmap.html#imagefiles)）。'
- en: '**width** (*int*) –'
  id: totrans-2544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width** (*int*) – 宽度。'
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of an image already
    present in the PDF. If given, parameters `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream"), [`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha") and `mask` are ignored.
    The page will simply receive a reference to the existing image.'
  id: totrans-2545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref**（*int*） - PDF中已存在的图像的[`xref`](glossary.html#xref "xref")。如果提供，则参数`filename`、[Pixmap](pixmap.html)、[`stream`](glossary.html#stream
    "stream")、[`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha")和`mask`将被忽略。页面将简单地接收对现有图像的引用。'
- en: 'Returns:'
  id: totrans-2546
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The [`xref`](glossary.html#xref "xref") of the embedded image. This can be used
    as the [`xref`](glossary.html#xref "xref") argument for very significant performance
    boosts, if the image is inserted again.
  id: totrans-2547
  prefs: []
  type: TYPE_NORMAL
  zh: 嵌入图像的[`xref`](glossary.html#xref "xref")。如果再次插入图像，则可以将其用作非常显著的性能提升的[`xref`](glossary.html#xref
    "xref")参数。
- en: 'This example puts the same image on every page of a document:'
  id: totrans-2548
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例在文档的每一页上放置相同的图像：
- en: '[PRE260]'
  id: totrans-2549
  prefs: []
  type: TYPE_PRE
  zh: '[PRE260]'
- en: Note
  id: totrans-2550
  prefs: []
  type: TYPE_NORMAL
  zh: 注：
- en: The method detects multiple insertions of the same image (like in the above
    example) and will store its data only on the first execution. This is even true
    (although less performant), if using the default `xref=0`.
  id: totrans-2551
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法检测到相同图像的多次插入（如上例所示），并且仅在第一次执行时存储其数据。即使使用默认的`xref=0`，这也是正确的（尽管性能较差）。
- en: The method cannot detect if the same image had already been part of the file
    before opening it.
  id: totrans-2552
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该方法无法检测在打开文件之前是否已经将相同的图像作为文件的一部分。
- en: You can use this method to provide a background or foreground image for the
    page, like a copyright or a watermark. Please remember, that watermarks require
    a transparent image if put in foreground …
  id: totrans-2553
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用此方法为页面提供背景或前景图像，如版权或水印。请记住，如果放在前景中，水印需要一个透明的图像...
- en: The image may be inserted uncompressed, e.g. if a [Pixmap](pixmap.html#pixmap)
    is used or if the image has an alpha channel. Therefore, consider using `deflate=True`
    when saving the file. In addition, there are ways to control the image size –
    even if transparency comes into play. Have a look at [How to Add Images to a PDF
    Page](recipes-images.html#recipesimages-o).
  id: totrans-2554
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像可能会以未压缩的方式插入，例如如果使用了[Pixmap](pixmap.html#pixmap)或者图像具有alpha通道。因此，在保存文件时考虑使用`deflate=True`。此外，即使涉及透明度，也有控制图像大小的方法。查看[如何将图像添加到PDF页面](recipes-images.html#recipesimages-o)。
- en: The image is stored in the PDF at its original quality level. This may be much
    better than what you need for your display. Consider **decreasing the image size**
    before insertion – e.g. by using the pixmap option and then shrinking it or scaling
    it down (see [Pixmap](pixmap.html#pixmap) chapter). The PIL method `Image.thumbnail()`
    can also be used for that purpose. The file size savings can be very significant.
  id: totrans-2555
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像以其原始质量级别存储在PDF中。这可能比您的显示需要的要好得多。在插入之前请考虑**减小图像尺寸** - 例如通过使用pixmap选项然后缩小或缩放它（参见[Pixmap](pixmap.html#pixmap)章节）。也可以使用PIL方法`Image.thumbnail()`来实现这一目的。这样做可以节省很多文件大小。
- en: 'Another efficient way to display the same image on multiple pages is another
    method: [`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page"). Consult
    [`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf "Document.convert_to_pdf")
    for how to obtain intermediary PDFs usable for that method.'
  id: totrans-2556
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在多个页面上显示相同图像的另一种高效方法是使用另一种方法：[`show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")。查看[`Document.convert_to_pdf()`](document.html#Document.convert_to_pdf
    "Document.convert_to_pdf")以获取可用于该方法的中间PDF。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.14.1:
    By default, the image keeps its aspect ratio.'
  id: totrans-2557
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   变更于 v1.14.1：默认情况下，图像保持其宽高比。
- en: 'Changed in v1.14.11: Added args `keep_proportion`, `rotate`.'
  id: totrans-2558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.14.11：添加了参数`keep_proportion`、`rotate`。
- en: 'Changed in v1.14.13:'
  id: totrans-2559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.14.13：
- en: The image is now always placed **centered** in the rectangle, i.e. the centers
    of image and rectangle are equal.
  id: totrans-2560
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图片现在总是**居中**放置在矩形内，即图像和矩形的中心点相等。
- en: Added support for [`stream`](glossary.html#stream "stream") as `io.BytesIO`.
  id: totrans-2561
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了对`io.BytesIO`作为[`stream`](glossary.html#stream "stream")的支持。
- en: 'Changed in v1.17.6: Insertion rectangle no longer needs to have a non-empty
    intersection with the page’s [`Page.cropbox`](#Page.cropbox "Page.cropbox") [[5]](#f5).'
  id: totrans-2562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.17.6：插入矩形不再需要与页面的[`Page.cropbox`](#Page.cropbox "Page.cropbox")有非空交集
    [[5]](#f5)。
- en: 'Changed in v1.18.1: Added `mask` arg.'
  id: totrans-2563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.18.1：添加了`mask`参数。
- en: 'Changed in v1.18.3: Added `oc` arg.'
  id: totrans-2564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.18.3：添加了`oc`参数。
- en: 'Changed in v1.18.13:'
  id: totrans-2565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变更于 v1.18.13：
- en: Allow providing the image as the xref of an existing one.
  id: totrans-2566
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许提供图像作为现有图像的xref。
- en: Added [`xref`](glossary.html#xref "xref") arg.
  id: totrans-2567
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了[`xref`](glossary.html#xref "xref")参数。
- en: Return [`xref`](glossary.html#xref "xref") of stored image.
  id: totrans-2568
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回存储图像的 [`xref`](glossary.html#xref "xref")。
- en: 'Changed in v1.19.3: deprecate and ignore [`alpha`](pixmap.html#Pixmap.alpha
    "Pixmap.alpha") arg.'
  id: totrans-2569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改 v1.19.3 中：废弃并忽略 [`alpha`](pixmap.html#Pixmap.alpha "Pixmap.alpha") 参数。
- en: '[PRE261]'
  id: totrans-2570
  prefs: []
  type: TYPE_PRE
  zh: '[PRE261]'
- en: Replace the image at xref with another one.
  id: totrans-2571
  prefs: []
  type: TYPE_NORMAL
  zh: 用另一个图像替换 xref 处的图像。
- en: 'Parameters:'
  id: totrans-2572
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-2573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref** (*int*) – 图像的 [`xref`](glossary.html#xref "xref")。'
- en: '**filename** – the filename of the new image.'
  id: totrans-2574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** – 新图像的文件名。'
- en: '**pixmap** – the [Pixmap](pixmap.html#pixmap) of the new image.'
  id: totrans-2575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pixmap** – 新图像的 [Pixmap](pixmap.html#pixmap)。'
- en: '**stream** – the memory area containing the new image.'
  id: totrans-2576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**stream** – 包含新图像的内存区域。'
- en: Arguments `filename`, [Pixmap](pixmap.html), [`stream`](glossary.html#stream
    "stream") have the same meaning as in [`Page.insert_image()`](#Page.insert_image
    "Page.insert_image"), especially exactly one of these must be provided.
  id: totrans-2577
  prefs: []
  type: TYPE_NORMAL
  zh: 参数 `filename`、[Pixmap](pixmap.html)、[`stream`](glossary.html#stream "stream")
    的含义与 [`Page.insert_image()`](#Page.insert_image "Page.insert_image") 中的相同，特别是这些参数中必须提供一个且仅一个。
- en: This is a **global replacement:** the new image will also be shown wherever
    the old one has been displayed throughout the file.
  id: totrans-2578
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个 **全局替换**：新图像也将显示在文件中旧图像已显示的任何位置。
- en: This method mainly exists for technical purposes. Typical uses include replacing
    large images by smaller versions, like a lower resolution, graylevel instead of
    colored, etc., or changing transparency.
  id: totrans-2579
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法主要用于技术目的。典型用途包括用较小版本替换大图像，例如较低分辨率、灰度而不是彩色等，或更改透明度。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-2580
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.21.0 中的新功能
- en: '[PRE262]'
  id: totrans-2581
  prefs: []
  type: TYPE_PRE
  zh: '[PRE262]'
- en: 'Delete the image at xref. This is slightly misleading: actually the image is
    being replaced with a small transparent [Pixmap](pixmap.html#pixmap) using above
    [`Page.replace_image()`](#Page.replace_image "Page.replace_image"). The visible
    effect however is equivalent.'
  id: totrans-2582
  prefs: []
  type: TYPE_NORMAL
  zh: 删除 xref 处的图像。这稍有误导：实际上，使用上述 [`Page.replace_image()`](#Page.replace_image "Page.replace_image")
    将图像替换为一个小的透明 [Pixmap](pixmap.html#pixmap)。然而，可见效果是等效的。
- en: 'Parameters:'
  id: totrans-2583
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of the image.'
  id: totrans-2584
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref** (*int*) – 图像的 [`xref`](glossary.html#xref "xref")。'
- en: This is a **global replacement:** the image will disappear wherever the old
    one has been displayed throughout the file.
  id: totrans-2585
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个 **全局替换**：文件中所有旧图像的显示位置都将显示新图像。
- en: If you inspect / extract a page’s images by methods like [`Page.get_images()`](#Page.get_images
    "Page.get_images"), [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    or [`Page.get_text()`](#Page.get_text "Page.get_text"), the replacing “dummy”
    image will be detected like so `(45, 47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`
    and also seem to “cover” the same boundary box on the page.
  id: totrans-2586
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用诸如 [`Page.get_images()`](#Page.get_images "Page.get_images")、[`Page.get_image_info()`](#Page.get_image_info
    "Page.get_image_info") 或 [`Page.get_text()`](#Page.get_text "Page.get_text") 等方法检查
    / 提取页面的图像，则将检测到替换的“虚拟”图像，如 `(45, 47, 1, 1, 8, 'DeviceGray', '', 'Im1', 'FlateDecode')`，并且似乎也会“覆盖”页面上的同一边界框。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.21.0
  id: totrans-2587
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v1.21.0 中的新功能
- en: '[PRE263]'
  id: totrans-2588
  prefs: []
  type: TYPE_PRE
  zh: '[PRE263]'
- en: 'Retrieves the content of a page in a variety of formats. This is a wrapper
    for multiple [TextPage](textpage.html#textpage) methods by choosing the output
    option `opt` as follows:'
  id: totrans-2589
  prefs: []
  type: TYPE_NORMAL
  zh: 以多种格式检索页面内容。这是通过选择输出选项 `opt` 来调用多个 [TextPage](textpage.html#textpage) 方法的包装器：
- en: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT"),
    default
  id: totrans-2590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “text” – [`TextPage.extractTEXT()`](textpage.html#TextPage.extractTEXT "TextPage.extractTEXT")，默认
- en: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
  id: totrans-2591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “blocks” – [`TextPage.extractBLOCKS()`](textpage.html#TextPage.extractBLOCKS
    "TextPage.extractBLOCKS")
- en: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
  id: totrans-2592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “words” – [`TextPage.extractWORDS()`](textpage.html#TextPage.extractWORDS "TextPage.extractWORDS")
- en: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
  id: totrans-2593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “html” – [`TextPage.extractHTML()`](textpage.html#TextPage.extractHTML "TextPage.extractHTML")
- en: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
  id: totrans-2594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xhtml” – [`TextPage.extractXHTML()`](textpage.html#TextPage.extractXHTML "TextPage.extractXHTML")
- en: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
  id: totrans-2595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “xml” – [`TextPage.extractXML()`](textpage.html#TextPage.extractXML "TextPage.extractXML")
- en: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
  id: totrans-2596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “dict” – [`TextPage.extractDICT()`](textpage.html#TextPage.extractDICT "TextPage.extractDICT")
- en: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
  id: totrans-2597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “json” – [`TextPage.extractJSON()`](textpage.html#TextPage.extractJSON "TextPage.extractJSON")
- en: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
  id: totrans-2598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawdict” – [`TextPage.extractRAWDICT()`](textpage.html#TextPage.extractRAWDICT
    "TextPage.extractRAWDICT")
- en: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
  id: totrans-2599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “rawjson” – [`TextPage.extractRAWJSON()`](textpage.html#TextPage.extractRAWJSON
    "TextPage.extractRAWJSON")
- en: 'Parameters:'
  id: totrans-2600
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**opt** (*str*) –'
  id: totrans-2601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opt** (*str*) –'
- en: A string indicating the requested format, one of the above. A mixture of upper
    and lower case is supported.
  id: totrans-2602
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表示请求格式的字符串，其中之一为上述格式。支持大小写混合。
- en: Values “words” and “blocks” are also accepted (changed in v1.16.3).
  id: totrans-2603
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 值“words”和“blocks”也被接受（在v1.16.3中更改）。
- en: '**clip** (*rect-like*) – restrict extracted text to this rectangle. If None,
    the full page is taken. Has **no effect** for options “html”, “xhtml” and “xml”.
    (New in v1.17.7)'
  id: totrans-2604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect-like*) – 限制提取的文本到这个矩形。如果为None，则取全页。对于选项“html”，“xhtml”和“xml”没有任何效果。（在v1.17.7中新增）'
- en: '**flags** (*int*) – indicator bits to control whether to include images or
    how text should be handled with respect to white spaces and `ligatures`. See [Text
    Extraction Flags](vars.html#textpreserve) for available indicators and [Text Extraction
    Flags Defaults](app1.html#text-extraction-flags) for default settings. (New in
    v1.16.2)'
  id: totrans-2605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – 指示位，控制是否包含图像以及如何处理文本与空白和`连字`。参见[Text Extraction Flags](vars.html#textpreserve)以获取可用指示器，以及[Text
    Extraction Flags Defaults](app1.html#text-extraction-flags)以获取默认设置。（在v1.16.2中新增）'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **very significantly:** by more than 50% and up to
    95%, depending on the extraction option. If specified, the ‘flags’ and ‘clip’
    arguments are ignored, because they are textpage-only properties. If omitted,
    a new, temporary textpage will be created. (New in v1.19.0)'
  id: totrans-2606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 使用先前创建的[TextPage](textpage.html#textpage)。这大大减少了执行时间，**降低了很多：**
    可达到50%以上，甚至95%，具体取决于提取选项。如果指定了，‘flags’和‘clip’参数将被忽略，因为它们是仅适用于textpage的属性。如果省略，将创建一个新的临时textpage。（在v1.19.0中新增）'
- en: '**sort** (*bool*) – sort the output by vertical, then horizontal coordinates.
    In many cases, this should suffice to generate a “natural” reading order. Has
    no effect on (X)HTML and XML. Output option **“words”** sorts by `(y1, x0)` of
    the words’ bboxes. Similar is true for “blocks”, “dict”, “json”, “rawdict”, “rawjson”:
    they all are sorted by `(y1, x0)` of the resp. block bbox. If specified for “text”,
    then internally “blocks” is used. (New in v1.19.1)'
  id: totrans-2607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**sort** (*bool*) – 按垂直然后水平坐标排序输出。在许多情况下，这应该足以生成“自然”的阅读顺序。对(X)HTML和XML没有影响。输出选项**“words”**按单词的边界框的`(y1,
    x0)`排序。对于“blocks”，“dict”，“json”，“rawdict”，“rawjson”也是如此：它们都按相应块边界框的`(y1, x0)`排序。如果指定了“text”，则内部使用“blocks”。（在v1.19.1中新增）'
- en: '**delimiters** (*str*) – use these characters as *additional* word separators
    with the “words” output option (ignored otherwise). By default, all white spaces
    (including non-breaking space `0xA0`) indicate start and end of a word. Now you
    can specify more characters causing this. For instance, the default will return
    `"john.doe@outlook.com"` as **one** word. If you specify `delimiters="@."` then
    the **four** words `"john"`, `"doe"`, `"outlook"`, `"com"` will be returned. Other
    possible uses include ignoring punctuation characters `delimiters=string.punctuation`.
    The “word” strings will not contain any delimiting character. (New in v1.23.5)'
  id: totrans-2608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**delimiters** (*str*) – 使用这些字符作为*额外*单词分隔符与“words”输出选项（否则被忽略）。默认情况下，所有空白（包括非断行空格`0xA0`）表示单词的开始和结束。现在，您可以指定更多字符导致这种情况发生。例如，默认将返回`"john.doe@outlook.com"`作为**一个**单词。如果指定`delimiters="@."`，那么将返回**四**个单词`"john"`、`"doe"`、`"outlook"`、`"com"`。其他可能的用途包括忽略标点符号字符`delimiters=string.punctuation`。（在v1.23.5中新增）'
- en: 'Return type:'
  id: totrans-2609
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '*str, list, dict*'
  id: totrans-2610
  prefs: []
  type: TYPE_NORMAL
  zh: '*str, list, dict*'
- en: 'Returns:'
  id: totrans-2611
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The page’s content as a string, a list or a dictionary. Refer to the corresponding
    [TextPage](textpage.html#textpage) method for details.
  id: totrans-2612
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的内容作为字符串、列表或字典返回。有关详细信息，请参阅相应的[TextPage](textpage.html#textpage)方法。
- en: Note
  id: totrans-2613
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use this method as a **document conversion tool** from [any supported
    document type](how-to-open-a-file.html#supported-file-types) to one of TEXT, HTML,
    XHTML or XML documents.
  id: totrans-2614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用此方法作为[任何支持的文档类型](how-to-open-a-file.html#supported-file-types)到TEXT、HTML、XHTML或XML文档的**文档转换工具**。
- en: 'The inclusion of text via the *clip* parameter is decided on a by-character
    level: a character becomes part of the output, if its bbox is contained in *clip*
    (changed in v1.18.2). This **deviates** from the algorithm used in redaction annotations:
    a character will be **removed if its bbox intersects** any redaction annotation.'
  id: totrans-2615
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过 *clip* 参数包含文本的决定基于字符级别：如果其边界框包含在 *clip* 中，则字符成为输出的一部分（在 v1.18.2 中更改）。这**偏离了**用于编辑注释的算法：如果其边界框与任何编辑注释相交，则字符将被**移除**。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.0:
    added [TextPage](textpage.html) parameter'
  id: totrans-2616
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.19.0 中更改：添加 [文本页](textpage.html)
    参数
- en: 'Changed in v1.19.1: added `sort` parameter'
  id: totrans-2617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.1 中更改：添加 `sort` 参数
- en: 'Changed in v1.19.6: added new constants for defining default flags per method.'
  id: totrans-2618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.6 中更改：为每个方法定义了新的默认标志常量。
- en: 'Changed in v1.23.5: added `delimiters` parameter'
  id: totrans-2619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.23.5 中更改：添加 `delimiters` 参数
- en: '[PRE264]'
  id: totrans-2620
  prefs: []
  type: TYPE_PRE
  zh: '[PRE264]'
- en: Retrieve the text contained in a rectangle.
  id: totrans-2621
  prefs: []
  type: TYPE_NORMAL
  zh: 检索包含在矩形中的文本。
- en: 'Parameters:'
  id: totrans-2622
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect-like*) – rect-like.'
  id: totrans-2623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect-like*) – 矩形。'
- en: '**textpage** – a [TextPage](textpage.html#textpage) to use. If omitted, a new,
    temporary textpage will be created.'
  id: totrans-2624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** – 要使用的 [文本页](textpage.html#textpage)。如果省略，则将创建一个新的临时文本页。'
- en: 'Returns:'
  id: totrans-2625
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a string with interspersed linebreaks where necessary. It is based on dedicated
    code (changed in v1.19.0). A typical use is checking the result of [`Page.search_for()`](#Page.search_for
    "Page.search_for"):'
  id: totrans-2626
  prefs: []
  type: TYPE_NORMAL
  zh: 一个包含必要时分散的换行符的字符串。它基于专用代码（在 v1.19.0 中更改）。一个典型的用法是检查 [`Page.search_for()`](#Page.search_for
    "Page.search_for") 的结果：
- en: '[PRE265]'
  id: totrans-2627
  prefs: []
  type: TYPE_PRE
  zh: '[PRE265]'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.7
  id: totrans-2628
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.17.7
- en: 'Changed in v1.19.0: add [TextPage](textpage.html) parameter'
  id: totrans-2629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.0 中更改：添加 [文本页](textpage.html) 参数
- en: '[PRE266]'
  id: totrans-2630
  prefs: []
  type: TYPE_PRE
  zh: '[PRE266]'
- en: Create a [TextPage](textpage.html#textpage) for the page.
  id: totrans-2631
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个用于页面的 [文本页](textpage.html#textpage)。
- en: 'Parameters:'
  id: totrans-2632
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    text extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-2633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – 控制用于后续文本提取和搜索的内容的指示位 - 参见 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的参数。'
- en: '**clip** (*rect-like*) – restrict extracted text to this area. (New in v1.17.7)'
  id: totrans-2634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect-like*) – 限制提取的文本到此区域。（在 v1.17.7 中新增）'
- en: 'Returns:'
  id: totrans-2635
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '[TextPage](textpage.html#textpage)'
  id: totrans-2636
  prefs: []
  type: TYPE_NORMAL
  zh: '[文本页](textpage.html#textpage)'
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.5
  id: totrans-2637
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.5
- en: 'Changed in v1.17.7: introduced `clip` parameter.'
  id: totrans-2638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.17.7 中更改：引入 `clip` 参数。
- en: '[PRE267]'
  id: totrans-2639
  prefs: []
  type: TYPE_PRE
  zh: '[PRE267]'
- en: '**Optical Character Recognition** (**OCR**) technology can be used to extract
    text data for documents where text is in a raster image format throughout the
    page. Use this method to **OCR** a page for text extraction.'
  id: totrans-2640
  prefs: []
  type: TYPE_NORMAL
  zh: '**光学字符识别**（**OCR**）技术可用于提取页面全文图像格式中的文本数据。使用此方法进行页面文本提取的 **OCR**。'
- en: This method returns a [TextPage](textpage.html#textpage) for the page that includes
    OCRed text. MuPDF will invoke Tesseract-OCR if this method is used. Otherwise
    this is a normal [TextPage](textpage.html#textpage) object.
  id: totrans-2641
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法返回一个包含 OCR 文本的 [文本页](textpage.html#textpage)。如果使用此方法，MuPDF 将调用 Tesseract-OCR。否则，这是一个普通的
    [文本页](textpage.html#textpage) 对象。
- en: 'Parameters:'
  id: totrans-2642
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**flags** (*int*) – indicator bits controlling the content available for subsequent
    test extractions and searches – see the parameter of [`Page.get_text()`](#Page.get_text
    "Page.get_text").'
  id: totrans-2643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags** (*int*) – 控制用于后续测试提取和搜索的内容的指示位 - 参见 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的参数。'
- en: '**language** (*str*) – the expected language(s). Use “+”-separated values if
    multiple languages are expected, “eng+spa” for English and Spanish.'
  id: totrans-2644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**language** (*str*) – 预期的语言。如果期望多种语言，则使用“+”分隔的值，例如“eng+spa”表示英语和西班牙语。'
- en: '**dpi** (*int*) – the desired resolution in dots per inch. Influences recognition
    quality (and execution time).'
  id: totrans-2645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi** (*int*) – 期望的每英寸点数分辨率。影响识别质量（和执行时间）。'
- en: '**full** (*bool*) – whether to OCR the full page, or just the displayed images.'
  id: totrans-2646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**full** (*bool*) – 是否对整个页面进行 OCR，还是仅对显示的图像进行 OCR。'
- en: '**tessdata** (*str*) – The name of Tesseract’s language support folder `tessdata`.
    If omitted, this information must be present as environment variable [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX"). Can be determined by function [`get_tessdata()`](functions.html#get_tessdata
    "get_tessdata").'
  id: totrans-2647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**tessdata** (*str*) – Tesseract 的语言支持文件夹 `tessdata` 的名称。如果省略，必须作为环境变量 [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX") 存在此信息。可以通过函数 [`get_tessdata()`](functions.html#get_tessdata
    "get_tessdata") 确定。'
- en: Note
  id: totrans-2648
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method does **not** support a clip parameter – OCR will always happen for
    the complete page rectangle.
  id: totrans-2649
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法**不**支持裁剪参数 - OCR 将始终针对完整页面矩形进行。
- en: 'Returns:'
  id: totrans-2650
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a [TextPage](textpage.html#textpage). Execution may be significantly longer
    than [`Page.get_textpage()`](#Page.get_textpage "Page.get_textpage").
  id: totrans-2651
  prefs: []
  type: TYPE_NORMAL
  zh: '[TextPage](textpage.html#textpage)的一种执行可能比[`Page.get_textpage()`](#Page.get_textpage
    "Page.get_textpage")的执行时间长得多。'
- en: For a full page OCR, **all text** will have the font “GlyphlessFont” from Tesseract.
    In case of partial OCR, normal text will keep its properties, and only text coming
    from images will have the GlyphlessFont.
  id: totrans-2652
  prefs: []
  type: TYPE_NORMAL
  zh: 对于全页面 OCR，**所有文本**将使用来自 Tesseract 的“GlyphlessFont”字体。对于部分 OCR，正常文本将保留其属性，只有来自图像的文本将使用“GlyphlessFont”字体。
- en: Note
  id: totrans-2653
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '**OCRed text is only available** to PyMuPDF’s text extractions and searches
    if their [TextPage](textpage.html) parameter specifies the output of this method.'
  id: totrans-2654
  prefs: []
  type: TYPE_NORMAL
  zh: '**OCRed文本仅适用于** PyMuPDF 的文本提取和搜索，如果它们的[TextPage](textpage.html)参数指定了此方法的输出。'
- en: '[This](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)
    Jupyter notebook walks through an example for using OCR textpages.'
  id: totrans-2655
  prefs: []
  type: TYPE_NORMAL
  zh: '[这个](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/jupyter-notebooks/partial-ocr.ipynb)
    Jupyter 笔记本演示了使用 OCR 文本页的示例。'
- en: <details><summary>Show/hide history</summary></details> *   New in v.1.19.0
  id: totrans-2656
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   v.1.19.0中的新功能
- en: 'Changed in v1.19.1: support full and partial OCRing a page.'
  id: totrans-2657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.1中更改：支持对页面进行完整和部分 OCR。
- en: '[PRE268]'
  id: totrans-2658
  prefs: []
  type: TYPE_PRE
  zh: '[PRE268]'
- en: Return the vector graphics of the page. These are instructions which draw lines,
    rectangles, quadruples or curves, including properties like colors, transparency,
    line width and dashing, etc. Alternative terms are “line art” and “drawings”.
  id: totrans-2659
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面的矢量图形。这些是绘制线条、矩形、四边形或曲线的指令，包括颜色、透明度、线宽和虚线等属性。另一个术语是“线插图”和“图纸”。
- en: 'Returns:'
  id: totrans-2660
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'a list of dictionaries. Each dictionary item contains one or more single draw
    commands belonging together: they have the same properties (colors, dashing, etc.).
    This is called a **“path”** in PDF, so we adopted that name here, but the method
    **works for all document types**.'
  id: totrans-2661
  prefs: []
  type: TYPE_NORMAL
  zh: 一个字典列表。每个字典项包含一个或多个属于同一组的单个绘制命令：它们具有相同的属性（颜色、虚线等）。这在 PDF 中称为“路径”，因此我们在这里采用了这个名称，但该方法**适用于所有文档类型**。
- en: 'The path dictionary for fill, stroke and fill-stroke paths has been designed
    to be compatible with class [Shape](shape.html#shape). There are the following
    keys:'
  id: totrans-2662
  prefs: []
  type: TYPE_NORMAL
  zh: 用于填充、描边和填充-描边路径的路径字典已经设计成与[形状](shape.html#shape)类兼容。以下是关键字：
- en: '| Key | Value |'
  id: totrans-2663
  prefs: []
  type: TYPE_TB
  zh: '| Key | Value |'
- en: '| --- | --- |'
  id: totrans-2664
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-2665
  prefs: []
  type: TYPE_TB
  zh: '| closePath | 与[形状](shape.html#shape)中的参数相同。 |'
- en: '| color | Stroke color (see [Shape](shape.html#shape)). |'
  id: totrans-2666
  prefs: []
  type: TYPE_TB
  zh: '| color | 描边颜色（见[形状](shape.html#shape)）。 |'
- en: '| dashes | Dashed line specification (see [Shape](shape.html#shape)). |'
  id: totrans-2667
  prefs: []
  type: TYPE_TB
  zh: '| dashes | 虚线规格（见[形状](shape.html#shape)）。 |'
- en: '| even_odd | Fill colors of area overlaps – same as the parameter in [Shape](shape.html#shape).
    |'
  id: totrans-2668
  prefs: []
  type: TYPE_TB
  zh: '| even_odd | 区域重叠的填充颜色 - 与[形状](shape.html#shape)中的参数相同。 |'
- en: '| fill | Fill color (see [Shape](shape.html#shape)). |'
  id: totrans-2669
  prefs: []
  type: TYPE_TB
  zh: '| fill | 填充颜色（见[形状](shape.html#shape)）。 |'
- en: '| items | List of draw commands: lines, rectangles, quads or curves. |'
  id: totrans-2670
  prefs: []
  type: TYPE_TB
  zh: '| items | 绘制命令列表：线条、矩形、四边形或曲线。 |'
- en: '| lineCap | Number 3-tuple, use its max value on output with [Shape](shape.html#shape).
    |'
  id: totrans-2671
  prefs: []
  type: TYPE_TB
  zh: '| lineCap | 数字3元组，在输出时与[形状](shape.html#shape)的最大值一起使用。 |'
- en: '| lineJoin | Same as the parameter in [Shape](shape.html#shape). |'
  id: totrans-2672
  prefs: []
  type: TYPE_TB
  zh: '| lineJoin | 与[形状](shape.html#shape)中的参数相同。 |'
- en: '| fill_opacity | fill color transparency (see [Shape](shape.html#shape)). (New
    in v1.18.17) |'
  id: totrans-2673
  prefs: []
  type: TYPE_TB
  zh: '| fill_opacity | 填充颜色透明度（见[形状](shape.html#shape)）。 （v1.18.17中的新功能） |'
- en: '| stroke_opacity | stroke color transparency (see [Shape](shape.html#shape)).
    (New in v1.18.17) |'
  id: totrans-2674
  prefs: []
  type: TYPE_TB
  zh: '| stroke_opacity | 描边色透明度（见[形状](shape.html#shape)）。 （v1.18.17中的新功能） |'
- en: '| rect | Page area covered by this path. Information only. |'
  id: totrans-2675
  prefs: []
  type: TYPE_TB
  zh: '| rect | 此路径覆盖的页面区域。仅供参考。 |'
- en: '| layer | name of applicable Optional Content Group. (New in v1.22.0) |'
  id: totrans-2676
  prefs: []
  type: TYPE_TB
  zh: '| layer | 适用的可选内容组的名称。 （v1.22.0中的新功能） |'
- en: '| level | the hierarchy level if `extended=True`. (New in v1.22.0) |'
  id: totrans-2677
  prefs: []
  type: TYPE_TB
  zh: '| level | 如果`extended=True`，则为层次结构级别。 （v1.22.0中的新功能） |'
- en: '| seqno | command number when building page appearance. (New in v1.19.0) |'
  id: totrans-2678
  prefs: []
  type: TYPE_TB
  zh: '| seqno | 构建页面外观时的命令编号。 （v1.19.0中的新功能） |'
- en: '| type | type of this path. (New in v1.18.17) |'
  id: totrans-2679
  prefs: []
  type: TYPE_TB
  zh: '| type | 此路径的类型。 （v1.18.17中的新功能） |'
- en: '| width | Stroke line width. (see [Shape](shape.html#shape)). |'
  id: totrans-2680
  prefs: []
  type: TYPE_TB
  zh: '| width | 描边线宽度。 （见[形状](shape.html#shape)）。 |'
- en: Key `"opacity"` has been replaced by the new keys `"fill_opacity"` and `"stroke_opacity"`.
    This is now compatible with the corresponding parameters of [`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish"). (Changed in v1.18.17)
  id: totrans-2681
  prefs: []
  type: TYPE_NORMAL
  zh: 键`"opacity"`已被新键`"fill_opacity"`和`"stroke_opacity"`替代。现在与[`Shape.finish()`](shape.html#Shape.finish
    "Shape.finish")的相应参数兼容（v1.18.17中更改）。
- en: 'For paths other than groups or clips, key `"type"` takes one of the following
    values:'
  id: totrans-2682
  prefs: []
  type: TYPE_NORMAL
  zh: 对于除了组或剪辑之外的路径，键`"type"`取以下值之一：
- en: '**“f”** – this is a *fill-only* path. Only key-values relevant for this operation
    have a meaning, not applicable ones are present with a value of *None*: `"color"`,
    `"lineCap"`, `"lineJoin"`, `"width"`, `"closePath"`, `"dashes"` and should be
    ignored.'
  id: totrans-2683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“f”** – 这是一个*仅填充*的路径。只有与此操作相关的键-值对具有意义，不适用的键值对的值为*None*：`"color"`、`"lineCap"`、`"lineJoin"`、`"width"`、`"closePath"`、`"dashes"`，应该被忽略。'
- en: '**“s”** – this is a *stroke-only* path. Similar to previous, key `"fill"` is
    present with value *None*.'
  id: totrans-2684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“s”** – 这是一个*仅描边*的路径。与之前类似，关键字`"fill"`的值为*None*。'
- en: '**“fs”** – this is a path performing combined *fill* and *stroke* operations.'
  id: totrans-2685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“fs”** – 这是执行组合*填充*和*描边*操作的路径。'
- en: 'Each item in `path["items"]` is one of the following:'
  id: totrans-2686
  prefs: []
  type: TYPE_NORMAL
  zh: 每个`path["items"]`中的项目是以下之一：
- en: '`("l", p1, p2)` - a line from p1 to p2 ([Point](point.html#point) objects).'
  id: totrans-2687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("l", p1, p2)` - 从p1到p2的直线（[点](point.html#point)对象）。'
- en: '`("c", p1, p2, p3, p4)` - cubic Bézier curve **from p1 to p4** (p2 and p3 are
    the control points). All objects are of type [Point](point.html#point).'
  id: totrans-2688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("c", p1, p2, p3, p4)` - 从p1到p4的三次贝塞尔曲线（p2和p3是控制点）。所有对象均为[点](point.html#point)类型。'
- en: '`("re", rect, orientation)` - a [Rect](rect.html#rect). Multiple rectangles
    within the same path are now detected (changed in v1.18.17). Integer `orientation`
    is 1 resp. -1 indicating whether the enclosed area is rotated left (1 = anti-clockwise),
    or resp. right [[7]](#f7) (changed in v1.19.2).'
  id: totrans-2689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("re", rect, orientation)` - 一个[矩形](rect.html#rect)。同一路径中的多个矩形现在被检测到（v1.18.17中更改）。整数`orientation`是1或-1，表示所包含区域是否向左旋转（1
    = 逆时针），或向右旋转[[7]](#f7)（v1.19.2中更改）。'
- en: '`("qu", quad)` - a [Quad](quad.html#quad). 3 or 4 consecutive lines are detected
    to actually represent a [Quad](quad.html#quad) (changed in v1.19.2:). (New in
    v1.18.17)'
  id: totrans-2690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`("qu", quad)` - 一个[四边形](quad.html#quad)。检测到3或4条连续的线实际上表示一个[四边形](quad.html#quad)（v1.19.2中更改）。'
- en: Using class [Shape](shape.html#shape), you should be able to recreate the original
    drawings on a separate (PDF) page with high fidelity under normal, not too sophisticated
    circumstances. Please see the following comments on restrictions. A coding draft
    can be found in section “Extractings Drawings” of chapter [FAQ](faq.html#faq).
  id: totrans-2691
  prefs: []
  type: TYPE_NORMAL
  zh: 使用类[Shape](shape.html#shape)，您应该能够在正常情况下，在独立的（PDF）页面上高度还原原始图纸，而不是过于复杂的情况下。请参阅关于限制的以下注释。有关“提取图纸”的编码草案可在第[FAQ](faq.html#faq)章节中找到。
- en: 'Specifying `extended=True` significantly alters the output. Most importantly,
    new dictionary types are present: “clip” and “group”. All paths will now be organized
    in a hierarchic structure which is encoded by the new integer key “level”, the
    hierarchy level. Each group or clip establishes a new hierarchy, which applies
    to all subsequent paths having a *larger* level value. (New in v1.22.0)'
  id: totrans-2692
  prefs: []
  type: TYPE_NORMAL
  zh: 指定`extended=True`会显著改变输出。最重要的是，新的字典类型“clip”和“group”现在存在：所有路径现在将以层次结构方式组织，这由新的整数键“level”编码，即层次级别。每个组或剪辑都建立一个新的层次结构，适用于所有具有*更大*层次值的后续路径（v1.22.0中新增）。
- en: 'Any path with a smaller level value than its predecessor will end the scope
    of (at least) the preceeding hierarchy level. A “clip” path with the same level
    as the preceding clip will end the scope of that clip. Same is true for groups.
    This is best explained by an example:'
  id: totrans-2693
  prefs: []
  type: TYPE_NORMAL
  zh: 任何级别小于其前任的路径都将结束（至少）前面层次结构的范围。与前一个剪辑级别相同的“clip”路径将结束该剪辑的范围。组的情况也是如此。最好通过示例来解释：
- en: '[PRE269]'
  id: totrans-2694
  prefs: []
  type: TYPE_PRE
  zh: '[PRE269]'
- en: The clip in line 0 applies to line including line 7\. Group in line 2 applies
    to lines 3 to 5, clip in line 3 only applies to line 4.
  id: totrans-2695
  prefs: []
  type: TYPE_NORMAL
  zh: 第0行的剪辑适用于包括第7行在内的路径。第2行的组适用于第3到第5行，第3行的剪辑仅适用于第4行。
- en: “stroke” in line 4 is under control of “group” in line 2 and “clip” in line
    3 (which in turn is a subset of line 0 clip).
  id: totrans-2696
  prefs: []
  type: TYPE_NORMAL
  zh: 第4行中的“stroke”受第2行的“group”和第3行的“clip”（它又是第0行剪辑的子集）控制。
- en: '**“clip”** dictionary. Its values (most importantly “scissor”) remain valid
    / apply as long as following dictionaries have a **larger “level”** value.'
  id: totrans-2697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“clip”** 字典。其值（尤其是“scissor”）在后续字典具有**更大“level”**值时仍然有效/适用。'
- en: '| Key | Value |'
  id: totrans-2698
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-2699
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| closePath | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2700
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| closePath | 与“stroke”或“fill”字典中相同 |'
- en: '| even_odd | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2701
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| even_odd | 与“stroke”或“fill”字典中相同 |'
- en: '| items | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2702
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| items | 与“stroke”或“fill”字典中相同 |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2703
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与“stroke”或“fill”字典中相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2704
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与“stroke”或“fill”字典中相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2705
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与“stroke”或“fill”字典中相同 |'
- en: '| scissor | the clip rectangle |'
  id: totrans-2706
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| scissor | 剪辑矩形 |'
- en: '| type | “clip” |'
  id: totrans-2707
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “clip” |'
- en: “group” dictionary. Its values remain valid (apply) as long as following dictionaries
    have a **larger “level”** value. Any dictionary with an equal or lower level end
    this group.
  id: totrans-2708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “group” 字典。其值仅在后续字典具有**较大“level”**值时有效。任何具有相等或更低级别的字典将结束此组。
- en: '| Key | Value |'
  id: totrans-2709
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 键 | 值 |'
- en: '| --- | --- |'
  id: totrans-2710
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| rect | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2711
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| rect | 与“stroke”或“fill”字典中相同 |'
- en: '| layer | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2712
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| layer | 与“stroke”或“fill”字典中相同 |'
- en: '| level | Same as in “stroke” or “fill” dictionaries |'
  id: totrans-2713
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| level | 与“stroke”或“fill”字典中相同 |'
- en: '| isolated | (bool) Whether this group is isolated |'
  id: totrans-2714
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| isolated | （布尔值）此组是否被隔离 |'
- en: '| knockout | (bool) Whether this is a “Knockout Group” |'
  id: totrans-2715
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| knockout | （布尔值）是否为“Knockout Group” |'
- en: '| blendmode | Name of the BlendMode, default is “Normal” |'
  id: totrans-2716
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| blendmode | BlendMode 的名称，默认为“Normal” |'
- en: '| opacity | Float value in range [0, 1]. |'
  id: totrans-2717
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| opacity | 浮点数值，范围在 [0, 1] 内。 |'
- en: '| type | “group” |'
  id: totrans-2718
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| type | “group” |'
- en: Note
  id: totrans-2719
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The method is based on the output of [`Page.get_cdrawings()`](#Page.get_cdrawings
    "Page.get_cdrawings") – which is much faster, but requires somewhat more attention
    processing its output.
  id: totrans-2720
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法基于 [`Page.get_cdrawings()`](#Page.get_cdrawings "Page.get_cdrawings") 的输出
    - 这种方法速度更快，但处理其输出需要更多注意。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.0
  id: totrans-2721
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.18.0
- en: Changed in v1.18.17
  id: totrans-2722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Changed in v1.18.17
- en: 'Changed in v1.19.0: add “seqno” key, remove “clippings” key'
  id: totrans-2723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.0: 添加了“seqno”键，删除了“clippings”键'
- en: 'Changed in v1.19.1: “color” / “fill” keys now always are either are RGB tuples
    or `None`. This resolves issues caused by exotic colorspaces.'
  id: totrans-2724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.1: “color” / “fill” 键现在总是 RGB 元组或 `None`。这解决了由于奇异的颜色空间而引起的问题。'
- en: 'Changed in v1.19.2: add an indicator for the *“orientation”* of the area covered
    by an “re” item.'
  id: totrans-2725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.2: 添加了关于“re”项覆盖区域*“方向”*的指示符。'
- en: 'Changed in v1.22.0: add new key `"layer"` which contains the name of the Optional
    Content Group of the path (or `None`).'
  id: totrans-2726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加新键 `"layer"`，其中包含路径的可选内容组的名称（或 `None`）。'
- en: 'Changed in v1.22.0: add parameter `extended` to also return clipping and group
    paths.'
  id: totrans-2727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加参数 `extended`，也返回剪辑和分组路径。'
- en: '[PRE270]'
  id: totrans-2728
  prefs: []
  type: TYPE_PRE
  zh: '[PRE270]'
- en: 'Extract the vector graphics on the page. Apart from following technical differences,
    functionally equivalent to [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings"),
    but much faster:'
  id: totrans-2729
  prefs: []
  type: TYPE_NORMAL
  zh: 提取页面上的矢量图形。除了以下技术差异外，与 [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings")
    功能上相当，但速度更快：
- en: Every path type only contains the relevant keys, e.g. a stroke path has no `"fill"`
    color key. See comment in method [`Page.get_drawings()`](#Page.get_drawings "Page.get_drawings").
  id: totrans-2730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每种路径类型仅包含相关键，例如，描边路径不包含 `"fill"` 颜色键。参见 [`Page.get_drawings()`](#Page.get_drawings
    "Page.get_drawings") 方法中的注释。
- en: Coordinates are given as [`point_like`](glossary.html#point_like "point_like"),
    [`rect_like`](glossary.html#rect_like "rect_like") and [`quad_like`](glossary.html#quad_like
    "quad_like") **tuples** – not as [Point](point.html#point), [Rect](rect.html#rect),
    [Quad](quad.html#quad) objects.
  id: totrans-2731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 坐标以 [`point_like`](glossary.html#point_like "point_like")、[`rect_like`](glossary.html#rect_like
    "rect_like") 和 [`quad_like`](glossary.html#quad_like "quad_like") **元组**给出 - 而不是作为
    [Point](point.html#point)、[Rect](rect.html#rect)、[Quad](quad.html#quad) 对象。
- en: 'If performance is a concern, consider using this method: Compared to versions
    earlier than 1.18.17, you should see much shorter response times. We have seen
    pages that required 2 seconds then, now only need 200 ms with this method.'
  id: totrans-2732
  prefs: []
  type: TYPE_NORMAL
  zh: 如果性能是一个问题，请考虑使用此方法：与早于 1.18.17 版本相比，您应该看到更短的响应时间。我们曾经看到需要 2 秒钟的页面，现在仅需使用此方法的
    200 毫秒。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.17
  id: totrans-2733
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.18.17
- en: 'Changed in v1.19.0: removed “clippings” key, added “seqno” key.'
  id: totrans-2734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.0: 移除了“clippings”键，添加了“seqno”键。'
- en: 'Changed in v1.19.1: always generate RGB color tuples.'
  id: totrans-2735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.19.1: 总是生成 RGB 颜色元组。'
- en: 'Changed in v1.22.0: added new key `"layer"` which contains the name of the
    Optional Content Group of the path (or `None`).'
  id: totrans-2736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Changed in v1.22.0: 添加新键 `"layer"`，其中包含路径的可选内容组的名称（或 `None`）。'
- en: 'Changed in v1.22.0: added parameter `extended` to also return clipping paths.'
  id: totrans-2737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.22.0 中更改：添加了参数 `extended` 以返回剪辑路径。
- en: '[PRE271]'
  id: totrans-2738
  prefs: []
  type: TYPE_PRE
  zh: '[PRE271]'
- en: 'PDF only: Return a list of fonts referenced by the page. Wrapper for [`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts").'
  id: totrans-2739
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：返回页面引用的字体列表。[`Document.get_page_fonts()`](document.html#Document.get_page_fonts
    "Document.get_page_fonts") 的包装器。
- en: '[PRE272]'
  id: totrans-2740
  prefs: []
  type: TYPE_PRE
  zh: '[PRE272]'
- en: 'PDF only: Return a list of images referenced by the page. Wrapper for [`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images").'
  id: totrans-2741
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：返回页面引用的图像列表。[`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images") 的包装器。
- en: '[PRE273]'
  id: totrans-2742
  prefs: []
  type: TYPE_PRE
  zh: '[PRE273]'
- en: 'Return a list of meta information dictionaries for all images shown on the
    page. This works for all document types. Technically, this is a subset of the
    dictionary output of [`Page.get_text()`](#Page.get_text "Page.get_text"): the
    image binary content and any text on the page are ignored.'
  id: totrans-2743
  prefs: []
  type: TYPE_NORMAL
  zh: 返回一个包含所有显示在页面上的图像的元信息字典列表。这适用于所有文档类型。从技术上讲，这是 [`Page.get_text()`](#Page.get_text
    "Page.get_text") 的字典输出的子集：图像的二进制内容和页面上的任何文本都被忽略。
- en: 'Parameters:'
  id: totrans-2744
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**hashes** (*bool*) – Compute the MD5 hashcode for each encountered image,
    which allows identifying image duplicates. This adds the key `"digest"` to the
    output, whose value is a 16 byte `bytes` object. (New in v1.18.13)'
  id: totrans-2745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hashes** (*bool*) – 为每个遇到的图像计算 MD5 哈希码，以便识别图像的重复项。这将在输出中添加键 `"digest"`，其值为一个
    16 字节的 `bytes` 对象。（在 v1.18.13 中新增）'
- en: '**xrefs** (*bool*) – **PDF only.** Try to find the [`xref`](glossary.html#xref
    "xref") for each image. Implies `hashes=True`. Adds the `"xref"` key to the dictionary.
    If not found, the value is 0, which means, the image is either “inline” or otherwise
    undetectable. Please note that this option has an extended response time, because
    the MD5 hashcode will be computed at least two times for each image with an xref.
    (New in v1.18.13)'
  id: totrans-2746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xrefs** (*bool*) – **仅适用于 PDF。** 尝试查找每个图像的 [`xref`](glossary.html#xref "xref")。意味着
    `hashes=True`。向字典添加 `"xref"` 键。如果未找到，则值为 0，这意味着图像可能是“内联”或其他无法检测到的类型。请注意，此选项响应时间较长，因为将至少两次计算每个具有
    xref 的图像的 MD5 哈希码。（在 v1.18.13 中新增）'
- en: 'Return type:'
  id: totrans-2747
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list[dict]
  id: totrans-2748
  prefs: []
  type: TYPE_NORMAL
  zh: list[dict]
- en: 'Returns:'
  id: totrans-2749
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of dictionaries. This includes information for **exactly those** images,
    that are shown on the page – including *“inline images”*. In contrast to images
    included in [`Page.get_text()`](#Page.get_text "Page.get_text"), image **binary
    content** is not loaded, which drastically reduces memory usage. The dictionary
    layout is similar to that of image blocks in `page.get_text("dict")`.
  id: totrans-2750
  prefs: []
  type: TYPE_NORMAL
  zh: 一个包含所有显示在页面上的图像的字典列表。这与包含在 [`Page.get_text()`](#Page.get_text "Page.get_text")
    中的图像块不同，后者不会加载图像的二进制内容，从而显著减少了内存使用量。字典的布局类似于 `page.get_text("dict")` 中的图像块。
- en: '| **Key** | **Value** |'
  id: totrans-2751
  prefs: []
  type: TYPE_TB
  zh: '| **Key** | **Value** |'
- en: '| --- | --- |'
  id: totrans-2752
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| number | block number *(int)* |'
  id: totrans-2753
  prefs: []
  type: TYPE_TB
  zh: '| number | 块编号 *(int)* |'
- en: '| bbox | image bbox on page, [`rect_like`](glossary.html#rect_like "rect_like")
    |'
  id: totrans-2754
  prefs: []
  type: TYPE_TB
  zh: '| bbox | 页面上的图像边界框，[`rect_like`](glossary.html#rect_like "rect_like") |'
- en: '| width | original image width *(int)* |'
  id: totrans-2755
  prefs: []
  type: TYPE_TB
  zh: '| width | 原始图像宽度 *(int)* |'
- en: '| height | original image height *(int)* |'
  id: totrans-2756
  prefs: []
  type: TYPE_TB
  zh: '| height | 原始图像高度 *(int)* |'
- en: '| cs-name | colorspace name *(str)* |'
  id: totrans-2757
  prefs: []
  type: TYPE_TB
  zh: '| cs-name | 颜色空间名称 *(str)* |'
- en: '| colorspace | colorspace.n *(int)* |'
  id: totrans-2758
  prefs: []
  type: TYPE_TB
  zh: '| colorspace | 颜色空间中的颜色数 *(int)* |'
- en: '| xres | resolution in x-direction *(int)* |'
  id: totrans-2759
  prefs: []
  type: TYPE_TB
  zh: '| xres | x 方向分辨率 *(int)* |'
- en: '| yres | resolution in y-direction *(int)* |'
  id: totrans-2760
  prefs: []
  type: TYPE_TB
  zh: '| yres | y 方向分辨率 *(int)* |'
- en: '| bpc | bits per component *(int)* |'
  id: totrans-2761
  prefs: []
  type: TYPE_TB
  zh: '| bpc | 每组分量的比特数 *(int)* |'
- en: '| size | storage occupied by image *(int)* |'
  id: totrans-2762
  prefs: []
  type: TYPE_TB
  zh: '| size | 图像占用的存储空间 *(int)* |'
- en: '| digest | MD5 hashcode *(bytes)*, if *hashes* is true |'
  id: totrans-2763
  prefs: []
  type: TYPE_TB
  zh: '| digest | MD5 哈希码 *(bytes)*，如果 *hashes* 为 true |'
- en: '| xref | image [`xref`](glossary.html#xref "xref") or 0, if *xrefs* is true
    |'
  id: totrans-2764
  prefs: []
  type: TYPE_TB
  zh: '| xref | 图像的 [`xref`](glossary.html#xref "xref") 或者如果 *xrefs* 为 true 则为 0 |'
- en: '| transform | matrix transforming image rect to bbox, [`matrix_like`](glossary.html#matrix_like
    "matrix_like") |'
  id: totrans-2765
  prefs: []
  type: TYPE_TB
  zh: '| transform | 将图像矩形变换为 bbox 的矩阵，[`matrix_like`](glossary.html#matrix_like "matrix_like")
    |'
- en: Multiple occurrences of the same image are always reported. You can detect duplicates
    by comparing their [`digest`](pixmap.html#Pixmap.digest "Pixmap.digest") values.
  id: totrans-2766
  prefs: []
  type: TYPE_NORMAL
  zh: 相同图像的多次出现始终会被报告。您可以通过比较它们的[`digest`](pixmap.html#Pixmap.digest "Pixmap.digest")值来检测重复项。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.18.11
  id: totrans-2767
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.11 中新增
- en: 'Changed in v1.18.13: added image MD5 hashcode computation and [`xref`](glossary.html#xref
    "xref") search.'
  id: totrans-2768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.18.13 中更改：添加了图像 MD5 哈希码计算和 [`xref`](glossary.html#xref "xref") 搜索。
- en: '[PRE274]'
  id: totrans-2769
  prefs: []
  type: TYPE_PRE
  zh: '[PRE274]'
- en: 'PDF only: Return a list of Form XObjects referenced by the page. Wrapper for
    [`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects "Document.get_page_xobjects").'
  id: totrans-2770
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回页面引用的表单XObject的列表。是[`Document.get_page_xobjects()`](document.html#Document.get_page_xobjects
    "Document.get_page_xobjects")的包装器。
- en: '[PRE275]'
  id: totrans-2771
  prefs: []
  type: TYPE_PRE
  zh: '[PRE275]'
- en: 'PDF only: Return boundary boxes and transformation matrices of an embedded
    image. This is an improved version of [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox") with the following differences:'
  id: totrans-2772
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回嵌入图像的边界框和变换矩阵。这是[`Page.get_image_bbox()`](#Page.get_image_bbox "Page.get_image_bbox")的改进版本，具有以下区别：
- en: There is no restriction on **how** the image is invoked (by the page or one
    of its Form XObjects). The result is always complete and correct.
  id: totrans-2773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**如何**调用图像没有限制（由页面或其一个表单XObject调用）。结果始终完整且正确。'
- en: The result is a list of [Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))
    objects – depending on *transform*. Each list item represents one location of
    the image on the page. Multiple occurrences might not be detectable by [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-2774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结果是[Rect](rect.html#rect)或([Rect](rect.html#rect), [Matrix](matrix.html#matrix))对象的列表
    – 取决于*transform*。每个列表项表示页面上图像的一个位置。[`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox")可能无法检测到多个出现。
- en: The method invokes [`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")
    with `xrefs=True` and therefore has a noticeably longer response time than [`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox").
  id: totrans-2775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法调用[`Page.get_image_info()`](#Page.get_image_info "Page.get_image_info")，因此其响应时间比[`Page.get_image_bbox()`](#Page.get_image_bbox
    "Page.get_image_bbox")明显更长，因为`xrefs=True`。
- en: 'Parameters:'
  id: totrans-2776
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str**,**int*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images"), or the reference **name** entry of such an item (item[7]),
    or the image [`xref`](glossary.html#xref "xref").'
  id: totrans-2777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item** (*list**,**str**,**int*) – 列表[`Page.get_images()`](#Page.get_images
    "Page.get_images")中的一个项目，或者是这样一个项目的参考**name**条目（item[7]），或者是图像[`xref`](glossary.html#xref
    "xref")。'
- en: '**transform** (*bool*) – also return the matrix used to transform the image
    rectangle to the bbox on the page. If true, then tuples `(bbox, matrix)` are returned.'
  id: totrans-2778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform** (*bool*) – 同时返回用于将图像矩形变换为页面上的边界框的矩阵。如果为真，则返回元组`(bbox, matrix)`。'
- en: 'Return type:'
  id: totrans-2779
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2780
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-2781
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: Boundary boxes and respective transformation matrices for each image occurrence
    on the page. If the item is not on the page, an empty list `[]` is returned.
  id: totrans-2782
  prefs: []
  type: TYPE_NORMAL
  zh: 对页面上每个图像出现的边界框及其相应的变换矩阵。如果项目不在页面上，则返回空列表`[]`。
- en: <details><summary>Show/hide history</summary></details> New in v1.18.13
  id: totrans-2783
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> 新增于v1.18.13
- en: '[PRE276]'
  id: totrans-2784
  prefs: []
  type: TYPE_PRE
  zh: '[PRE276]'
- en: 'PDF only: Return boundary box and transformation matrix of an embedded image.'
  id: totrans-2785
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回嵌入图像的边界框和变换矩阵。
- en: 'Parameters:'
  id: totrans-2786
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**item** (*list**,**str*) – an item of the list [`Page.get_images()`](#Page.get_images
    "Page.get_images") with *full=True* specified, or the reference **name** entry
    of such an item, which is item[-3] (or item[7] respectively).'
  id: totrans-2787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**item** (*list**,**str*) – 列表[`Page.get_images()`](#Page.get_images "Page.get_images")中的一个项目，如果指定了*full=True*，或者是这样一个项目的参考**name**条目，即item[-3]（或分别为item[7]）。'
- en: '**transform** (*bool*) – return the matrix used to transform the image rectangle
    to the bbox on the page (new in v1.18.11). Default is just the bbox. If true,
    then a tuple `(bbox, matrix)` is returned.'
  id: totrans-2788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**transform** (*bool*) – 返回用于将图像矩形变换为页面上的边界框的矩阵（自v1.18.11新增）。默认值仅为边界框。如果为真，则返回元组`(bbox,
    matrix)`。'
- en: 'Return type:'
  id: totrans-2789
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Rect](rect.html#rect) or ([Rect](rect.html#rect), [Matrix](matrix.html#matrix))'
  id: totrans-2790
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)或([Rect](rect.html#rect), [Matrix](matrix.html#matrix))'
- en: 'Returns:'
  id: totrans-2791
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the boundary box of the image – optionally also its transformation matrix.
  id: totrans-2792
  prefs: []
  type: TYPE_NORMAL
  zh: 图像的边界框 – 可选地也包括其变换矩阵。
- en: '<details><summary>Show/hide history</summary></details> *   (Changed in v1.16.7):
    If the page in fact does not display this image, an infinite rectangle is returned
    now. In previous versions, an exception was raised. Formally invalid parameters
    still raise exceptions.'
  id: totrans-2793
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> （自v1.16.7更改）：如果页面实际上未显示此图像，则现在返回一个无限矩形。在以前的版本中，会引发异常。形式上无效的参数仍会引发异常。
- en: '(Changed in v1.17.0): Only images referenced directly by the page are considered.
    This means that images occurring in embedded PDF pages are ignored and an exception
    is raised.'
  id: totrans-2794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （自v1.17.0更改）：仅考虑页面直接引用的图像。这意味着忽略了嵌入的PDF页面中的图像，并引发异常。
- en: '(Changed in v1.18.5): Removed the restriction introduced in v1.17.0: any item
    of the page’s image list may be specified.'
  id: totrans-2795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （自 v1.18.5 变更）：删除 v1.17.0 中引入的限制：页面图像列表的任何项目都可以指定。
- en: '(Changed in v1.18.11): Partially re-instated a restriction: only those images
    are considered, that are either directly referenced by the page or by a Form XObject
    directly referenced by the page.'
  id: totrans-2796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （自 v1.18.11 变更）：部分重新引入限制：只考虑页面直接引用或页面直接引用的表单XObject的图像。
- en: '(Changed in v1.18.11): Optionally also return the transformation matrix together
    with the bbox as the tuple `(bbox, transform)`.'
  id: totrans-2797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （自 v1.18.11 变更）：还可以选择将转换矩阵与bbox一起返回，作为元组`(bbox, transform)`。
- en: Note
  id: totrans-2798
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Be aware that [`Page.get_images()`](#Page.get_images "Page.get_images") may
    contain “dead” entries i.e. images, which the page **does not display**. This
    is no error, but intended by the PDF creator. No exception will be raised in this
    case, but an infinite rectangle is returned. You can avoid this from happening
    by executing [`Page.clean_contents()`](functions.html#Page.clean_contents "Page.clean_contents")
    before this method.
  id: totrans-2799
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，[`Page.get_images()`](#Page.get_images "Page.get_images") 可能包含“无效”条目，即页面**不显示**的图像。这不是错误，而是PDF创建者的意图。在这种情况下，不会引发异常，但会返回一个无限大的矩形。您可以通过在调用此方法之前执行[`Page.clean_contents()`](functions.html#Page.clean_contents
    "Page.clean_contents")来避免这种情况发生。
- en: 'The image’s “transformation matrix” is defined as the matrix, for which the
    expression `bbox / transform == pymupdf.Rect(0, 0, 1, 1)` is true, lookup details
    here: [Image Transformation Matrix](app3.html#imagetransformation).'
  id: totrans-2800
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像的“转换矩阵”被定义为矩阵，其中表达式`bbox / transform == pymupdf.Rect(0, 0, 1, 1)`为真，详细信息请查看：[图像转换矩阵](app3.html#imagetransformation)。
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.11:
    return image transformation matrix'
  id: totrans-2801
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自 v1.18.11 变更：返回图像转换矩阵
- en: '[PRE277]'
  id: totrans-2802
  prefs: []
  type: TYPE_PRE
  zh: '[PRE277]'
- en: Create an SVG image from the page. Only full page images are currently supported.
  id: totrans-2803
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建一个SVG图像。目前仅支持全页图像。
- en: 'Parameters:'
  id: totrans-2804
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – a matrix, default is [Identity](identity.html#identity).'
  id: totrans-2805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**矩阵**（*类似矩阵*） - 一个矩阵，默认为[单位矩阵](identity.html#identity)。'
- en: '**text_as_path** (*bool*) – – controls how text is represented. *True* outputs
    each character as a series of elementary draw commands, which leads to a more
    precise text display in browsers, but a **very much larger** output for text-oriented
    pages. Display quality for *False* relies on the presence of the referenced fonts
    on the current system. For missing fonts, the internet browser will fall back
    to some default – leading to unpleasant appearances. Choose *False* if you want
    to parse the text of the SVG. (New in v1.17.5)'
  id: totrans-2806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**text_as_path**（*布尔值*） - 控制文本的表示方式。*True* 将每个字符输出为一系列基本绘制命令，这导致浏览器中文本显示更精确，但对于面向文本的页面来说，输出量非常大。对于缺失字体，Internet浏览器将回退到一些默认值
    - 导致外观不佳。如果要解析SVG的文本，请选择*False*。（v1.17.5中新增）'
- en: 'Returns:'
  id: totrans-2807
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a UTF-8 encoded string that contains the image. Because SVG has XML syntax it
    can be saved in a text file, the standard extension is `.svg`.
  id: totrans-2808
  prefs: []
  type: TYPE_NORMAL
  zh: 一个UTF-8编码的字符串，包含图像。由于SVG具有XML语法，可以将其保存在文本文件中，标准扩展名为`.svg`。
- en: Note
  id: totrans-2809
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In case of a PDF, you can circumvent the “full page image only” restriction
    by modifying the page’s CropBox before using the method.
  id: totrans-2810
  prefs: []
  type: TYPE_NORMAL
  zh: 对于PDF文件，在使用此方法之前，您可以通过修改页面的CropBox来避开“仅全页图像”的限制。
- en: '[PRE278]'
  id: totrans-2811
  prefs: []
  type: TYPE_PRE
  zh: '[PRE278]'
- en: Create a pixmap from the page. This is probably the most often used method to
    create a [Pixmap](pixmap.html#pixmap).
  id: totrans-2812
  prefs: []
  type: TYPE_NORMAL
  zh: 从页面创建一个位图。这可能是创建[位图](pixmap.html#pixmap)最常用的方法之一。
- en: All parameters are *keyword-only.*
  id: totrans-2813
  prefs: []
  type: TYPE_NORMAL
  zh: 所有参数均为*仅限关键字*。
- en: 'Parameters:'
  id: totrans-2814
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**matrix** (*matrix_like*) – default is [Identity](identity.html#identity).'
  id: totrans-2815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**矩阵**（*类似矩阵*） - 默认为[单位矩阵](identity.html#identity)。'
- en: '**dpi** (*int*) – desired resolution in x and y direction. If not `None`, the
    `"matrix"` parameter is ignored. (New in v1.19.2)'
  id: totrans-2816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**dpi**（*整数*） - x和y方向上的期望分辨率。如果不为`None`，则忽略“matrix”参数。（v1.19.2中新增）'
- en: '**colorspace** (str or [Colorspace](colorspace.html#colorspace)) – The desired
    colorspace, one of “GRAY”, “RGB” or “CMYK” (case insensitive). Or specify a [Colorspace](colorspace.html#colorspace),
    ie. one of the predefined ones: [`csGRAY`](vars.html#csGRAY "csGRAY"), [`csRGB`](vars.html#csRGB
    "csRGB") or [`csCMYK`](vars.html#csCMYK "csCMYK").'
  id: totrans-2817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colorspace**（字符串或[颜色空间](colorspace.html#colorspace)） - 所需的颜色空间之一：“GRAY”、“RGB”或“CMYK”（大小写不敏感）。或指定一个[颜色空间](colorspace.html#colorspace)，例如预定义的之一：[`csGRAY`](vars.html#csGRAY
    "csGRAY")、[`csRGB`](vars.html#csRGB "csRGB")或[`csCMYK`](vars.html#csCMYK "csCMYK")。'
- en: '**clip** (*irect_like*) – restrict rendering to the intersection of this area
    with the page’s rectangle.'
  id: totrans-2818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*irect_like*) – 限制渲染到此区域与页面矩形的交集。'
- en: '**alpha** (*bool*) –'
  id: totrans-2819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*bool*) –'
- en: 'whether to add an alpha channel. Always accept the default *False* if you do
    not really need transparency. This will save a lot of memory (25% in case of RGB
    … and pixmaps are typically **large**!), and also processing time. Also note an
    **important difference** in how the image will be rendered: with *True* the pixmap’s
    samples area will be pre-cleared with *0x00*. This results in **transparent**
    areas where the page is empty. With *False* the pixmap’s samples will be pre-cleared
    with *0xff*. This results in **white** where the page has nothing to show.'
  id: totrans-2820
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否添加 alpha 通道。如果你不真正需要透明度，请始终接受默认值*False*。这将节省大量内存（RGB的情况下约25%……像素图通常**很大**！），同时也节省处理时间。还要注意图片渲染的一个**重要差异**：使用*True*时，像素图的样本区域将被预先清除为*0x00*，这导致页面空白处为**透明**。使用*False*时，像素图的样本将被预先清除为*0xff*，这导致页面空白处为**白色**。
- en: <details><summary>Show/hide history</summary></details> Changed in v1.14.17
  id: totrans-2821
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> 在 v1.14.17 版中更改
- en: The default alpha value is now *False*.
  id: totrans-2822
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认 alpha 值现在为*False*。
- en: Generated with *alpha=True*
  id: totrans-2823
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用*alpha=True*
- en: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
  id: totrans-2824
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-1.png](../Images/6ae43b36c653da1ab3dd60b092c78b1f.png)'
- en: Generated with *alpha=False*
  id: totrans-2825
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成时使用*alpha=False*
- en: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
  id: totrans-2826
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![_images/img-alpha-0.png](../Images/564ef406b4bef3b8920dcfb41f6b0ec5.png)'
- en: '**annots** (*bool*) – *(new in version 1.16.0)* whether to also render annotations
    or to suppress them. You can create pixmaps for annotations separately.'
  id: totrans-2827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**annots** (*bool*) – *(自 1.16.0 版起新增)* 是否也渲染注释或抑制它们。你可以单独为注释创建像素图。'
- en: 'Return type:'
  id: totrans-2828
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Pixmap](pixmap.html#pixmap)'
  id: totrans-2829
  prefs: []
  type: TYPE_NORMAL
  zh: '[Pixmap](pixmap.html#pixmap)'
- en: 'Returns:'
  id: totrans-2830
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'Pixmap of the page. For fine-controlling the generated image, the by far most
    important parameter is **matrix**. E.g. you can increase or decrease the image
    resolution by using **Matrix(xzoom, yzoom)**. If zoom > 1, you will get a higher
    resolution: zoom=2 will double the number of pixels in that direction and thus
    generate a 2 times larger image. Non-positive values will flip horizontally, resp.
    vertically. Similarly, matrices also let you rotate or shear, and you can combine
    effects via e.g. matrix multiplication. See the [Matrix](matrix.html#matrix) section
    to learn more.  Note'
  id: totrans-2831
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的像素图。对于精确控制生成图像，迄今为止最重要的参数是**matrix**。例如，你可以通过使用**Matrix(xzoom, yzoom)**来增加或减少图像分辨率。如果
    zoom > 1，你将获得更高的分辨率：zoom=2 将在该方向上增加两倍的像素数，从而生成一个2倍大的图像。非正值将水平翻转或垂直翻转。类似地，矩阵还允许你旋转或剪切，并且你可以通过矩阵乘法组合效果。查看[Matrix](matrix.html#matrix)部分以了解更多信息。请注意
- en: The pixmap will have *“premultiplied”* pixels if `alpha=True`. To learn about
    some background, e.g. look for “Premultiplied alpha” [here](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P).
  id: totrans-2832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `alpha=True`，像素图将具有*“预乘”*像素。要了解一些背景，例如查找“预乘 alpha”[这里](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P)。
- en: 'The method will respect any page rotation and will not exceed the intersection
    of `clip` and [`Page.cropbox`](#Page.cropbox "Page.cropbox"). If you need the
    page’s mediabox (and if this is a different rectangle), you can use a snippet
    like the following to achieve this:'
  id: totrans-2833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该方法将尊重任何页面旋转，并不会超出`clip`与[`Page.cropbox`](#Page.cropbox "Page.cropbox")的交集。如果需要页面的媒体框（如果这是一个不同的矩形），可以使用以下代码段来实现：
- en: '[PRE279]'
  id: totrans-2834
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE279]'
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.19.2:
    added support of parameter dpi.'
  id: totrans-2835
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.19.2 版中更改：添加了对参数 dpi
    的支持。
- en: '[PRE280]'
  id: totrans-2836
  prefs: []
  type: TYPE_PRE
  zh: '[PRE280]'
- en: 'PDF only: return a list of the names of annotations, widgets and links. Technically,
    these are the */NM* values of every PDF object found in the page’s */Annots* array.'
  id: totrans-2837
  prefs: []
  type: TYPE_NORMAL
  zh: 只返回PDF：列出注释、小部件和链接的名称列表。从技术上讲，这些是页面 */Annots* 数组中每个PDF对象的 */NM* 值。
- en: 'Return type:'
  id: totrans-2838
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2839
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.10
  id: totrans-2840
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.10
- en: '[PRE281]'
  id: totrans-2841
  prefs: []
  type: TYPE_PRE
  zh: '[PRE281]'
- en: 'PDF only: return a list of the :data`xref` numbers of annotations, widgets
    and links – technically of all entries found in the page’s */Annots* array.'
  id: totrans-2842
  prefs: []
  type: TYPE_NORMAL
  zh: 只返回PDF：返回注释、小部件和链接的 :data`xref` 数字列表 – 从技术上讲是在页面的 */Annots* 数组中找到的所有条目。
- en: 'Return type:'
  id: totrans-2843
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2844
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-2845
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a list of items *(xref, type)* where type is the annotation type. Use the type
    to tell apart links, fields and annotations, see [Annotation Types](vars.html#annotationtypes).
  id: totrans-2846
  prefs: []
  type: TYPE_NORMAL
  zh: 一个项目列表*(xref，type)*其中type是注释类型。使用类型来区分链接、字段和注释，请参见[注释类型](vars.html#annotationtypes)。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-2847
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自v1.17.1新增
- en: '[PRE282]'
  id: totrans-2848
  prefs: []
  type: TYPE_PRE
  zh: '[PRE282]'
- en: 'PDF only: return the annotation identified by *ident*. This may be its unique
    name (PDF `/NM` key), or its [`xref`](glossary.html#xref "xref").'
  id: totrans-2849
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回由*ident*标识的注释。这可以是其唯一名称（PDF `/NM`键）或其[`xref`](glossary.html#xref "xref")。
- en: 'Parameters:'
  id: totrans-2850
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**ident** (*str**,**int*) – the annotation name or xref.'
  id: totrans-2851
  prefs: []
  type: TYPE_NORMAL
  zh: '**ident**（*str，int*）– 注释名称或xref。'
- en: 'Return type:'
  id: totrans-2852
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-2853
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: 'Returns:'
  id: totrans-2854
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the annotation or *None*.
  id: totrans-2855
  prefs: []
  type: TYPE_NORMAL
  zh: 注释或*None*。
- en: Note
  id: totrans-2856
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Methods [`Page.annot_names()`](#Page.annot_names "Page.annot_names"), [`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs") provide lists of names or xrefs, respectively, from where
    an item may be picked and loaded via this method.
  id: totrans-2857
  prefs: []
  type: TYPE_NORMAL
  zh: 方法[`Page.annot_names()`](#Page.annot_names "Page.annot_names")、[`Page.annot_xrefs()`](#Page.annot_xrefs
    "Page.annot_xrefs")提供名称或xrefs列表，从中可以选择项目并通过此方法加载。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.17.1
  id: totrans-2858
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自v1.17.1新增
- en: '[PRE283]'
  id: totrans-2859
  prefs: []
  type: TYPE_PRE
  zh: '[PRE283]'
- en: 'PDF only: return the field identified by *xref*.'
  id: totrans-2860
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：返回由*xref*标识的字段。
- en: 'Parameters:'
  id: totrans-2861
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xref** (*int*) – the field’s xref.'
  id: totrans-2862
  prefs: []
  type: TYPE_NORMAL
  zh: '**xref**（*int*）– 字段的xref。'
- en: 'Return type:'
  id: totrans-2863
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-2864
  prefs: []
  type: TYPE_NORMAL
  zh: '[小部件](widget.html#widget)'
- en: 'Returns:'
  id: totrans-2865
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: the field or *None*.
  id: totrans-2866
  prefs: []
  type: TYPE_NORMAL
  zh: 字段或*None*。
- en: Note
  id: totrans-2867
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This is similar to the analogous method [`Page.load_annot()`](#Page.load_annot
    "Page.load_annot") – except that here only the xref is supported as identifier.
  id: totrans-2868
  prefs: []
  type: TYPE_NORMAL
  zh: 这类似于类似方法[`Page.load_annot()`](#Page.load_annot "Page.load_annot")，只是这里仅支持xref作为标识符。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.6
  id: totrans-2869
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   自v1.19.6新增
- en: '[PRE284]'
  id: totrans-2870
  prefs: []
  type: TYPE_PRE
  zh: '[PRE284]'
- en: Return the first link on a page. Synonym of property [`first_link`](#Page.first_link
    "Page.first_link").
  id: totrans-2871
  prefs: []
  type: TYPE_NORMAL
  zh: 返回页面上的第一个链接。与属性[`first_link`](#Page.first_link "Page.first_link")同义。
- en: 'Return type:'
  id: totrans-2872
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Link](link.html#link)'
  id: totrans-2873
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: 'Returns:'
  id: totrans-2874
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: first link on the page (or *None*).
  id: totrans-2875
  prefs: []
  type: TYPE_NORMAL
  zh: 页面上的第一个链接（或*None*）。
- en: '[PRE285]'
  id: totrans-2876
  prefs: []
  type: TYPE_PRE
  zh: '[PRE285]'
- en: 'PDF only: Set the rotation of the page.'
  id: totrans-2877
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：设置页面的旋转。
- en: 'Parameters:'
  id: totrans-2878
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rotate** (*int*) – An integer specifying the required rotation in degrees.
    Must be an integer multiple of 90\. Values will be converted to one of 0, 90,
    180, 270.'
  id: totrans-2879
  prefs: []
  type: TYPE_NORMAL
  zh: '**rotate**（*int*）– 指定所需旋转角度的整数。必须是90的整数倍。值将转换为0、90、180、270中的一个。'
- en: '[PRE286]'
  id: totrans-2880
  prefs: []
  type: TYPE_PRE
  zh: '[PRE286]'
- en: 'PDF only: Set page rotation to 0 while maintaining appearance and page content.'
  id: totrans-2881
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：将页面旋转为0，同时保持外观和页面内容。
- en: 'Returns:'
  id: totrans-2882
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: The inverted matrix used to achieve this change. If the page was not rotated
    (rotation 0), [Identity](identity.html#identity) is returned. The method automatically
    recomputes the rectangles of any annotations, links and widgets present on the
    page.
  id: totrans-2883
  prefs: []
  type: TYPE_NORMAL
  zh: 用于实现此更改的反转矩阵。如果页面未旋转（旋转0），则返回[Identity](identity.html#identity)。该方法自动重新计算页面上存在的任何注释、链接和小部件的矩形。
- en: This method may come in handy when e.g. used with [`Page.show_pdf_page()`](#Page.show_pdf_page
    "Page.show_pdf_page").
  id: totrans-2884
  prefs: []
  type: TYPE_NORMAL
  zh: 当例如与[`Page.show_pdf_page()`](#Page.show_pdf_page "Page.show_pdf_page")一起使用时，此方法可能会很方便。
- en: '[PRE287]'
  id: totrans-2885
  prefs: []
  type: TYPE_PRE
  zh: '[PRE287]'
- en: 'PDF only: Display a page of another PDF as a **vector image** (otherwise similar
    to [`Page.insert_image()`](#Page.insert_image "Page.insert_image")). This is a
    multi-purpose method. For example, you can use it to'
  id: totrans-2886
  prefs: []
  type: TYPE_NORMAL
  zh: 仅适用于PDF：显示另一个PDF页面的**矢量图像**（否则类似于[`Page.insert_image()`](#Page.insert_image
    "Page.insert_image")）。这是一种多用途方法。例如，您可以使用它来
- en: create “n-up” versions of existing PDF files, combining several input pages
    into **one output page** (see example [combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)),
  id: totrans-2887
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建现有PDF文件的“n-up”版本，将几个输入页面合并为**一个输出页面**（参见示例[combine.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/combine-pages/combine.py)），
- en: create “posterized” PDF files, i.e. every input page is split up in parts which
    each create a separate output page (see [posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)),
  id: totrans-2888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建“海报化”PDF文件，即每个输入页面分割为多个部分，每个部分创建一个单独的输出页面（参见[posterize.py](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/posterize-document/posterize.py)），
- en: include PDF-based vector images like company logos, watermarks, etc., see [svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py),
    which puts an SVG-based logo on each page (requires additional packages to deal
    with SVG-to-PDF conversions).
  id: totrans-2889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括基于 PDF 的矢量图像，如公司标志、水印等，请参见 [svg-logo.py](https://github.com/pymupdf/PyMuPDF-Utilities/tree/master/examples/svg-logo.py)，该脚本在每一页上放置一个基于
    SVG 的标志（需要额外的软件包处理 SVG 到 PDF 的转换）。
- en: 'Parameters:'
  id: totrans-2890
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**rect** (*rect_like*) – where to place the image on current page. Must be
    finite and its intersection with the page must not be empty.'
  id: totrans-2891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rect** (*rect_like*) – 图像在当前页面上的放置位置。必须是有限的，并且其与页面的交集不能为空。'
- en: '**docsrc** ([Document](document.html#document)) – source PDF document containing
    the page. Must be a different document object, but may be the same file.'
  id: totrans-2892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**docsrc** ([Document](document.html#document)) – 包含页面的源 PDF 文档。必须是不同的文档对象，但可以是同一个文件。'
- en: '**pno** (*int*) – page number (0-based, in `-∞ < pno < docsrc.page_count`)
    to be shown.'
  id: totrans-2893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pno** (*int*) – 要显示的页面编号（从0开始，位于 `-∞ < pno < docsrc.page_count`）。'
- en: '**keep_proportion** (*bool*) – whether to maintain the width-height-ratio (default).
    If false, all 4 corners are always positioned on the border of the target rectangle
    – whatever the rotation value. In general, this will deliver distorted and /or
    non-rectangular images.'
  id: totrans-2894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**keep_proportion** (*bool*) – 是否保持宽高比（默认）。如果为false，则所有4个角始终位于目标矩形的边界上，无论旋转值如何。通常情况下，这将导致失真和/或非矩形图像。'
- en: '**overlay** (*bool*) – put image in foreground (default) or background.'
  id: totrans-2895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**overlay** (*bool*) – 将图像放置在前景（默认）或背景中。'
- en: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) make visibility dependent
    on this [`OCG`](glossary.html#OCG "OCG") / [`OCMD`](glossary.html#OCMD "OCMD")
    (which must be defined in the target PDF) [[9]](#f9). (New in v1.18.3)'
  id: totrans-2896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**oc** (*int*) – ([`xref`](glossary.html#xref "xref")) 使可见性依赖于此 [`OCG`](glossary.html#OCG
    "OCG") / [`OCMD`](glossary.html#OCMD "OCMD")（必须在目标 PDF 中定义）[[9]](#f9)。（v1.18.3
    版本新增）'
- en: '**rotate** (*float*) – show the source rectangle rotated by some angle. Any
    angle is supported (changed in v1.14.11). (New in v1.14.10)'
  id: totrans-2897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**rotate** (*float*) – 显示经过某个角度旋转的源矩形。支持任何角度（v1.14.11 版本更改）。（v1.14.10 版本新增）'
- en: '**clip** (*rect_like*) – choose which part of the source page to show. Default
    is the full page, else must be finite and its intersection with the source page
    must not be empty.'
  id: totrans-2898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*rect_like*) – 选择要显示的源页面的哪个部分。默认为整页，否则必须是有限的，并且其与源页面的交集不能为空。'
- en: Note
  id: totrans-2899
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In contrast to method [`Document.insert_pdf()`](document.html#Document.insert_pdf
    "Document.insert_pdf"), this method does not copy annotations, widgets or links,
    so these are not included in the target [[6]](#f6). But all its **other resources
    (text, images, fonts, etc.)** will be imported into the current PDF. They will
    therefore appear in text extractions and in [`get_fonts()`](#Page.get_fonts "Page.get_fonts")
    and [`get_images()`](#Page.get_images "Page.get_images") lists – even if they
    are not contained in the visible area given by *clip*.
  id: totrans-2900
  prefs: []
  type: TYPE_NORMAL
  zh: 与方法 [`Document.insert_pdf()`](document.html#Document.insert_pdf "Document.insert_pdf")
    相比，此方法不复制注释、小部件或链接，因此这些内容不包括在目标 [[6]](#f6) 中。但其它所有资源（文本、图像、字体等）将被导入当前 PDF 中。因此，它们将出现在文本提取中，以及在
    [`get_fonts()`](#Page.get_fonts "Page.get_fonts") 和 [`get_images()`](#Page.get_images
    "Page.get_images") 列表中，即使它们不包含在由 *clip* 给出的可见区域内。
- en: 'Example: Show the same source page, rotated by 90 and by -90 degrees:'
  id: totrans-2901
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：显示相同源页面，分别旋转90度和-90度：
- en: '[PRE288]'
  id: totrans-2902
  prefs: []
  type: TYPE_PRE
  zh: '[PRE288]'
- en: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>Show/hide
    history</summary></details> *   Changed in v1.14.11: Parameter *reuse_xref* has
    been deprecated. Position the source rectangle centered in target rectangle. Any
    rotation angle is now supported.'
  id: totrans-2903
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-showpdfpage.jpg](../Images/091955c9c70806604901ed00530bea58.png)](_images/img-showpdfpage.jpg)<details><summary>显示/隐藏历史记录</summary></details>
    *   从 v1.14.11 版本开始更改：参数 *reuse_xref* 已被弃用。现在支持将源矩形居中放置在目标矩形中，任何旋转角度均支持。'
- en: 'Changed in v1.18.3: New parameter `oc`.'
  id: totrans-2904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 v1.18.3 版本开始更改：新参数 `oc`。
- en: '[PRE289]'
  id: totrans-2905
  prefs: []
  type: TYPE_PRE
  zh: '[PRE289]'
- en: 'PDF only: Create a new [Shape](shape.html#shape) object for the page.'
  id: totrans-2906
  prefs: []
  type: TYPE_NORMAL
  zh: 仅限于 PDF：为页面创建一个新的 [Shape](shape.html#shape) 对象。
- en: 'Return type:'
  id: totrans-2907
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Shape](shape.html#shape)'
  id: totrans-2908
  prefs: []
  type: TYPE_NORMAL
  zh: '[Shape](shape.html#shape)'
- en: 'Returns:'
  id: totrans-2909
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: a new [Shape](shape.html#shape) to use for compound drawings. See description
    there.
  id: totrans-2910
  prefs: []
  type: TYPE_NORMAL
  zh: 用于复合图形绘制的新 [Shape](shape.html#shape)。请参阅那里的描述。
- en: '[PRE290]'
  id: totrans-2911
  prefs: []
  type: TYPE_PRE
  zh: '[PRE290]'
- en: Search for *needle* on a page. Wrapper for [`TextPage.search()`](textpage.html#TextPage.search
    "TextPage.search").
  id: totrans-2912
  prefs: []
  type: TYPE_NORMAL
  zh: 在页面上搜索 *needle*。[`TextPage.search()`](textpage.html#TextPage.search "TextPage.search")
    的包装器。
- en: 'Parameters:'
  id: totrans-2913
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**needle** (*str*) – Text to search for. May contain spaces. Upper / lower
    case is ignored, but only works for ASCII characters: For example, “COMPÉTENCES”
    will not be found if needle is “compétences” – “compÉtences” however will. Similar
    is true for German umlauts and the like.'
  id: totrans-2914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**needle**（*str*）- 要搜索的文本。 可能包含空格。 大小写不敏感，但仅适用于ASCII字符：例如，如果needle是“compétences”，则不会找到“COMPÉTENCES”
    - 但如果是“compÉtences”，则会找到。 对于德语的umlauts等情况也是如此。'
- en: '**clip** (*rect_like*) – only search within this area. (New in v1.18.2)'
  id: totrans-2915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*）- 仅在此区域内搜索。 （在 v1.18.2 中新增）'
- en: '**quads** (*bool*) – Return object type [Quad](quad.html#quad) instead of [Rect](rect.html#rect).'
  id: totrans-2916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quads**（*bool*）- 返回对象类型[Quad](quad.html#quad)而不是[Rect](rect.html#rect)。'
- en: '**flags** (*int*) – Control the data extracted by the underlying [TextPage](textpage.html#textpage).
    By default, ligatures and white spaces are kept, and hyphenation [[8]](#f8) is
    detected.'
  id: totrans-2917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**flags**（*int*）- 控制底层[TextPage](textpage.html#textpage)提取的数据。 默认情况下，保留连字和空格，并检测连字符[[8]](#f8)。'
- en: '**textpage** – use a previously created [TextPage](textpage.html#textpage).
    This reduces execution time **significantly.** If specified, the ‘flags’ and ‘clip’
    arguments are ignored. If omitted, a temporary textpage will be created. (New
    in v1.19.0)'
  id: totrans-2918
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**textpage** - 使用先前创建的[TextPage](textpage.html#textpage)。 这将显著减少执行时间。 如果指定，则“flags”和“clip”参数将被忽略。
    如果省略，则将创建一个临时textpage。 （在 v1.19.0 中新增）'
- en: 'Return type:'
  id: totrans-2919
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: list
  id: totrans-2920
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-2921
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A list of [Rect](rect.html#rect) or [Quad](quad.html#quad) objects, each of
    which – **normally!** – surrounds one occurrence of *needle*. **However:** if
    parts of *needle* occur on more than one line, then a separate item is generated
    for each these parts. So, if `needle = "search string"`, two rectangles may be
    generated.
  id: totrans-2922
  prefs: []
  type: TYPE_NORMAL
  zh: 一个包含[Rect](rect.html#rect)或[Quad](quad.html#quad)对象的列表，每个对象**通常！**周围包围一个*needle*的实例。**然而：**如果*needle*的部分出现在多行上，则会为每个部分生成一个单独的项目。因此，如果`needle
    = "search string"`，可能会生成两个矩形。
- en: '<details><summary>Show/hide history</summary></details> Changes in v1.18.2:'
  id: totrans-2923
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> 在 v1.18.2 中的更改：
- en: There no longer is a limit on the list length (removal of the `hit_max` parameter).
  id: totrans-2924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在不再限制列表长度（删除了`hit_max`参数）。
- en: 'If a word is **hyphenated** at a line break, it will still be found. E.g. the
    needle “method” will be found even if hyphenated as “meth-od” at a line break,
    and two rectangles will be returned: one surrounding “meth” (without the hyphen)
    and another one surrounding “od”.'
  id: totrans-2925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个单词在换行处被**连字符化**，它仍然会被找到。 例如。 如果将“method”作为“meth-od”连字符化在换行处，则会找到它，并返回两个矩形：一个围绕“meth”（没有连字符），另一个围绕“od”。
- en: Note
  id: totrans-2926
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The method supports multi-line text marker annotations: you can use the full
    returned list as **one single** parameter for creating the annotation.'
  id: totrans-2927
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法支持多行文本标记注释：您可以将完整的返回列表用作**一个单一的**参数来创建注释。
- en: Caution
  id: totrans-2928
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'There is a tricky aspect: the search logic regards **contiguous multiple occurrences**
    of *needle* as one: assuming *needle* is “abc”, and the page contains “abc” and
    “abcabc”, then only **two** rectangles will be returned, one for “abc”, and a
    second one for “abcabc”.'
  id: totrans-2929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有一个棘手的方面：搜索逻辑将*needle*的**连续多次出现**视为一个：假设*needle*是“abc”，页面包含“abc”和“abcabc”，那么只会返回**两个**矩形，一个用于“abc”，另一个用于“abcabc”。
- en: You can always use [`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")
    to check what text actually is being surrounded by each rectangle.
  id: totrans-2930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以随时使用[`Page.get_textbox()`](#Page.get_textbox "Page.get_textbox")来检查每个矩形周围实际包围的文本。
- en: Note
  id: totrans-2931
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'A feature repeatedly asked for is supporting **regular expressions** when specifying
    the `"needle"` string: **There is no way to do this.** If you need something in
    that direction, first extract text in the desired format and then subselect the
    result by matching with some regex pattern. Here is an example for matching words:'
  id: totrans-2932
  prefs: []
  type: TYPE_NORMAL
  zh: 支持**正则表达式**的一个棘手的方面是指定“needle”字符串时将**无法实现**：如果您需要沿着这个方向进行操作，请首先提取所需格式的文本，然后通过与一些正则表达式模式匹配来选择结果。
    以下是匹配单词的示例：
- en: '[PRE291]'
  id: totrans-2933
  prefs: []
  type: TYPE_PRE
  zh: '[PRE291]'
- en: The `matches` list will contain the words matching the given pattern. In the
    same way you can select `span["text"]` from the output of `page.get_text("dict")`.
  id: totrans-2934
  prefs: []
  type: TYPE_NORMAL
  zh: '`matches`列表将包含与给定模式匹配的单词。 以同样的方式，您可以从`page.get_text("dict")`的输出中选择`span["text"]`。'
- en: '<details><summary>Show/hide history</summary></details> *   Changed in v1.18.2:
    added `clip` parameter. Remove `hit_max` parameter. Add default “dehyphenate”.'
  id: totrans-2935
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   在 v1.18.2 中更改：添加`clip`参数。
    删除`hit_max`参数。 添加默认的“去连字化”。
- en: 'Changed in v1.19.0: added [TextPage](textpage.html) parameter.'
  id: totrans-2936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.0 中更改：添加[TextPage](textpage.html)参数。
- en: '[PRE292]'
  id: totrans-2937
  prefs: []
  type: TYPE_PRE
  zh: '[PRE292]'
- en: 'PDF only: Change the physical page dimension by setting [`mediabox`](#Page.mediabox
    "Page.mediabox") in the page’s object definition.'
  id: totrans-2938
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：通过在页面对象定义中设置[`mediabox`](#Page.mediabox "Page.mediabox")来更改物理页面尺寸。
- en: 'Parameters:'
  id: totrans-2939
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect-like*) – the new [`mediabox`](#Page.mediabox "Page.mediabox")
    value.'
  id: totrans-2940
  prefs: []
  type: TYPE_NORMAL
  zh: '**r**（*rect-like*）– 新的[`mediabox`](#Page.mediabox "Page.mediabox")值。'
- en: Note
  id: totrans-2941
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method also removes the page’s other (optional) rectangles ([`cropbox`](#Page.cropbox
    "Page.cropbox"), ArtBox, TrimBox and Bleedbox) to prevent inconsistent situations.
    This will cause those to assume their default values.
  id: totrans-2942
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法还会删除页面的其他（可选）矩形（[`cropbox`](#Page.cropbox "Page.cropbox")、ArtBox、TrimBox
    和 Bleedbox），以防止出现不一致的情况。这将导致它们采用默认值。
- en: Caution
  id: totrans-2943
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For non-empty pages this may have undesired effects, because the location of
    all content depends on this value and will therefore change position or even disappear.
  id: totrans-2944
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非空页面，这可能会产生不良影响，因为所有内容的位置都取决于此值，因此位置可能会改变，甚至会消失。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.16.13
  id: totrans-2945
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.16.13
- en: 'Changed in v1.19.4: remove all other rectangle definitions.'
  id: totrans-2946
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.19.4 中更改：删除所有其他矩形定义。
- en: '[PRE293]'
  id: totrans-2947
  prefs: []
  type: TYPE_PRE
  zh: '[PRE293]'
- en: 'PDF only: change the visible part of the page.'
  id: totrans-2948
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：更改页面的可见部分。
- en: 'Parameters:'
  id: totrans-2949
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**r** (*rect_like*) – the new visible area of the page. Note that this **must**
    be specified in **unrotated coordinates**, not empty, nor infinite and be completely
    contained in the [`Page.mediabox`](#Page.mediabox "Page.mediabox").'
  id: totrans-2950
  prefs: []
  type: TYPE_NORMAL
  zh: '**r**（*rect_like*）– 页面的新可见区域。注意，这必须在**未旋转的坐标**中指定，不能为空，也不能无限大，并且完全包含在[`Page.mediabox`](#Page.mediabox
    "Page.mediabox")中。'
- en: 'After execution **(if the page is not rotated)**, [`Page.rect`](#Page.rect
    "Page.rect") will equal this rectangle, but be shifted to the top-left position
    (0, 0) if necessary. Example session:'
  id: totrans-2951
  prefs: []
  type: TYPE_NORMAL
  zh: 执行后 **（如果页面未旋转）**，[`Page.rect`](#Page.rect "Page.rect") 将等于此矩形，但如果必要的话会被移动到左上角位置
    (0, 0)。示例会话：
- en: '[PRE294]'
  id: totrans-2952
  prefs: []
  type: TYPE_PRE
  zh: '[PRE294]'
- en: '[PRE295]'
  id: totrans-2953
  prefs: []
  type: TYPE_PRE
  zh: '[PRE295]'
- en: '[PRE296]'
  id: totrans-2954
  prefs: []
  type: TYPE_PRE
  zh: '[PRE296]'
- en: '[PRE297]'
  id: totrans-2955
  prefs: []
  type: TYPE_PRE
  zh: '[PRE297]'
- en: 'PDF only: Set the resp. rectangle in the page object. For the meaning of these
    objects see [Adobe PDF References](app3.html#adobemanual), page 77\. Parameter
    and restrictions are the same as for [`Page.set_cropbox()`](#Page.set_cropbox
    "Page.set_cropbox").'
  id: totrans-2956
  prefs: []
  type: TYPE_NORMAL
  zh: 仅 PDF：在页面对象中设置相应的矩形。有关这些对象的含义，请参阅[Adobe PDF 参考](app3.html#adobemanual)，第 77
    页。参数和限制与[`Page.set_cropbox()`](#Page.set_cropbox "Page.set_cropbox")相同。
- en: <details><summary>Show/hide history</summary></details> *   New in v1.19.4
  id: totrans-2957
  prefs: []
  type: TYPE_NORMAL
  zh: <details><summary>显示/隐藏历史记录</summary></details> *   新增于 v1.19.4
- en: '[PRE298]'
  id: totrans-2958
  prefs: []
  type: TYPE_PRE
  zh: '[PRE298]'
- en: 'Contains the rotation of the page in degrees (always 0 for non-PDF types).
    This is a copy of the value in the PDF file. The PDF documentation says:'
  id: totrans-2959
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面旋转的度数（非 PDF 类型始终为 0）。这是 PDF 文件中的值的副本。PDF 文档中写道：
- en: '*“The number of degrees by which the page should be rotated clockwise when
    displayed or printed. The value must be a multiple of 90\. Default value: 0.”*'
  id: totrans-2960
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*“显示或打印时应顺时针旋转页面的度数。该值必须是 90 的倍数。默认值：0。”*'
- en: ''
  id: totrans-2961
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In PyMuPDF, we make sure that this attribute is always one of 0, 90, 180 or
    270.
  id: totrans-2962
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 PyMuPDF 中，我们确保此属性始终为 0、90、180 或 270 中的一个。
- en: 'Type:'
  id: totrans-2963
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-2964
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE299]'
  id: totrans-2965
  prefs: []
  type: TYPE_PRE
  zh: '[PRE299]'
- en: Contains the top-left point of the page’s `/CropBox` for a PDF, otherwise *Point(0,
    0)*.
  id: totrans-2966
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 PDF 的页面`/CropBox`的左上角点，否则为*Point(0, 0)*。
- en: 'Type:'
  id: totrans-2967
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-2968
  prefs: []
  type: TYPE_NORMAL
  zh: '[Point](point.html#point)'
- en: '[PRE300]'
  id: totrans-2969
  prefs: []
  type: TYPE_PRE
  zh: '[PRE300]'
- en: The page’s `/CropBox` for a PDF. Always the **unrotated** page rectangle is
    returned. For a non-PDF this will always equal the page rectangle.
  id: totrans-2970
  prefs: []
  type: TYPE_NORMAL
  zh: PDF 的页面`/CropBox`。始终返回**未旋转**的页面矩形。对于非 PDF，这将始终等于页面矩形。
- en: Note
  id: totrans-2971
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In PDF, the relationship between `/MediaBox`, `/CropBox` and page rectangle
    may sometimes be confusing, please do lookup the glossary for [`MediaBox`](glossary.html#MediaBox
    "MediaBox").
  id: totrans-2972
  prefs: []
  type: TYPE_NORMAL
  zh: 在 PDF 中，`/MediaBox`、`/CropBox` 和页面矩形之间的关系有时可能会令人困惑，请查阅[`MediaBox`](glossary.html#MediaBox
    "MediaBox")词汇表。
- en: 'Type:'
  id: totrans-2973
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2974
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE301]'
  id: totrans-2975
  prefs: []
  type: TYPE_PRE
  zh: '[PRE301]'
- en: '[PRE302]'
  id: totrans-2976
  prefs: []
  type: TYPE_PRE
  zh: '[PRE302]'
- en: '[PRE303]'
  id: totrans-2977
  prefs: []
  type: TYPE_PRE
  zh: '[PRE303]'
- en: The page’s `/ArtBox`, `/BleedBox`, `/TrimBox`, respectively. If not provided,
    defaulting to [`Page.cropbox`](#Page.cropbox "Page.cropbox").
  id: totrans-2978
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的 `/ArtBox`、`/BleedBox`、`/TrimBox`。如果未提供，默认为[`Page.cropbox`](#Page.cropbox
    "Page.cropbox")。
- en: 'Type:'
  id: totrans-2979
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2980
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: '[PRE304]'
  id: totrans-2981
  prefs: []
  type: TYPE_PRE
  zh: '[PRE304]'
- en: Contains the width and height of the page’s [`Page.mediabox`](#Page.mediabox
    "Page.mediabox") for a PDF, otherwise the bottom-right coordinates of [`Page.rect`](#Page.rect
    "Page.rect").
  id: totrans-2982
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的[`Page.mediabox`](#Page.mediabox "Page.mediabox")的宽度和高度，否则为[`Page.rect`](#Page.rect
    "Page.rect")的右下坐标。
- en: 'Type:'
  id: totrans-2983
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Point](point.html#point)'
  id: totrans-2984
  prefs: []
  type: TYPE_NORMAL
  zh: '[Point](point.html#point)'
- en: '[PRE305]'
  id: totrans-2985
  prefs: []
  type: TYPE_PRE
  zh: '[PRE305]'
- en: The page’s [`mediabox`](#Page.mediabox "Page.mediabox") for a PDF, otherwise
    [`Page.rect`](#Page.rect "Page.rect").
  id: totrans-2986
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 PDF，页面的[`mediabox`](#Page.mediabox "Page.mediabox")，否则[`Page.rect`](#Page.rect
    "Page.rect")。
- en: 'Type:'
  id: totrans-2987
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-2988
  prefs: []
  type: TYPE_NORMAL
  zh: '[Rect](rect.html#rect)'
- en: Note
  id: totrans-2989
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For most PDF documents and for **all other document types**, `page.rect == page.cropbox
    == page.mediabox` is true. However, for some PDFs the visible page is a true subset
    of [`mediabox`](#Page.mediabox "Page.mediabox"). Also, if the page is rotated,
    its [`Page.rect`](#Page.rect "Page.rect") may not equal [`Page.cropbox`](#Page.cropbox
    "Page.cropbox"). In these cases the above attributes help to correctly locate
    page elements.
  id: totrans-2990
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数PDF文档以及**所有其他文档类型**，`page.rect == page.cropbox == page.mediabox`是正确的。然而，对于某些PDF文档来说，可见页面是[`mediabox`](#Page.mediabox
    "Page.mediabox")的真子集。此外，如果页面被旋转，其[`Page.rect`](#Page.rect "Page.rect")可能与[`Page.cropbox`](#Page.cropbox
    "Page.cropbox")不相等。在这些情况下，上述属性有助于正确定位页面元素。
- en: '[PRE306]'
  id: totrans-2991
  prefs: []
  type: TYPE_PRE
  zh: '[PRE306]'
- en: This matrix translates coordinates from the PDF space to the MuPDF space. For
    example, in PDF `/Rect [x0 y0 x1 y1]` the pair (x0, y0) specifies the **bottom-left**
    point of the rectangle – in contrast to MuPDF’s system, where (x0, y0) specify
    top-left. Multiplying the PDF coordinates with this matrix will deliver the (Py-)
    MuPDF rectangle version. Obviously, the inverse matrix will again yield the PDF
    rectangle.
  id: totrans-2992
  prefs: []
  type: TYPE_NORMAL
  zh: 此矩阵将PDF空间中的坐标转换为MuPDF空间中的坐标。例如，在PDF中`/Rect [x0 y0 x1 y1]`，对(x0, y0)对应矩形的**左下角**点
    - 与MuPDF系统相反，MuPDF中的(x0, y0)指定左上角。将PDF坐标乘以此矩阵将得到(Py-) MuPDF矩形版本。显然，反向矩阵再次将产生PDF矩形。
- en: 'Type:'
  id: totrans-2993
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-2994
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE307]'
  id: totrans-2995
  prefs: []
  type: TYPE_PRE
  zh: '[PRE307]'
- en: '[PRE308]'
  id: totrans-2996
  prefs: []
  type: TYPE_PRE
  zh: '[PRE308]'
- en: 'These matrices may be used for dealing with rotated PDF pages. When adding
    / inserting anything to a PDF page, the coordinates of the **unrotated** page
    are always used. These matrices help translating between the two states. Example:
    if a page is rotated by 90 degrees – what would then be the coordinates of the
    top-left Point(0, 0) of an A4 page?'
  id: totrans-2997
  prefs: []
  type: TYPE_NORMAL
  zh: 这些矩阵可以用于处理旋转的PDF页面。在向PDF页面添加/插入任何内容时，始终使用未旋转页面的坐标。这些矩阵有助于在两种状态之间进行转换。例如：如果页面旋转了90度，A4页面左上角点(0,
    0)的坐标将是多少？
- en: '[PRE309]'
  id: totrans-2998
  prefs: []
  type: TYPE_PRE
  zh: '[PRE309]'
- en: 'Type:'
  id: totrans-2999
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Matrix](matrix.html#matrix)'
  id: totrans-3000
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩阵](matrix.html#matrix)'
- en: '[PRE310]'
  id: totrans-3001
  prefs: []
  type: TYPE_PRE
  zh: '[PRE310]'
- en: Contains the first [Link](link.html#link) of a page (or *None*).
  id: totrans-3002
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[链接](link.html#link)（或*无*）。
- en: 'Type:'
  id: totrans-3003
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Link](link.html#link)'
  id: totrans-3004
  prefs: []
  type: TYPE_NORMAL
  zh: '[链接](link.html#link)'
- en: '[PRE311]'
  id: totrans-3005
  prefs: []
  type: TYPE_PRE
  zh: '[PRE311]'
- en: Contains the first [Annot](annot.html#annot) of a page (or *None*).
  id: totrans-3006
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[注释](annot.html#annot)（或*无*）。
- en: 'Type:'
  id: totrans-3007
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Annot](annot.html#annot)'
  id: totrans-3008
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释](annot.html#annot)'
- en: '[PRE312]'
  id: totrans-3009
  prefs: []
  type: TYPE_PRE
  zh: '[PRE312]'
- en: Contains the first [Widget](widget.html#widget) of a page (or *None*).
  id: totrans-3010
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的第一个[部件](widget.html#widget)（或*无*）。
- en: 'Type:'
  id: totrans-3011
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Widget](widget.html#widget)'
  id: totrans-3012
  prefs: []
  type: TYPE_NORMAL
  zh: '[部件](widget.html#widget)'
- en: '[PRE313]'
  id: totrans-3013
  prefs: []
  type: TYPE_PRE
  zh: '[PRE313]'
- en: The page number.
  id: totrans-3014
  prefs: []
  type: TYPE_NORMAL
  zh: 页面号码。
- en: 'Type:'
  id: totrans-3015
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-3016
  prefs: []
  type: TYPE_NORMAL
  zh: 整数
- en: '[PRE314]'
  id: totrans-3017
  prefs: []
  type: TYPE_PRE
  zh: '[PRE314]'
- en: The owning document object.
  id: totrans-3018
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有的文档对象。
- en: 'Type:'
  id: totrans-3019
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Document](document.html#document)'
  id: totrans-3020
  prefs: []
  type: TYPE_NORMAL
  zh: '[文档](document.html#document)'
- en: '[PRE315]'
  id: totrans-3021
  prefs: []
  type: TYPE_PRE
  zh: '[PRE315]'
- en: Contains the rectangle of the page. Same as result of [`Page.bound()`](#Page.bound
    "Page.bound").
  id: totrans-3022
  prefs: []
  type: TYPE_NORMAL
  zh: 包含页面的矩形。与[`Page.bound()`](#Page.bound "Page.bound")的结果相同。
- en: 'Type:'
  id: totrans-3023
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-3024
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '[PRE316]'
  id: totrans-3025
  prefs: []
  type: TYPE_PRE
  zh: '[PRE316]'
- en: The page’s PDF [`xref`](glossary.html#xref "xref"). Zero if not a PDF.
  id: totrans-3026
  prefs: []
  type: TYPE_NORMAL
  zh: 页面的PDF [`xref`](glossary.html#xref "xref")。如果不是PDF，则为零。
- en: 'Type:'
  id: totrans-3027
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Rect](rect.html#rect)'
  id: totrans-3028
  prefs: []
  type: TYPE_NORMAL
  zh: '[矩形](rect.html#rect)'
- en: '## Description of *get_links()* Entries'
  id: totrans-3029
  prefs: []
  type: TYPE_NORMAL
  zh: '## *get_links()* 条目描述'
- en: 'Each entry of the [`Page.get_links()`](#Page.get_links "Page.get_links") list
    is a dictionary with the following keys:'
  id: totrans-3030
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Page.get_links()`](#Page.get_links "Page.get_links")列表的每个条目都是一个带有以下键的字典：'
- en: '*kind*: (required) an integer indicating the kind of link. This is one of *LINK_NONE*,
    *LINK_GOTO*, *LINK_GOTOR*, *LINK_LAUNCH*, or *LINK_URI*. For values and meaning
    of these names refer to [Link Destination Kinds](vars.html#linkdest-kinds).'
  id: totrans-3031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*kind*：（必需）指示链接种类的整数。这是*LINK_NONE*、*LINK_GOTO*、*LINK_GOTOR*、*LINK_LAUNCH*或*LINK_URI*中的一个。有关这些名称的值和含义，请参阅[链接目标种类](vars.html#linkdest-kinds)。'
- en: '*from*: (required) a [Rect](rect.html#rect) describing the “hot spot” location
    on the page’s visible representation (where the cursor changes to a hand image,
    usually).'
  id: totrans-3032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*from*：（必需）描述页面可见表示上的“热点”位置的[矩形](rect.html#rect)（光标更改为手形图像的位置，通常为）。'
- en: '*page*: a 0-based integer indicating the destination page. Required for *LINK_GOTO*
    and *LINK_GOTOR*, else ignored.'
  id: totrans-3033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*page*：表示目标页面的基于0的整数。对于*LINK_GOTO*和*LINK_GOTOR*是必需的，否则忽略。'
- en: '*to*: either a *pymupdf.Point*, specifying the destination location on the
    provided page, default is *pymupdf.Point(0, 0)*, or a symbolic (indirect) name.
    If an indirect name is specified, *page = -1* is required and the name must be
    defined in the PDF in order for this to work. Required for *LINK_GOTO* and *LINK_GOTOR*,
    else ignored.'
  id: totrans-3034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*to*：要么是*pymupdf.Point*，指定提供页面上的目标位置，默认是*pymupdf.Point(0, 0)*，要么是符号（间接）名称。如果指定了间接名称，则需要*page
    = -1*，并且PDF中必须定义此名称以使其有效。对于*LINK_GOTO*和*LINK_GOTOR*是必需的，否则忽略。'
- en: '*file*: a string specifying the destination file. Required for *LINK_GOTOR*
    and *LINK_LAUNCH*, else ignored.'
  id: totrans-3035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*file*：指定目标文件的字符串。对于*LINK_GOTOR*和*LINK_LAUNCH*，必须提供，否则将被忽略。'
- en: '*uri*: a string specifying the destination internet resource. Required for
    *LINK_URI*, else ignored. You should make sure to start this string with an unambiguous
    substring, that classifies the subtype of the URL, like `"http://"`, `"https://"`,
    `"file://"`, `"ftp://"`, `"mailto:"`, etc. Otherwise your browser will try to
    interpret the text and come to unwanted / unexpected conclusions about the intended
    URL type.'
  id: totrans-3036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*uri*：指定目标互联网资源的字符串。对于*LINK_URI*，必须提供，否则将被忽略。您应确保此字符串以一个明确的子字符串开头，用于分类URL的子类型，如`"http://"`，`"https://"`，`"file://"`，`"ftp://"`，`"mailto:"`等。否则，您的浏览器会尝试解释文本，并对预期的URL类型产生意外的结论。'
- en: '*xref*: an integer specifying the PDF [`xref`](glossary.html#xref "xref") of
    the link object. Do not change this entry in any way. Required for link deletion
    and update, otherwise ignored. For non-PDF documents, this entry contains *-1*.
    It is also *-1* for **all** entries in the *get_links()* list, if **any** of the
    links is not supported by MuPDF - see [Notes on Supporting Links](#notes-on-supporting-links).'
  id: totrans-3037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*xref*：指定链接对象的PDF [`xref`](glossary.html#xref "xref")的整数。不要以任何方式更改此条目。用于链接删除和更新，否则将被忽略。对于非PDF文档，此条目包含*-1*。对于*get_links()*列表中的所有条目，如果MuPDF不支持其中**任何**链接，则为*-1*
    - 参见[支持链接的注意事项](#notes-on-supporting-links)。'
- en: '## Notes on Supporting Links'
  id: totrans-3038
  prefs: []
  type: TYPE_NORMAL
  zh: '## 支持链接的注意事项'
- en: MuPDF’s support for links has changed in **v1.10a**. These changes affect link
    types [`LINK_GOTO`](vars.html#LINK_GOTO "LINK_GOTO") and [`LINK_GOTOR`](vars.html#LINK_GOTOR
    "LINK_GOTOR").
  id: totrans-3039
  prefs: []
  type: TYPE_NORMAL
  zh: MuPDF在**v1.10a**中对链接的支持发生了变化。这些变化影响到了链接类型[`LINK_GOTO`](vars.html#LINK_GOTO "LINK_GOTO")和[`LINK_GOTOR`](vars.html#LINK_GOTOR
    "LINK_GOTOR")。
- en: Reading (pertains to method *get_links()* and the *first_link* property chain)
  id: totrans-3040
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阅读（涉及*get_links()*方法和*first_link*属性链）
- en: If MuPDF detects a link to another file, it will supply either a *LINK_GOTOR*
    or a *LINK_LAUNCH* link kind. In case of *LINK_GOTOR* destination details may
    either be given as page number (eventually including position information), or
    as an indirect destination.
  id: totrans-3041
  prefs: []
  type: TYPE_NORMAL
  zh: 如果MuPDF检测到指向另一个文件的链接，将提供*LINK_GOTOR*或*LINK_LAUNCH*链接类型。对于*LINK_GOTOR*目标详细信息可以作为页面号（最终包括位置信息）或间接目标给出。
- en: If an indirect destination is given, then this is indicated by *page = -1*,
    and *link.dest.dest* will contain this name. The dictionaries in the *get_links()*
    list will contain this information as the *to* value.
  id: totrans-3042
  prefs: []
  type: TYPE_NORMAL
  zh: 如果给出了间接目标，则以*page = -1*表示，*link.dest.dest*将包含此名称。*get_links()*列表中的字典将包含此信息作为*to*值。
- en: '**Internal links are always** of kind *LINK_GOTO*. If an internal link specifies
    an indirect destination, it **will always be resolved** and the resulting direct
    destination will be returned. Names are **never returned for internal links**,
    and undefined destinations will cause the link to be ignored.'
  id: totrans-3043
  prefs: []
  type: TYPE_NORMAL
  zh: '**内部链接总是**属于*LINK_GOTO*类型。如果内部链接指定了间接目标，则**将始终解析**并返回生成的直接目标。名称**不会**用于内部链接，并且未定义的目标将导致链接被忽略。'
- en: Writing
  id: totrans-3044
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 写作
- en: PyMuPDF writes (updates, inserts) links by constructing and writing the appropriate
    PDF object **source**. This makes it possible to specify indirect destinations
    for *LINK_GOTOR* **and** *LINK_GOTO* link kinds (pre *PDF 1.2* file formats are
    **not supported**).
  id: totrans-3045
  prefs: []
  type: TYPE_NORMAL
  zh: PyMuPDF通过构建和写入适当的PDF对象**源**来编写（更新、插入）链接。这样可以为*LINK_GOTOR*和*LINK_GOTO*链接类型（在*PDF
    1.2*之前的文件格式中**不支持**）指定间接目标。
- en: Warning
  id: totrans-3046
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: If a *LINK_GOTO* indirect destination specifies an undefined name, this link
    can later on not be found / read again with MuPDF / PyMuPDF. Other readers however
    **will** detect it, but flag it as erroneous.
  id: totrans-3047
  prefs: []
  type: TYPE_NORMAL
  zh: 如果*LINK_GOTO*间接目标指定了未定义名称，则此链接以后将无法使用MuPDF / PyMuPDF再次找到/读取。但其他阅读器**会**检测到它，并标记为错误。
- en: Indirect *LINK_GOTOR* destinations can in general of course not be checked for
    validity and are therefore **always accepted**.
  id: totrans-3048
  prefs: []
  type: TYPE_NORMAL
  zh: 通常无法检查间接*LINK_GOTOR*目标的有效性，因此这些目标**始终会被接受**。
- en: '**Example: How to insert a link pointing to another page in the same document**'
  id: totrans-3049
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：如何在同一文档中插入指向另一页的链接**'
- en: Determine the rectangle on the current page, where the link should be placed.
    This may be the bbox of an image or some text.
  id: totrans-3050
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定当前页面上链接应放置的矩形。这可以是图像或某些文本的bbox。
- en: Determine the target page number (“pno”, 0-based) and a [Point](point.html#point)
    on it, where the link should be directed to.
  id: totrans-3051
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定目标页面号（“pno”，从0开始）及其上的[Point](point.html#point)，链接应指向该处。
- en: 'Create a dictionary `d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox,
    "to": point}`.'
  id: totrans-3052
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '创建字典`d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox, "to": point}`。'
- en: Execute `page.insert_link(d)`.
  id: totrans-3053
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`page.insert_link(d)`。
- en: Reading (pertains to method *get_links()* and the *first_link* property chain)
  id: totrans-3054
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阅读（涉及方法*get_links()*和*first_link*属性链）
- en: If MuPDF detects a link to another file, it will supply either a *LINK_GOTOR*
    or a *LINK_LAUNCH* link kind. In case of *LINK_GOTOR* destination details may
    either be given as page number (eventually including position information), or
    as an indirect destination.
  id: totrans-3055
  prefs: []
  type: TYPE_NORMAL
  zh: 如果MuPDF检测到链接到另一个文件，它将提供*LINK_GOTOR*或*LINK_LAUNCH*链接类型。在*LINK_GOTOR*目标中，详细信息可以给出为页面号码（最终包括位置信息），或间接目标。
- en: If an indirect destination is given, then this is indicated by *page = -1*,
    and *link.dest.dest* will contain this name. The dictionaries in the *get_links()*
    list will contain this information as the *to* value.
  id: totrans-3056
  prefs: []
  type: TYPE_NORMAL
  zh: 如果给出了间接目标，则其由*page = -1*指示，并且*link.dest.dest*将包含此名称。*get_links()*列表中的字典将此信息作为*to*值包含。
- en: '**Internal links are always** of kind *LINK_GOTO*. If an internal link specifies
    an indirect destination, it **will always be resolved** and the resulting direct
    destination will be returned. Names are **never returned for internal links**,
    and undefined destinations will cause the link to be ignored.'
  id: totrans-3057
  prefs: []
  type: TYPE_NORMAL
  zh: '**内部链接始终**是*LINK_GOTO*类型。如果内部链接指定了间接目标，则**始终会被解析**，并返回结果的直接目标。名称**从不**为内部链接返回，并且未定义的目标将导致链接被忽略。'
- en: Writing
  id: totrans-3058
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 写作
- en: PyMuPDF writes (updates, inserts) links by constructing and writing the appropriate
    PDF object **source**. This makes it possible to specify indirect destinations
    for *LINK_GOTOR* **and** *LINK_GOTO* link kinds (pre *PDF 1.2* file formats are
    **not supported**).
  id: totrans-3059
  prefs: []
  type: TYPE_NORMAL
  zh: PyMuPDF通过构建和写入适当的PDF对象**源**来写入（更新，插入）链接。这使得可以为*LINK_GOTOR*和*LINK_GOTO*链接类型指定间接目标（不支持*PDF
    1.2*之前的文件格式）。
- en: Warning
  id: totrans-3060
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: If a *LINK_GOTO* indirect destination specifies an undefined name, this link
    can later on not be found / read again with MuPDF / PyMuPDF. Other readers however
    **will** detect it, but flag it as erroneous.
  id: totrans-3061
  prefs: []
  type: TYPE_NORMAL
  zh: 如果*LINK_GOTO*间接目标指定了未定义名称，则此链接以后无法再用MuPDF / PyMuPDF找到/读取。其他阅读器会检测到，但会标记为错误。
- en: Indirect *LINK_GOTOR* destinations can in general of course not be checked for
    validity and are therefore **always accepted**.
  id: totrans-3062
  prefs: []
  type: TYPE_NORMAL
  zh: 间接*LINK_GOTOR*目标通常无法检查其有效性，因此**总是被接受**。
- en: '**Example: How to insert a link pointing to another page in the same document**'
  id: totrans-3063
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：如何在同一文档中插入指向另一页的链接**'
- en: Determine the rectangle on the current page, where the link should be placed.
    This may be the bbox of an image or some text.
  id: totrans-3064
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定当前页面上链接应放置的矩形。这可以是图像的bbox或某些文本。
- en: Determine the target page number (“pno”, 0-based) and a [Point](point.html#point)
    on it, where the link should be directed to.
  id: totrans-3065
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定目标页面号码（基于0）和[Point](point.html#point)位置，链接应指向该位置。
- en: 'Create a dictionary `d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox,
    "to": point}`.'
  id: totrans-3066
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '创建字典`d = {"kind": pymupdf.LINK_GOTO, "page": pno, "from": bbox, "to": point}`。'
- en: Execute `page.insert_link(d)`.
  id: totrans-3067
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`page.insert_link(d)`。
- en: Homologous Methods of [Document](document.html#document) and [Page](#page)
  id: totrans-3068
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档[Document](document.html#document)和页面[Page](#page)的同源方法
- en: This is an overview of homologous methods on the [Document](document.html#document)
    and on the [Page](#page) level.
  id: totrans-3069
  prefs: []
  type: TYPE_NORMAL
  zh: 这是关于[文档](document.html#document)和[页面](#page)级别的同源方法概述。
- en: '| **Document Level** | **Page Level** |'
  id: totrans-3070
  prefs: []
  type: TYPE_TB
  zh: '| **文档级别** | **页面级别** |'
- en: '| --- | --- |'
  id: totrans-3071
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *Document.get_page_fonts(pno)* | [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")
    |'
  id: totrans-3072
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_fonts(pno)* | [`Page.get_fonts()`](#Page.get_fonts "Page.get_fonts")
    |'
- en: '| *Document.get_page_images(pno)* | [`Page.get_images()`](#Page.get_images
    "Page.get_images") |'
  id: totrans-3073
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_images(pno)* | [`Page.get_images()`](#Page.get_images
    "Page.get_images") |'
- en: '| *Document.get_page_pixmap(pno, …)* | [`Page.get_pixmap()`](#Page.get_pixmap
    "Page.get_pixmap") |'
  id: totrans-3074
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_pixmap(pno, …)* | [`Page.get_pixmap()`](#Page.get_pixmap
    "Page.get_pixmap") |'
- en: '| *Document.get_page_text(pno, …)* | [`Page.get_text()`](#Page.get_text "Page.get_text")
    |'
  id: totrans-3075
  prefs: []
  type: TYPE_TB
  zh: '| *Document.get_page_text(pno, …)* | [`Page.get_text()`](#Page.get_text "Page.get_text")
    |'
- en: '| *Document.search_page_for(pno, …)* | [`Page.search_for()`](#Page.search_for
    "Page.search_for") |'
  id: totrans-3076
  prefs: []
  type: TYPE_TB
  zh: '| *Document.search_page_for(pno, …)* | [`Page.search_for()`](#Page.search_for
    "Page.search_for") |'
- en: The page number “pno” is a 0-based integer `-∞ < pno < page_count`.
  id: totrans-3077
  prefs: []
  type: TYPE_NORMAL
  zh: 页面号码“pno”是基于0的整数`-∞ < pno < page_count`。
- en: Note
  id: totrans-3078
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Most document methods (left column) exist for convenience reasons, and are
    just wrappers for: *Document[pno].<page method>*. So they **load and discard the
    page** on each execution.'
  id: totrans-3079
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数文档方法（左列）仅出于方便考虑，并仅是以下内容的包装器：*Document[pno].<page method>*。因此，它们**在每次执行时加载并丢弃页面**。
- en: 'However, the first two methods work differently. They only need a page’s object
    definition statement - the page itself will **not** be loaded. So e.g. [`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts") is a wrapper the other way round and defined as follows: *page.get_fonts
    == page.parent.get_page_fonts(page.number)*.'
  id: totrans-3080
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，前两种方法的工作方式不同。它们只需要一个页面的对象定义语句 - 页面本身**不会**被加载。因此，例如 [`Page.get_fonts()`](#Page.get_fonts
    "Page.get_fonts") 是反向操作的包装器，并定义如下：*page.get_fonts == page.parent.get_page_fonts(page.number)*。
- en: Footnotes
  id: totrans-3081
  prefs: []
  type: TYPE_NORMAL
  zh: 脚注
- en: Do you have any feedback on this page?
  id: totrans-3082
  prefs: []
  type: TYPE_NORMAL
  zh: 对此页面有任何反馈吗？
- en: '* * *'
  id: totrans-3083
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-3084
  prefs: []
  type: TYPE_NORMAL
  zh: 本软件按原样提供，不附带任何明示或暗示的担保。本软件按许可分发，未经明确授权不得复制、修改或分发。请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)获取许可信息，或联系美国旧金山CA
    94129 Mesa街39号108A号Artifex Software Inc.了解更多信息。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-3085
  prefs: []
  type: TYPE_NORMAL
  zh: 本文档覆盖了所有版本直至1.24.4。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  id: totrans-3086
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
