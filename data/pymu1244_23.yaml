- en: Command line interface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 命令行界面
- en: 原文：[https://pymupdf.readthedocs.io/en/latest/module.html](https://pymupdf.readthedocs.io/en/latest/module.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pymupdf.readthedocs.io/en/latest/module.html](https://pymupdf.readthedocs.io/en/latest/module.html)
- en: '*   New in version 1.16.8'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*   版本1.16.8中的新功能'
- en: PyMuPDF can also be used from the command line to perform utility functions.
    This feature should obsolete writing some of the most basic scripts.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: PyMuPDF也可以从命令行使用以执行实用功能。此功能应使一些最基本的脚本编写过时。
- en: Admittedly, there is some functional overlap with the MuPDF CLI `mutool`. On
    the other hand, PDF embedded files are no longer supported by MuPDF, so PyMuPDF
    is offering something unique here.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 不可否认，MuPDF CLI `mutool` 存在一些功能重叠。另一方面，MuPDF不再支持PDF嵌入文件，因此PyMuPDF在这里提供了一些独特的东西。
- en: Invocation
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 调用
- en: The command-line interface can be invoked in two ways.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 命令行界面可以通过两种方式调用。
- en: 'Use the installed `pymupdf` command:'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用已安装的 `pymupdf` 命令：
- en: '[PRE0]'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Or use Python’s `-m` switch with PyMuPDF’s `fitz` module:'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者使用Python的 `-m` 开关和PyMuPDF的 `fitz` 模块：
- en: '[PRE1]'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'General remarks:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 一般备注：
- en: Request help via `"-h"`, resp. command-specific help via `"command -h"`.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`"-h"`请求帮助，或通过`"command -h"`请求特定命令的帮助。
- en: Parameters may be abbreviated where this does not introduce ambiguities.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不引入歧义的情况下可以缩写参数。
- en: 'Several commands support parameters `-pages` and `-xrefs`. They are intended
    for down-selection. Please note that:'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几个命令支持参数`-pages`和`-xrefs`。它们用于向下选择。请注意：
- en: '**page numbers** for this utility must be given **1-based**.'
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此实用程序的 **页码** 必须是 **基于1的**。
- en: ''
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: valid [`xref`](glossary.html#xref "xref") numbers start at 1.
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效的[`xref`](glossary.html#xref "xref")编号从1开始。
- en: ''
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Specify a comma-separated list of either *single* integers or integer *ranges*.
    A **range** is a pair of integers separated by one hyphen “-”. Integers must not
    exceed the maximum page, resp. xref number. To specify that maximum, the symbolic
    variable “N” may be used. Integers or ranges may occur several times, in any sequence
    and may overlap. If in a range the first number is greater than the second one,
    the respective items will be processed in reversed order.
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定逗号分隔的 *单个* 整数或整数 *范围* 的列表。**范围** 是由一个连字符“-”分隔的整数对。整数不能超过最大页数或 [`xref`](glossary.html#xref
    "xref") 编号。为了指定最大值，可以使用符号变量“N”。整数或范围可以多次出现，顺序任意且可以重叠。如果范围中的第一个数字大于第二个数字，则将以相反顺序处理相应项目。
- en: 'How to use the module inside your script:'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在您的脚本中使用该模块：
- en: '[PRE2]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Use the following 2-liner and compile it with [Nuitka](https://pypi.org/project/Nuitka/)
    in standalone mode. This will give you a CLI executable with all the module’s
    features, that can be used on all compatible platforms without Python, PyMuPDF
    or MuPDF being installed.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用以下2行代码，并使用[Nuitka](https://pypi.org/project/Nuitka/)进行独立模式编译。这将为您提供一个带有所有模块功能的CLI可执行文件，可以在所有兼容平台上使用，而无需安装Python、PyMuPDF或MuPDF。
- en: '[PRE3]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Cleaning and Copying
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理和复制
- en: 'This command will optimize the PDF and store the result in a new file. You
    can use it also for encryption, decryption and creating sub documents. It is mostly
    similar to the MuPDF command line utility *“mutool clean”*:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将优化PDF并将结果存储在新文件中。您还可以将其用于加密、解密和创建子文档。它与MuPDF命令行实用程序 *“mutool clean”* 大多相似：
- en: '[PRE4]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: If you specify “-pages”, be aware that only page-related objects are copied,
    **no document-level items** like e.g. embedded files.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如果指定了“-pages”，请注意只复制与页面相关的对象，**不包括文档级项目**，例如嵌入的文件等。
- en: Please consult [`Document.save()`](document.html#Document.save "Document.save")
    for the parameter meanings.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 有关参数含义，请参阅[`Document.save()`](document.html#Document.save "Document.save")。
- en: Extracting Fonts and Images
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提取字体和图像
- en: 'Extract fonts or images from selected PDF pages to a desired directory:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 从所选PDF页面中提取字体或图像到指定目录：
- en: '[PRE5]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '**Image filenames** are built according to the naming scheme: **“img-xref.ext”**,
    where “ext” is the extension associated with the image and “xref” the [`xref`](glossary.html#xref
    "xref") of the image PDF object.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像文件名**根据命名方案构建：**“img-xref.ext”**，其中“ext”是与图像关联的扩展名，“xref”是图像PDF对象的[`xref`](glossary.html#xref
    "xref")。'
- en: '**Font filenames** consist of the fontname and the associated extension. Any
    spaces in the fontname are replaced with hyphens “-“.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**字体文件名**由字体名称和相关扩展名组成。字体名称中的任何空格都将替换为连字符“-”。'
- en: The output directory must already exist.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 输出目录必须已经存在。
- en: Note
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Except for output directory creation, this feature is **functionally equivalent**
    to and obsoletes [this script](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-pages.py).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 除了输出目录创建之外，此功能在功能上等同于并且已过时 [此脚本](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-pages.py)。
- en: Joining PDF Documents
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连接PDF文档
- en: 'To join several PDF files specify:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 要连接几个PDF文件，请指定：
- en: '[PRE6]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Note
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Each input must be entered as **“filename,password,pages”**. Password and pages
    are optional.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个输入必须输入为**“文件名，密码，页面”**。密码和页面是可选的。
- en: The password entry **is required** if the “pages” entry is used. If the PDF
    needs no password, specify two commas.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果使用“pages”条目，则需要密码输入。如果PDF不需要密码，请指定两个逗号。
- en: The **“pages”** format is the same as explained at the top of this section.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**“页面”**格式与本节顶部解释的相同。'
- en: Each input file is immediately closed after use. Therefore you can use one of
    them as output filename, and thus overwrite it.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个输入文件在使用后立即关闭。因此，您可以使用其中一个作为输出文件名，从而覆盖它。
- en: 'Example: To join the following files'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：要连接以下文件
- en: '**file1.pdf:** all pages, back to front, no password'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file1.pdf:** 所有页面，从后往前，无密码'
- en: '**file2.pdf:** last page, first page, password: “secret”'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file2.pdf:** 最后一页，第一页，密码：“secret”'
- en: '**file3.pdf:** pages 5 to last, no password'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file3.pdf:** 从第5页到最后一页，无密码'
- en: 'and store the result as **output.pdf** enter this command:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 并将结果存储为**output.pdf**，输入此命令：
- en: '*pymupdf join -o output.pdf file1.pdf,,N-1 file2.pdf,secret,N,1 file3.pdf,,5-N*'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '*pymupdf join -o output.pdf file1.pdf,,N-1 file2.pdf,secret,N,1 file3.pdf,,5-N*'
- en: Low Level Information
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 低级信息
- en: 'Display PDF internal information. Again, there are similarities to *“mutool
    show”*:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 显示PDF内部信息。同样，与*“mutool show”*有相似之处：
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Examples:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Embedded Files Commands
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 嵌入文件命令
- en: The following commands deal with embedded files – which is a feature completely
    removed from MuPDF after v1.14, and hence from all its command line tools.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令处理嵌入文件 - 这是MuPDF在v1.14之后完全删除的功能，因此从所有其命令行工具中删除。
- en: Information
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 信息
- en: 'Show the embedded file names (long or short format):'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 显示嵌入文件名（长格式或短格式）：
- en: '[PRE9]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Example:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE10]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Detailed output would look like this per entry:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 每个条目的详细输出如下所示：
- en: '[PRE11]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Extraction
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提取
- en: 'Extract an embedded file like this:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 像这样提取嵌入文件：
- en: '[PRE12]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For details consult [`Document.embfile_get()`](document.html#Document.embfile_get
    "Document.embfile_get"). Example (refer to previous section):'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅[`Document.embfile_get()`](document.html#Document.embfile_get "Document.embfile_get")。示例（参考上一节）：
- en: '[PRE13]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Deletion
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除
- en: 'Delete an embedded file like this:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 像这样删除嵌入文件：
- en: '[PRE14]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: For details consult [`Document.embfile_del()`](document.html#Document.embfile_del
    "Document.embfile_del").
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅[`Document.embfile_del()`](document.html#Document.embfile_del "Document.embfile_del")。
- en: Insertion
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 插入
- en: 'Add a new embedded file using this command:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此命令添加新的嵌入文件：
- en: '[PRE15]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '*“NAME”* **must not** already exist in the PDF. For details consult [`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add").'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '*“名称”* **绝对不**应该已经存在于PDF中。有关详细信息，请参阅[`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add")。'
- en: Updates
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更新
- en: 'Update an existing embedded file using this command:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此命令更新现有的嵌入文件：
- en: '[PRE16]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Use this method to change meta-information of the file – just omit the *“PATH”*.
    For details consult [`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd").
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此方法更改文件的元信息 - 只需省略*“路径”*。有关详细信息，请参阅[`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd")。
- en: Copying
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 复制
- en: 'Copy embedded files between PDFs:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在PDF之间复制嵌入的文件：
- en: '[PRE17]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Text Extraction
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文本提取
- en: New in v1.18.16
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.18.16中的新功能
- en: 'Extract text from arbitrary [supported documents](how-to-open-a-file.html#supported-file-types)
    to a textfile. Currently, there are three output formatting modes available: simple,
    block sorting and reproduction of physical layout.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 从任意[支持的文档](how-to-open-a-file.html#supported-file-types)中提取文本到文本文件。目前，有三种输出格式模式可用：简单，块排序和复制物理布局。
- en: '**Simple** text extraction reproduces all text as it appears in the document
    pages – no effort is made to rearrange in any particular reading order.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单**文本提取会将所有文本复制到文档页面中 - 不会进行任何特定的阅读顺序重新排列。'
- en: '**Block sorting** sorts text blocks (as identified by MuPDF) by ascending vertical,
    then horizontal coordinates. This should be sufficient to establish a “natural”
    reading order for basic pages of text.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**块排序**按升序垂直，然后水平坐标对文本块（由MuPDF标识）进行排序。这应足以建立基本文本页的“自然”阅读顺序。'
- en: '**Layout** strives to reproduce the original appearance of the input pages.
    You can expect results like this (produced by the command `pymupdf gettext -pages
    1 demo1.pdf`):'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**布局** 力求复制输入页面的原始外观。你可以期待如下结果（由命令 `pymupdf gettext -pages 1 demo1.pdf` 生成）：'
- en: '[![_images/img-layout-text.jpg](../Images/f67c22684630e42ab2d8a363e6615edd.png)](_images/img-layout-text.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-layout-text.jpg](../Images/f67c22684630e42ab2d8a363e6615edd.png)](_images/img-layout-text.jpg)'
- en: Note
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The “gettext” command offers a functionality similar to the CLI tool `pdftotext`
    by XPDF software, [http://www.foolabs.com/xpdf/](http://www.foolabs.com/xpdf/)
    – this is especially true for “layout” mode, which combines that tool’s `-layout`
    and `-table` options.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: “gettext” 命令提供了一种类似于 XPDF 软件的 CLI 工具 `pdftotext` 的功能，[http://www.foolabs.com/xpdf/](http://www.foolabs.com/xpdf/)
    — 这对于“布局”模式尤其如此，该模式结合了该工具的 `-layout` 和 `-table` 选项。
- en: After each page of the output file, a formfeed character, `hex(12)` is written
    – even if the input page has no text at all. This behavior can be controlled via
    options.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在输出文件的每一页之后，都会写入一个换页符，`hex(12)` — 即使输入页面根本没有文本。此行为可以通过选项进行控制。
- en: Note
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For “layout” mode, **only horizontal, left-to-right, top-to bottom** text is
    supported, other text is ignored. In this mode, text is also ignored, if its [`fontsize`](glossary.html#fontsize
    "fontsize") is too small.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 对于“布局”模式，**仅支持水平、从左到右、从上到下**的文本，其他文本将被忽略。在此模式下，如果文本的[`fontsize`](glossary.html#fontsize
    "fontsize")太小，则也将被忽略。
- en: “Simple” and “blocks” mode in contrast output **all text** for any text size
    or orientation.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: “Simple” 和 “blocks” 模式在对比输出中会显示**所有文本**，无论文本大小或方向如何。
- en: 'Command:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 命令：
- en: '[PRE18]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Note
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Command options may be abbreviated as long as no ambiguities are introduced.
    So the following do the same:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 只要不引入歧义，命令选项可以缩写。因此，以下命令执行相同的操作：
- en: '`... -output text.txt -noligatures -noformfeed -convert-white -grid 3 -extra-spaces
    ...`'
  id: totrans-104
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`... -output text.txt -noligatures -noformfeed -convert-white -grid 3 -extra-spaces
    ...`'
- en: ''
  id: totrans-105
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-106
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`... -o text.txt -nol -nof -c -g 3 -e ...`'
  id: totrans-107
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`... -o text.txt -nol -nof -c -g 3 -e ...`'
- en: 'The output filename defaults to the input with its extension replaced by `.txt`.
    As with other commands, you can select page ranges **(caution: 1-based!)** in
    `mutool` format, as indicated above.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 输出文件名默认为输入文件名，其扩展名替换为 `.txt`。与其他命令一样，你可以按照上面所示的 `mutool` 格式选择页面范围**（注意：基于 1）**。
- en: '**mode:** (str) select a formatting mode – default is “layout”.'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模式：**（str）选择格式模式 — 默认为“布局”。'
- en: '**noligatures:** (bool) corresponds to **not** [`TEXT_PRESERVE_LIGATURES`](vars.html#TEXT_PRESERVE_LIGATURES
    "TEXT_PRESERVE_LIGATURES"). If specified, ligatures (present in advanced fonts:
    glyphs combining multiple characters like “fi”) are split up into their components
    (i.e. “f”, “i”). Default is passing them through.'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**去连字：**（bool）对应于**非** [`TEXT_PRESERVE_LIGATURES`](vars.html#TEXT_PRESERVE_LIGATURES
    "TEXT_PRESERVE_LIGATURES")。如果指定，连字（在高级字体中存在的字形，如“fi”组合多个字符的字形）将被分割成它们的组件（即“f”，“i”）。默认为传递它们。'
- en: '**convert-white:** corresponds to **not** [`TEXT_PRESERVE_WHITESPACE`](vars.html#TEXT_PRESERVE_WHITESPACE
    "TEXT_PRESERVE_WHITESPACE"). If specified, all white space characters (like tabs)
    are replaced with one or more spaces. Default is passing them through.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**转换白色：**对应于**非** [`TEXT_PRESERVE_WHITESPACE`](vars.html#TEXT_PRESERVE_WHITESPACE
    "TEXT_PRESERVE_WHITESPACE")。如果指定，所有空白字符（如制表符）将替换为一个或多个空格。默认为传递它们。'
- en: '**extra-spaces:** (bool) corresponds to **not** [`TEXT_INHIBIT_SPACES`](vars.html#TEXT_INHIBIT_SPACES
    "TEXT_INHIBIT_SPACES"). If specified, large gaps between adjacent characters will
    be filled with one or more spaces. Default is off.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**额外空格：**（bool）对应于**非** [`TEXT_INHIBIT_SPACES`](vars.html#TEXT_INHIBIT_SPACES
    "TEXT_INHIBIT_SPACES")。如果指定，相邻字符之间的大间隙将用一个或多个空格填充。默认为关闭。'
- en: '**noformfeed:** (bool) instead of `hex(12)` (formfeed), write linebreaks [`n`](colorspace.html#Colorspace.n
    "Colorspace.n") at end of output pages.'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无换页符：**（bool）在输出页面末尾写入换行符[`n`](colorspace.html#Colorspace.n "Colorspace.n")，而不是`hex(12)`（换页符）。'
- en: '**skip-empty:** (bool) skip pages with no text.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跳过空白页：**（bool）跳过没有文本的页面。'
- en: '**grid:** lines with a vertical coordinate difference of no more than this
    value (in points) will be merged into the same output line. Only relevant for
    “layout” mode. **Use with care:** 3 or the default 2 should be adequate in most
    cases. If **too large**, lines that are *intended* to be different in the original
    may be merged and will result in garbled and / or incomplete output. If **too
    low**, artifact separate output lines may be generated for some spans in the input
    line, just because they are coded in a different font with slightly deviating
    properties.'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**grid：**垂直坐标差异不超过此值（以点为单位）的线将合并到同一输出行中。仅适用于“layout”模式。**慎用：**在大多数情况下，3或默认的2应该足够。如果**太大**，原始中意图不同的线可能会被合并，导致输出混乱和/或不完整。如果**太低**，则可能会为输入行中的某些跨度生成单独的输出行，仅因为它们以稍微不同的字体编码并具有略微偏离的属性。'
- en: '**fontsize:** include text with [`fontsize`](glossary.html#fontsize "fontsize")
    larger than this value only (default 3). Only relevant for “layout” option.'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize：**仅包括文本大于此值的[`fontsize`](glossary.html#fontsize "fontsize")（默认为3）。仅适用于“layout”选项。'
- en: Do you have any feedback on this page?
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 对本页有任何反馈吗？
- en: '* * *'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 此软件按原样提供，不带任何明示或暗示的担保。此软件在许可下分发，未经明确授权不得复制、修改或分发。有关详细信息，请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)上的许可信息或联系Artifex
    Software Inc.，39 Mesa Street，Suite 108A，San Francisco CA 94129，美国。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 本文档覆盖了所有版本直至1.24.4。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
- en: Invocation
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 调用
- en: The command-line interface can be invoked in two ways.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 命令行界面可以通过两种方式调用。
- en: 'Use the installed `pymupdf` command:'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用已安装的`pymupdf`命令：
- en: '[PRE19]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Or use Python’s `-m` switch with PyMuPDF’s `fitz` module:'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者使用Python的`-m`开关与PyMuPDF的`fitz`模块：
- en: '[PRE20]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'General remarks:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一般备注：
- en: Request help via `"-h"`, resp. command-specific help via `"command -h"`.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`"-h"`请求帮助，或通过`"command -h"`请求特定命令的帮助。
- en: Parameters may be abbreviated where this does not introduce ambiguities.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不引入歧义的情况下，参数可以缩写。
- en: 'Several commands support parameters `-pages` and `-xrefs`. They are intended
    for down-selection. Please note that:'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几个命令支持参数`-pages`和`-xrefs`。它们用于下拉选择。请注意：
- en: '**page numbers** for this utility must be given **1-based**.'
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此实用程序的**页面编号**必须以**基于1的**方式给出。
- en: ''
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: valid [`xref`](glossary.html#xref "xref") numbers start at 1.
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效的[`xref`](glossary.html#xref "xref")编号从1开始。
- en: ''
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Specify a comma-separated list of either *single* integers or integer *ranges*.
    A **range** is a pair of integers separated by one hyphen “-”. Integers must not
    exceed the maximum page, resp. xref number. To specify that maximum, the symbolic
    variable “N” may be used. Integers or ranges may occur several times, in any sequence
    and may overlap. If in a range the first number is greater than the second one,
    the respective items will be processed in reversed order.
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定一个以逗号分隔的**单个**整数或整数**范围**的列表。范围是由一个连字符“-”分隔的两个整数对。整数不得超过最大页面或xref编号。为了指定最大值，可以使用符号变量“N”。整数或范围可以多次出现，顺序任意，并且可以重叠。如果在范围内第一个数字大于第二个数字，则将按相反顺序处理相应项。
- en: 'How to use the module inside your script:'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在您的脚本内使用该模块：
- en: '[PRE21]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Use the following 2-liner and compile it with [Nuitka](https://pypi.org/project/Nuitka/)
    in standalone mode. This will give you a CLI executable with all the module’s
    features, that can be used on all compatible platforms without Python, PyMuPDF
    or MuPDF being installed.
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用以下2行代码并以独立模式编译它，可以使用[Nuitka](https://pypi.org/project/Nuitka/)。这将为您提供一个带有所有模块功能的CLI可执行文件，可在所有兼容的平台上使用，无需安装Python、PyMuPDF或MuPDF。
- en: '[PRE22]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Cleaning and Copying
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理和复制
- en: 'This command will optimize the PDF and store the result in a new file. You
    can use it also for encryption, decryption and creating sub documents. It is mostly
    similar to the MuPDF command line utility *“mutool clean”*:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将优化PDF并将结果存储在新文件中。您也可以将其用于加密、解密和创建子文档。它与MuPDF命令行实用程序*“mutool clean”*大致相似：
- en: '[PRE23]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: If you specify “-pages”, be aware that only page-related objects are copied,
    **no document-level items** like e.g. embedded files.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如果指定了“-pages”，请注意仅复制与页面相关的对象，**不包括文档级项目**，例如嵌入文件。
- en: Please consult [`Document.save()`](document.html#Document.save "Document.save")
    for the parameter meanings.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅 [`Document.save()`](document.html#Document.save "Document.save") 以了解参数含义。
- en: Extracting Fonts and Images
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提取字体和图像
- en: 'Extract fonts or images from selected PDF pages to a desired directory:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 从选定的 PDF 页面提取字体或图像到指定目录：
- en: '[PRE24]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '**Image filenames** are built according to the naming scheme: **“img-xref.ext”**,
    where “ext” is the extension associated with the image and “xref” the [`xref`](glossary.html#xref
    "xref") of the image PDF object.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像文件名** 根据命名方案构建：**“img-xref.ext”**，其中“ext”是与图像关联的扩展名，“xref”是图像 PDF 对象的 [`xref`](glossary.html#xref
    "xref")。'
- en: '**Font filenames** consist of the fontname and the associated extension. Any
    spaces in the fontname are replaced with hyphens “-“.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '**字体文件名** 由字体名称和相关扩展名组成。字体名称中的任何空格都将替换为连字符“-”。'
- en: The output directory must already exist.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 输出目录必须已经存在。
- en: Note
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Except for output directory creation, this feature is **functionally equivalent**
    to and obsoletes [this script](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-pages.py).
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 除了输出目录的创建外，此功能在功能上等同于并淘汰了 [此脚本](https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-pages.py)。
- en: Joining PDF Documents
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 合并 PDF 文档
- en: 'To join several PDF files specify:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 要合并多个 PDF 文件，请指定：
- en: '[PRE25]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Note
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Each input must be entered as **“filename,password,pages”**. Password and pages
    are optional.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个输入必须输入为 **“filename,password,pages”**。密码和页面是可选的。
- en: The password entry **is required** if the “pages” entry is used. If the PDF
    needs no password, specify two commas.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果使用“pages”条目，则需要密码输入。如果 PDF 不需要密码，请指定两个逗号。
- en: The **“pages”** format is the same as explained at the top of this section.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**“pages”** 的格式与本节顶部解释的相同。'
- en: Each input file is immediately closed after use. Therefore you can use one of
    them as output filename, and thus overwrite it.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个输入文件在使用后立即关闭。因此，您可以使用其中一个作为输出文件名，并覆盖它。
- en: 'Example: To join the following files'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：要合并以下文件
- en: '**file1.pdf:** all pages, back to front, no password'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file1.pdf：** 所有页面，从后往前，无密码'
- en: '**file2.pdf:** last page, first page, password: “secret”'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file2.pdf：** 最后一页，第一页，密码：“secret”'
- en: '**file3.pdf:** pages 5 to last, no password'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**file3.pdf：** 从第5页到最后一页，无密码'
- en: 'and store the result as **output.pdf** enter this command:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 并将结果存储为 **output.pdf**，请输入此命令：
- en: '*pymupdf join -o output.pdf file1.pdf,,N-1 file2.pdf,secret,N,1 file3.pdf,,5-N*'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '*pymupdf join -o output.pdf file1.pdf,,N-1 file2.pdf,secret,N,1 file3.pdf,,5-N*'
- en: Low Level Information
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 低级信息
- en: 'Display PDF internal information. Again, there are similarities to *“mutool
    show”*:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 显示 PDF 的内部信息。同样，与 *“mutool show”* 有相似之处：
- en: '[PRE26]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Examples:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE27]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Embedded Files Commands
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 嵌入文件命令
- en: The following commands deal with embedded files – which is a feature completely
    removed from MuPDF after v1.14, and hence from all its command line tools.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令处理嵌入文件 - 这是自 MuPDF v1.14 后完全从 MuPDF 及其所有命令行工具中移除的功能。
- en: Information
  id: totrans-177
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 信息
- en: 'Show the embedded file names (long or short format):'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 显示嵌入文件名（长格式或短格式）：
- en: '[PRE28]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Example:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE29]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Detailed output would look like this per entry:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 每个条目的详细输出如下所示：
- en: '[PRE30]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Extraction
  id: totrans-184
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提取
- en: 'Extract an embedded file like this:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 像这样提取嵌入文件：
- en: '[PRE31]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'For details consult [`Document.embfile_get()`](document.html#Document.embfile_get
    "Document.embfile_get"). Example (refer to previous section):'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅 [`Document.embfile_get()`](document.html#Document.embfile_get "Document.embfile_get")。示例（参见前一节）：
- en: '[PRE32]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Deletion
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除
- en: 'Delete an embedded file like this:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 像这样删除嵌入文件：
- en: '[PRE33]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: For details consult [`Document.embfile_del()`](document.html#Document.embfile_del
    "Document.embfile_del").
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅 [`Document.embfile_del()`](document.html#Document.embfile_del "Document.embfile_del")。
- en: Insertion
  id: totrans-193
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 插入
- en: 'Add a new embedded file using this command:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令添加新的嵌入文件：
- en: '[PRE34]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '*“NAME”* **must not** already exist in the PDF. For details consult [`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add").'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '*“NAME”* **绝不能**已存在于 PDF 中。有关详细信息，请参阅 [`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add")。'
- en: Updates
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更新
- en: 'Update an existing embedded file using this command:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令更新现有的嵌入文件：
- en: '[PRE35]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Use this method to change meta-information of the file – just omit the *“PATH”*.
    For details consult [`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd").
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此方法更改文件的元信息 - 只需省略 *“PATH”*。有关详细信息，请参阅 [`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd")。
- en: Copying
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 复制
- en: 'Copy embedded files between PDFs:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在PDF之间复制嵌入的文件：
- en: '[PRE36]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Information
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 信息
- en: 'Show the embedded file names (long or short format):'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 显示嵌入文件的名称（长格式或短格式）：
- en: '[PRE37]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Example:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE38]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Detailed output would look like this per entry:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 每个条目的详细输出如下：
- en: '[PRE39]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Extraction
  id: totrans-211
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提取
- en: 'Extract an embedded file like this:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 这样提取嵌入文件：
- en: '[PRE40]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'For details consult [`Document.embfile_get()`](document.html#Document.embfile_get
    "Document.embfile_get"). Example (refer to previous section):'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅[`Document.embfile_get()`](document.html#Document.embfile_get "Document.embfile_get")。示例（参见前一节）：
- en: '[PRE41]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Deletion
  id: totrans-216
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除
- en: 'Delete an embedded file like this:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 这样删除嵌入文件：
- en: '[PRE42]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: For details consult [`Document.embfile_del()`](document.html#Document.embfile_del
    "Document.embfile_del").
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅[`Document.embfile_del()`](document.html#Document.embfile_del "Document.embfile_del")。
- en: Insertion
  id: totrans-220
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 插入
- en: 'Add a new embedded file using this command:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此命令添加新的嵌入文件：
- en: '[PRE43]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '*“NAME”* **must not** already exist in the PDF. For details consult [`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add").'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '*“名称”* **不能**已经存在于PDF中。有关详细信息，请参阅[`Document.embfile_add()`](document.html#Document.embfile_add
    "Document.embfile_add")。'
- en: Updates
  id: totrans-224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更新
- en: 'Update an existing embedded file using this command:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此命令更新现有的嵌入文件：
- en: '[PRE44]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Use this method to change meta-information of the file – just omit the *“PATH”*.
    For details consult [`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd").
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这种方法来更改文件的元信息 - 只需省略*“路径”*。有关详细信息，请参阅[`Document.embfile_upd()`](document.html#Document.embfile_upd
    "Document.embfile_upd")。
- en: Copying
  id: totrans-228
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 复制
- en: 'Copy embedded files between PDFs:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在PDF之间复制嵌入的文件：
- en: '[PRE45]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Text Extraction
  id: totrans-231
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文本提取
- en: New in v1.18.16
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在v1.18.16中新增
- en: 'Extract text from arbitrary [supported documents](how-to-open-a-file.html#supported-file-types)
    to a textfile. Currently, there are three output formatting modes available: simple,
    block sorting and reproduction of physical layout.'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 从任意[支持的文档](how-to-open-a-file.html#supported-file-types)中提取文本到文本文件。目前，有三种输出格式模式可用：简单、块排序和复制物理布局。
- en: '**Simple** text extraction reproduces all text as it appears in the document
    pages – no effort is made to rearrange in any particular reading order.'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单**文本提取会复制文档页面中显示的所有文本 - 不会做任何特定阅读顺序的重新排列。'
- en: '**Block sorting** sorts text blocks (as identified by MuPDF) by ascending vertical,
    then horizontal coordinates. This should be sufficient to establish a “natural”
    reading order for basic pages of text.'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**块排序**按升序垂直，然后水平坐标对文本块（由MuPDF标识）进行排序。这应足以为基本文本页建立“自然”的阅读顺序。'
- en: '**Layout** strives to reproduce the original appearance of the input pages.
    You can expect results like this (produced by the command `pymupdf gettext -pages
    1 demo1.pdf`):'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**布局**致力于复制输入页面的原始外观。您可以期待像这样的结果（由命令`pymupdf gettext -pages 1 demo1.pdf`生成）：'
- en: '[![_images/img-layout-text.jpg](../Images/f67c22684630e42ab2d8a363e6615edd.png)](_images/img-layout-text.jpg)'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-layout-text.jpg](../Images/f67c22684630e42ab2d8a363e6615edd.png)](_images/img-layout-text.jpg)'
- en: Note
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The “gettext” command offers a functionality similar to the CLI tool `pdftotext`
    by XPDF software, [http://www.foolabs.com/xpdf/](http://www.foolabs.com/xpdf/)
    – this is especially true for “layout” mode, which combines that tool’s `-layout`
    and `-table` options.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: “gettext”命令提供了类似于XPDF软件的CLI工具`pdftotext`的功能，[http://www.foolabs.com/xpdf/](http://www.foolabs.com/xpdf/)
    - 对于“布局”模式，这是特别真实的，该模式结合了该工具的`-layout`和`-table`选项。
- en: After each page of the output file, a formfeed character, `hex(12)` is written
    – even if the input page has no text at all. This behavior can be controlled via
    options.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在输出文件的每个页面之后，都会写入一个换页符，`hex(12)` - 即使输入页面根本没有文本。此行为可以通过选项进行控制。
- en: Note
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For “layout” mode, **only horizontal, left-to-right, top-to bottom** text is
    supported, other text is ignored. In this mode, text is also ignored, if its [`fontsize`](glossary.html#fontsize
    "fontsize") is too small.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 对于“布局”模式，**只支持水平、从左到右、从上到下**的文本，其他文本将被忽略。在此模式下，如果文本的[`fontsize`](glossary.html#fontsize
    "fontsize")太小，也会被忽略。
- en: “Simple” and “blocks” mode in contrast output **all text** for any text size
    or orientation.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 与之相反，“简单”和“块”模式输出**所有文本**，无论文本大小或方向如何。
- en: 'Command:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 命令：
- en: '[PRE46]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Note
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Command options may be abbreviated as long as no ambiguities are introduced.
    So the following do the same:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 命令选项可以缩写，只要不会引入歧义。所以以下做同样的事情：
- en: '`... -output text.txt -noligatures -noformfeed -convert-white -grid 3 -extra-spaces
    ...`'
  id: totrans-248
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`... -output text.txt -noligatures -noformfeed -convert-white -grid 3 -extra-spaces
    ...`'
- en: ''
  id: totrans-249
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-250
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`... -o text.txt -nol -nof -c -g 3 -e ...`'
  id: totrans-251
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`... -o text.txt -nol -nof -c -g 3 -e ...`'
- en: 'The output filename defaults to the input with its extension replaced by `.txt`.
    As with other commands, you can select page ranges **(caution: 1-based!)** in
    `mutool` format, as indicated above.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 输出文件名默认为输入文件名，并将其扩展名替换为`.txt`。与其他命令一样，您可以选择页面范围（注意：基于1的索引！）以`mutool`格式选择，如上所示。
- en: '**mode:** (str) select a formatting mode – default is “layout”.'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mode:** （字符串）选择格式模式，默认为“布局”模式。'
- en: '**noligatures:** (bool) corresponds to **not** [`TEXT_PRESERVE_LIGATURES`](vars.html#TEXT_PRESERVE_LIGATURES
    "TEXT_PRESERVE_LIGATURES"). If specified, ligatures (present in advanced fonts:
    glyphs combining multiple characters like “fi”) are split up into their components
    (i.e. “f”, “i”). Default is passing them through.'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**noligatures:** （布尔值）对应于**不** [`TEXT_PRESERVE_LIGATURES`](vars.html#TEXT_PRESERVE_LIGATURES
    "TEXT_PRESERVE_LIGATURES")。如果指定，连字（存在于高级字体中：将多个字符组合成一个字形，如“fi”）将被拆分为其组成部分（即“f”，“i”）。默认为保留它们。'
- en: '**convert-white:** corresponds to **not** [`TEXT_PRESERVE_WHITESPACE`](vars.html#TEXT_PRESERVE_WHITESPACE
    "TEXT_PRESERVE_WHITESPACE"). If specified, all white space characters (like tabs)
    are replaced with one or more spaces. Default is passing them through.'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**convert-white:** 对应于**不** [`TEXT_PRESERVE_WHITESPACE`](vars.html#TEXT_PRESERVE_WHITESPACE
    "TEXT_PRESERVE_WHITESPACE")。如果指定，所有空白字符（如制表符）将被替换为一个或多个空格。默认为保留它们。'
- en: '**extra-spaces:** (bool) corresponds to **not** [`TEXT_INHIBIT_SPACES`](vars.html#TEXT_INHIBIT_SPACES
    "TEXT_INHIBIT_SPACES"). If specified, large gaps between adjacent characters will
    be filled with one or more spaces. Default is off.'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**extra-spaces:** （布尔值）对应于**不** [`TEXT_INHIBIT_SPACES`](vars.html#TEXT_INHIBIT_SPACES
    "TEXT_INHIBIT_SPACES")。如果指定，邻近字符之间的大间隙将填充为一个或多个空格。默认为关闭。'
- en: '**noformfeed:** (bool) instead of `hex(12)` (formfeed), write linebreaks [`n`](colorspace.html#Colorspace.n
    "Colorspace.n") at end of output pages.'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**noformfeed:** （布尔值）而不是`hex(12)`（进纸符），在输出页面的末尾写入换行符[`n`](colorspace.html#Colorspace.n
    "Colorspace.n")。'
- en: '**skip-empty:** (bool) skip pages with no text.'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**skip-empty:** （布尔值）跳过没有文本的页面。'
- en: '**grid:** lines with a vertical coordinate difference of no more than this
    value (in points) will be merged into the same output line. Only relevant for
    “layout” mode. **Use with care:** 3 or the default 2 should be adequate in most
    cases. If **too large**, lines that are *intended* to be different in the original
    may be merged and will result in garbled and / or incomplete output. If **too
    low**, artifact separate output lines may be generated for some spans in the input
    line, just because they are coded in a different font with slightly deviating
    properties.'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**grid:** 竖直坐标差值不超过此数值（以点为单位）的线将合并为同一输出行。仅适用于“布局”模式。**使用时请注意：** 大多数情况下，3或默认值2应该足够。如果**过大**，原本意图不同的行可能被合并，导致输出混乱或不完整。如果**过小**，输入行中某些跨度使用稍有偏差属性的不同字体可能会生成单独的输出行。'
- en: '**fontsize:** include text with [`fontsize`](glossary.html#fontsize "fontsize")
    larger than this value only (default 3). Only relevant for “layout” option.'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**fontsize:** 仅包括[`fontsize`](glossary.html#fontsize "fontsize")大于此值的文本（默认为3）。仅适用于“布局”选项。'
- en: Do you have any feedback on this page?
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 对本页有任何反馈吗？
- en: '* * *'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 此软件按原样提供，不带任何明示或暗示的保证。此软件按许可分发，未经许可明确授权，不得复制、修改或分发。请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)上的许可信息或联系Artifex
    Software Inc.，39 Mesa Street，Suite 108A，San Francisco CA 94129，美国获取更多信息。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 此文档覆盖所有版本直至1.24.4。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
