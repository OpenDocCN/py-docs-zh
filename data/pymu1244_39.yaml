- en: Pixmap
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 像素图
- en: 原文：[https://pymupdf.readthedocs.io/en/latest/pixmap.html](https://pymupdf.readthedocs.io/en/latest/pixmap.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pymupdf.readthedocs.io/en/latest/pixmap.html](https://pymupdf.readthedocs.io/en/latest/pixmap.html)
- en: Pixmaps (“pixel maps”) are objects at the heart of MuPDF’s rendering capabilities.
    They represent plane rectangular sets of pixels. Each pixel is described by a
    number of bytes (“components”) defining its color, plus an optional alpha byte
    defining its transparency.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 像素图（“像素映射”）是MuPDF渲染能力的核心对象。它们代表平面矩形像素集。每个像素由几个字节（“组件”）描述其颜色，另外还有一个可选的透明度字节描述其透明度。
- en: In PyMuPDF, there exist several ways to create a pixmap. Except the first one,
    all of them are available as overloaded constructors. A pixmap can be created
    …
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在PyMuPDF中，存在几种创建像素图的方法。除了第一种外，所有其他方法都作为重载的构造函数提供。可以创建像素图…
- en: from a document page (method [`Page.get_pixmap()`](page.html#Page.get_pixmap
    "Page.get_pixmap"))
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自文档页面（方法[`Page.get_pixmap()`](page.html#Page.get_pixmap "Page.get_pixmap")）
- en: empty, based on [Colorspace](colorspace.html#colorspace) and [IRect](irect.html#irect)
    information
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 空的，基于[Colorspace](colorspace.html#colorspace)和[IRect](irect.html#irect)的信息
- en: from a file
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自文件
- en: from an in-memory image
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自内存中的图像
- en: from a memory area of plain pixels
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自纯像素的内存区域
- en: from an image inside a PDF document
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自PDF文档中的图像
- en: as a copy of another pixmap
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为另一个像素图的副本
- en: Note
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: A number of image formats is supported as input for points 3\. and 4\. above.
    See section [Supported Input Image Formats](#imagefiles).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 支持多种图像格式作为上述第3和第4点的输入。请参阅“支持的输入图像格式”部分（#imagefiles）。
- en: Have a look at the [FAQ](faq.html#faq) section to see some pixmap usage “at
    work”.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 请查看[FAQ](faq.html#faq)部分，了解一些像素图的使用情况。
- en: '| **Method / Attribute** | **Short Description** |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| **方法 / 属性** | **简短描述** |'
- en: '| --- | --- |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| [`Pixmap.clear_with()`](#Pixmap.clear_with "Pixmap.clear_with") | clear parts
    of the pixmap |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.clear_with()`](#Pixmap.clear_with "Pixmap.clear_with") | 清除像素图的部分内容
    |'
- en: '| [`Pixmap.color_count()`](#Pixmap.color_count "Pixmap.color_count") | determine
    used colors |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.color_count()`](#Pixmap.color_count "Pixmap.color_count") | 确定使用的颜色数量
    |'
- en: '| [`Pixmap.color_topusage()`](#Pixmap.color_topusage "Pixmap.color_topusage")
    | determine share of most used color |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.color_topusage()`](#Pixmap.color_topusage "Pixmap.color_topusage")
    | 确定最常用颜色的份额 |'
- en: '| [`Pixmap.copy()`](#Pixmap.copy "Pixmap.copy") | copy parts of another pixmap
    |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.copy()`](#Pixmap.copy "Pixmap.copy") | 复制另一个像素图的部分内容 |'
- en: '| [`Pixmap.gamma_with()`](#Pixmap.gamma_with "Pixmap.gamma_with") | apply a
    gamma factor to the pixmap |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.gamma_with()`](#Pixmap.gamma_with "Pixmap.gamma_with") | 对像素应用伽马因子
    |'
- en: '| [`Pixmap.invert_irect()`](#Pixmap.invert_irect "Pixmap.invert_irect") | invert
    the pixels of a given area |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.invert_irect()`](#Pixmap.invert_irect "Pixmap.invert_irect") | 反转给定区域的像素
    |'
- en: '| [`Pixmap.pdfocr_save()`](#Pixmap.pdfocr_save "Pixmap.pdfocr_save") | save
    the pixmap as an OCRed 1-page PDF |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.pdfocr_save()`](#Pixmap.pdfocr_save "Pixmap.pdfocr_save") | 将像素图保存为OCRed的单页PDF
    |'
- en: '| [`Pixmap.pdfocr_tobytes()`](#Pixmap.pdfocr_tobytes "Pixmap.pdfocr_tobytes")
    | save the pixmap as an OCRed 1-page PDF |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.pdfocr_tobytes()`](#Pixmap.pdfocr_tobytes "Pixmap.pdfocr_tobytes")
    | 将像素图保存为OCRed的单页PDF |'
- en: '| [`Pixmap.pil_save()`](#Pixmap.pil_save "Pixmap.pil_save") | save as image
    using pillow |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.pil_save()`](#Pixmap.pil_save "Pixmap.pil_save") | 使用pillow保存为图像
    |'
- en: '| [`Pixmap.pil_tobytes()`](#Pixmap.pil_tobytes "Pixmap.pil_tobytes") | write
    to `bytes` object using pillow |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.pil_tobytes()`](#Pixmap.pil_tobytes "Pixmap.pil_tobytes") | 使用pillow将其写入`bytes`对象
    |'
- en: '| [`Pixmap.pixel()`](#Pixmap.pixel "Pixmap.pixel") | return the value of a
    pixel |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.pixel()`](#Pixmap.pixel "Pixmap.pixel") | 返回像素值 |'
- en: '| [`Pixmap.save()`](#Pixmap.save "Pixmap.save") | save the pixmap in a variety
    of formats |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.save()`](#Pixmap.save "Pixmap.save") | 以多种格式保存像素图 |'
- en: '| [`Pixmap.set_alpha()`](#Pixmap.set_alpha "Pixmap.set_alpha") | set alpha
    values |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.set_alpha()`](#Pixmap.set_alpha "Pixmap.set_alpha") | 设置透明度值 |'
- en: '| [`Pixmap.set_dpi()`](#Pixmap.set_dpi "Pixmap.set_dpi") | set the image resolution
    |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.set_dpi()`](#Pixmap.set_dpi "Pixmap.set_dpi") | 设置图像分辨率 |'
- en: '| [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin") | set pixmap
    x,y values |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin") | 设置像素图的x、y值
    |'
- en: '| [`Pixmap.set_pixel()`](#Pixmap.set_pixel "Pixmap.set_pixel") | set color
    and alpha of a pixel |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.set_pixel()`](#Pixmap.set_pixel "Pixmap.set_pixel") | 设置像素的颜色和透明度
    |'
- en: '| [`Pixmap.set_rect()`](#Pixmap.set_rect "Pixmap.set_rect") | set color and
    alpha of all pixels in a rectangle |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.set_rect()`](#Pixmap.set_rect "Pixmap.set_rect") | 设置矩形内所有像素的颜色和透明度'
- en: '| [`Pixmap.shrink()`](#Pixmap.shrink "Pixmap.shrink") | reduce size keeping
    proportions |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.shrink()`](#Pixmap.shrink "Pixmap.shrink") | 缩小大小并保持比例 |'
- en: '| [`Pixmap.tint_with()`](#Pixmap.tint_with "Pixmap.tint_with") | tint the pixmap
    |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.tint_with()`](#Pixmap.tint_with "Pixmap.tint_with") | 对图像进行着色。'
- en: '| [`Pixmap.tobytes()`](#Pixmap.tobytes "Pixmap.tobytes") | return a memory
    area in a variety of formats |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.tobytes()`](#Pixmap.tobytes "Pixmap.tobytes") | 以多种格式返回内存区域。'
- en: '| [`Pixmap.warp()`](#Pixmap.warp "Pixmap.warp") | return a pixmap made from
    a quad inside |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.warp()`](#Pixmap.warp "Pixmap.warp") | 返回从四边形内部生成的图像。'
- en: '| [`Pixmap.alpha`](#Pixmap.alpha "Pixmap.alpha") | transparency indicator |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.alpha`](#Pixmap.alpha "Pixmap.alpha") | 透明度指示器。'
- en: '| [`Pixmap.colorspace`](#Pixmap.colorspace "Pixmap.colorspace") | pixmap’s
    [Colorspace](colorspace.html#colorspace) |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.colorspace`](#Pixmap.colorspace "Pixmap.colorspace") | 图像的颜色空间，参见
    [颜色空间](colorspace.html#colorspace)。'
- en: '| [`Pixmap.digest`](#Pixmap.digest "Pixmap.digest") | MD5 hashcode of the pixmap
    |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.digest`](#Pixmap.digest "Pixmap.digest") | 图像的 MD5 哈希码。'
- en: '| [`Pixmap.height`](#Pixmap.height "Pixmap.height") | pixmap height |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.height`](#Pixmap.height "Pixmap.height") | 图像高度。'
- en: '| [`Pixmap.interpolate`](#Pixmap.interpolate "Pixmap.interpolate") | interpolation
    method indicator |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.interpolate`](#Pixmap.interpolate "Pixmap.interpolate") | 插值方法指示器。'
- en: '| [`Pixmap.is_monochrome`](#Pixmap.is_monochrome "Pixmap.is_monochrome") |
    check if only black and white occur |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.is_monochrome`](#Pixmap.is_monochrome "Pixmap.is_monochrome") |
    检查是否仅包含黑白颜色。'
- en: '| [`Pixmap.is_unicolor`](#Pixmap.is_unicolor "Pixmap.is_unicolor") | check
    if only one color occurs |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.is_unicolor`](#Pixmap.is_unicolor "Pixmap.is_unicolor") | 检查是否仅出现一种颜色。'
- en: '| [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect") | [IRect](irect.html#irect)
    of the pixmap |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect") | 图像矩形 (`IRect`)。'
- en: '| [`Pixmap.n`](#Pixmap.n "Pixmap.n") | bytes per pixel |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.n`](#Pixmap.n "Pixmap.n") | 每像素字节。'
- en: '| [`Pixmap.samples_mv`](#Pixmap.samples_mv "Pixmap.samples_mv") | `memoryview`
    of pixel area |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.samples_mv`](#Pixmap.samples_mv "Pixmap.samples_mv") | 像素区域的 `memoryview`。'
- en: '| [`Pixmap.samples_ptr`](#Pixmap.samples_ptr "Pixmap.samples_ptr") | Python
    pointer to pixel area |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.samples_ptr`](#Pixmap.samples_ptr "Pixmap.samples_ptr") | 指向像素区域的
    Python 指针。'
- en: '| [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples") | `bytes` copy of pixel
    area |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples") | 像素区域的 `bytes` 副本。'
- en: '| [`Pixmap.size`](#Pixmap.size "Pixmap.size") | pixmap’s total length |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.size`](#Pixmap.size "Pixmap.size") | 图像的总长度。'
- en: '| [`Pixmap.stride`](#Pixmap.stride "Pixmap.stride") | size of one image row
    |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.stride`](#Pixmap.stride "Pixmap.stride") | 一行图像的大小。'
- en: '| [`Pixmap.width`](#Pixmap.width "Pixmap.width") | pixmap width |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.width`](#Pixmap.width "Pixmap.width") | 图像宽度。'
- en: '| [`Pixmap.x`](#Pixmap.x "Pixmap.x") | X-coordinate of top-left corner |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.x`](#Pixmap.x "Pixmap.x") | 左上角的 X 坐标。'
- en: '| [`Pixmap.xres`](#Pixmap.xres "Pixmap.xres") | resolution in X-direction |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.xres`](#Pixmap.xres "Pixmap.xres") | X 方向的分辨率。'
- en: '| [`Pixmap.y`](#Pixmap.y "Pixmap.y") | Y-coordinate of top-left corner |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.y`](#Pixmap.y "Pixmap.y") | 左上角的 Y 坐标。'
- en: '| [`Pixmap.yres`](#Pixmap.yres "Pixmap.yres") | resolution in Y-direction |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| [`Pixmap.yres`](#Pixmap.yres "Pixmap.yres") | Y 方向的分辨率。'
- en: '**Class API**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**类 API**'
- en: '[PRE0]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New empty pixmap:** Create an empty pixmap of size and origin given by the
    rectangle. So, *irect.top_left* designates the top left corner of the pixmap,
    and its width and height are *irect.width* resp. *irect.height*. Note that the
    image area is **not initialized** and will contain crap data – use eg. [`clear_with()`](#Pixmap.clear_with
    "Pixmap.clear_with") or [`set_rect()`](#Pixmap.set_rect "Pixmap.set_rect") to
    be sure.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**新的空白图像：** 创建一个大小和原点由矩形指定的空白图像。因此，*irect.top_left* 指定了图像的左上角，其宽度和高度分别为 *irect.width*
    和 *irect.height*。请注意，图像区域**未初始化**，可能包含垃圾数据 – 使用例如 [`clear_with()`](#Pixmap.clear_with
    "Pixmap.clear_with") 或 [`set_rect()`](#Pixmap.set_rect "Pixmap.set_rect") 确保。'
- en: 'Parameters:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**colorspace** ([Colorspace](colorspace.html#colorspace)) – colorspace.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**颜色空间** ([颜色空间](colorspace.html#colorspace)) – 颜色空间。'
- en: '**irect** (*irect_like*) – The pixmap’s position and dimension.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**irect**（*类似irect的irect*） – 图像的位置和尺寸。'
- en: '**alpha** (*bool*) – Specifies whether transparency bytes should be included.
    Default is *False*.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha**（*布尔值*） – 指定是否包括透明度字节。默认为 *False*。'
- en: '[PRE2]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Copy and set colorspace:** Copy *source* pixmap converting colorspace. Any
    colorspace combination is possible, but source colorspace must not be *None*.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制并设置颜色空间：** 复制 *源* 图像并转换颜色空间。可以使用任何颜色空间组合，但源颜色空间不能为 *None*。'
- en: 'Parameters:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**colorspace** ([Colorspace](colorspace.html#colorspace)) – desired **target**
    colorspace. This **may also be** *None*. In this case, a “masking” pixmap is created:
    its [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples") will consist of the source’s
    alpha bytes only.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colorspace** ([Colorspace](colorspace.html#colorspace)) – 所需的**目标**颜色空间。这**也可能是**
    *None*。在这种情况下，将创建一个“蒙版”像素图：其[`Pixmap.samples`](#Pixmap.samples "Pixmap.samples")将仅包含源的alpha字节。'
- en: '**source** (*Pixmap*) – the source pixmap.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**source** (*Pixmap*) – 源像素图。'
- en: '[PRE3]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: New in v1.18.18
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.18.18新功能
- en: '**Copy and add image mask:** Copy *source* pixmap, add an alpha channel with
    transparency data from a mask pixmap.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制并添加图像掩码：** 复制*source*像素图，添加一个带有来自掩码像素图的透明度数据的alpha通道。'
- en: 'Parameters:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**source** ([Pixmap](#pixmap)) – pixmap without alpha channel.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**source** ([Pixmap](#pixmap)) – 不带alpha通道的像素图。'
- en: '**mask** ([Pixmap](#pixmap)) – a mask pixmap. Must be a graysale pixmap.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mask** ([Pixmap](#pixmap)) – 掩码像素图。必须是灰度像素图。'
- en: '[PRE4]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '**Copy and scale:** Copy *source* pixmap, scaling new width and height values
    – the image will appear stretched or shrunk accordingly. Supports partial copying.
    The source colorspace may be *None*.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制并缩放：** 复制*source*像素图，缩放到新的宽度和高度值 – 图像将相应地拉伸或缩小。支持部分复制。源颜色空间可以是*None*。'
- en: 'Parameters:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**source** (*Pixmap*) – the source pixmap.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**source** (*Pixmap*) – 源像素图。'
- en: '**width** (*float*) – desired target width.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width** (*float*) – 目标宽度。'
- en: '**height** (*float*) – desired target height.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*float*) – 所需的目标高度。'
- en: '**clip** (*irect_like*) – restrict the resulting pixmap to this region of the
    **scaled** pixmap.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip** (*irect_like*) – 将生成的像素图限制为**缩放**像素图的这个区域。'
- en: Note
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If width or height do not *represent* integers (i.e. `value.is_integer() !=
    True`), then the resulting pixmap **will have an alpha channel**.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果宽度或高度不是整数（即`value.is_integer() != True`），那么生成的像素图**将具有alpha通道**。
- en: '[PRE5]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '**Copy and add or drop alpha:** Copy *source* and add or drop its alpha channel.
    Identical copy if *alpha* equals *source.alpha*. If an alpha channel is added,
    its values will be set to 255.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制并添加或删除alpha：** 复制*source*并添加或删除其alpha通道。如果*alpha*等于*source.alpha*，则是相同的副本。如果添加了alpha通道，则其值将设置为255。'
- en: 'Parameters:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**source** (*Pixmap*) – source pixmap.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**source** (*Pixmap*) – 源像素图。'
- en: '**alpha** (*bool*) – whether the target will have an alpha channel, default
    and mandatory if source colorspace is *None*.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha** (*bool*) – 目标是否带有alpha通道，默认且如果源颜色空间为*None*则为必须项。'
- en: Note
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'A typical use includes separation of color and transparency bytes in separate
    pixmaps. Some applications require this like e.g. *wx.Bitmap.FromBufferAndAlpha()*
    of *wxPython*:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 典型用法包括将颜色和透明度字节分离到单独的像素图中。某些应用程序需要此功能，例如*wxPython*的*wx.Bitmap.FromBufferAndAlpha()*：
- en: '[PRE6]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '**From a file:** Create a pixmap from *filename*. All properties are inferred
    from the input. The origin of the resulting pixmap is *(0, 0)*.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**从文件中创建：** 从*filename*创建一个像素图。所有属性均从输入中推断。生成像素图的原点为*(0, 0)*。'
- en: 'Parameters:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**filename** (*str*) – Path of the image file.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**filename** (*str*) – 图像文件的路径。'
- en: '[PRE8]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '**From memory:** Create a pixmap from a memory area. All properties are inferred
    from the input. The origin of the resulting pixmap is *(0, 0)*.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '**从内存中创建：** 从内存区域创建一个像素图。所有属性均从输入中推断。生成像素图的原点为*(0, 0)*。'
- en: 'Parameters:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**stream** (*bytes**,**bytearray**,**BytesIO*) –'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '**stream** (*bytes**,**bytearray**,**BytesIO*) –'
- en: Data containing a complete, valid image. Could have been created by e.g. *stream
    = bytearray(open(‘image.file’, ‘rb’).read())*. Type *bytes* is supported in **Python
    3 only**, because *bytes == str* in Python 2 and the method will interpret the
    stream as a filename.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 包含完整有效图像的数据。例如可以通过*stream = bytearray(open('image.file', 'rb').read())*创建。仅支持**Python
    3中**的*bytes*类型，因为在Python 2中*bytes == str*，该方法将把流解释为文件名。
- en: '*Changed in version 1.14.13:* *io.BytesIO* is now also supported.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '*在版本1.14.13中更改：* 现在也支持*io.BytesIO*。'
- en: '[PRE9]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '**From plain pixels:** Create a pixmap from *samples*. Each pixel must be represented
    by a number of bytes as controlled by the *colorspace* and *alpha* parameters.
    The origin of the resulting pixmap is *(0, 0)*. This method is useful when raw
    image data are provided by some other program – see [FAQ](faq.html#faq).'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '**从纯像素创建：** 从*samples*创建一个像素图。每个像素必须由*colorspace*和*alpha*参数控制的字节数表示。生成像素图的原点为*(0,
    0)*。当某些其他程序提供原始图像数据时，此方法非常有用 - 请参见[FAQ](faq.html#faq)。'
- en: 'Parameters:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**colorspace** ([Colorspace](colorspace.html#colorspace)) – Colorspace of image.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colorspace** ([Colorspace](colorspace.html#colorspace)) – 图像的颜色空间。'
- en: '**width** (*int*) – image width'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width** (*int*) – 图像宽度'
- en: '**height** (*int*) – image height'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*int*) – 图像高度'
- en: '**samples** (*bytes**,**bytearray**,**BytesIO*) –'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**samples** (*bytes**,**bytearray**,**BytesIO*) –'
- en: an area containing all pixels of the image. Must include alpha values if specified.
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 包含图像所有像素的区域。如果指定，必须包括alpha值。
- en: '*Changed in version 1.14.13:* (1) *io.BytesIO* can now also be used. (2) Data
    are now **copied** to the pixmap, so may safely be deleted or become unavailable.'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*从版本1.14.13开始更改：*（1）现在也可以使用*io.BytesIO*。（2）数据现在已被**复制**到像素图中，因此可以安全删除或变得不可用。'
- en: '**alpha** (*bool*) – whether a transparency channel is included.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alpha**（*bool*）– 是否包含透明通道。'
- en: Note
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The following equation **must be true**: *(colorspace.n + alpha) * width *
    height == len(samples)*.'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下列方程式 **必须为真**：*(colorspace.n + alpha) * width * height == len(samples)*。
- en: Starting with version 1.14.13, the samples data are **copied** to the pixmap.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从版本1.14.13开始，样本数据被**复制**到像素图中。
- en: '[PRE10]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**From a PDF image:** Create a pixmap from an image **contained in PDF** *doc*
    identified by its [`xref`](glossary.html#xref "xref"). All pimap properties are
    set by the image. Have a look at [extract-img1.py](https://github.com/pymupdf/PyMuPDF/tree/master/demo/extract-img1.py)
    and [extract-img2.py](https://github.com/pymupdf/PyMuPDF/tree/master/demo/extract-img2.py)
    to see how this can be used to recover all of a PDF’s images.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**从PDF图像中：** 从以其[`xref`](glossary.html#xref "xref")标识的PDF文档*doc*中提取的图像创建一个像素图。所有像素图属性都由图像设置。请查看[extract-img1.py](https://github.com/pymupdf/PyMuPDF/tree/master/demo/extract-img1.py)和[extract-img2.py](https://github.com/pymupdf/PyMuPDF/tree/master/demo/extract-img2.py)，了解如何使用这些工具来恢复PDF的所有图像。'
- en: 'Parameters:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**doc** ([Document](document.html#document)) – an opened **PDF** document.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**doc**（[Document](document.html#document)）– 打开的**PDF**文档。'
- en: '**xref** (*int*) – the [`xref`](glossary.html#xref "xref") of an image object.
    For example, you can make a list of images used on a particular page with [`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images"), which also shows the [`xref`](glossary.html#xref
    "xref") numbers of each image.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xref**（*int*）– 图像对象的[`xref`](glossary.html#xref "xref")。例如，您可以使用[`Document.get_page_images()`](document.html#Document.get_page_images
    "Document.get_page_images")列出特定页面上使用的所有图像，并显示每个图像的[`xref`](glossary.html#xref
    "xref")编号。'
- en: '[PRE11]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Initialize the samples area.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 初始化样本区域。
- en: 'Parameters:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**value** (*int*) – if specified, values from 0 to 255 are valid. Each color
    byte of each pixel will be set to this value, while alpha will be set to 255 (non-transparent)
    if present. If omitted, then all bytes (including any alpha) are cleared to *0x00*.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**value**（*int*）– 如果指定，值从0到255有效。每个像素的每个颜色字节将设置为此值，如果存在alpha通道，则alpha将设置为255（不透明）。如果省略，则所有字节（包括任何alpha通道）都将清除为*0x00*。'
- en: '**irect** (*irect_like*) – the area to be cleared. Omit to clear the whole
    pixmap. Can only be specified, if *value* is also specified.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**irect**（*irect_like*）– 要清除的区域。如果还指定了*value*，则可以省略以清除整个像素图。如果颜色空间为[`CS_GRAY`](vars.html#CS_GRAY
    "CS_GRAY")，则将采用平均值*(red + green + blue)/3*。像素图将在原地更改。'
- en: '[PRE12]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Colorize a pixmap by replacing black and / or white with colors given as **sRGB
    integer** values. Only colorspaces [`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY") and
    [`CS_RGB`](vars.html#CS_RGB "CS_RGB") are supported, others are ignored with a
    warning.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 通过用**sRGB整数**值替换黑色和/或白色来着色像素图。仅支持颜色空间[`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY")和[`CS_RGB`](vars.html#CS_RGB
    "CS_RGB")，其他颜色空间将被忽略并显示警告。
- en: If the colorspace is [`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY"), the average *(red
    + green + blue)/3* will be taken. The pixmap will be changed in place.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如果颜色空间是[`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY")，则将采用平均值*(red + green + blue)/3*。像素图将在原地更改。
- en: 'Parameters:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**black** (*int*) – replace black with this value. Specifying 0x000000 makes
    no changes.'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**黑色**（*int*）– 用此值替换黑色。指定0x000000不会做任何更改。'
- en: '**white** (*int*) – replace white with this value. Specifying 0xFFFFFF makes
    no changes.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**白色**（*int*）– 用此值替换白色。指定0xFFFFFF不会做任何更改。'
- en: 'Examples:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '`tint_with(0x000000, 0xFFFFFF)` is a no-op.'
  id: totrans-132
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tint_with(0x000000, 0xFFFFFF)` 不起作用。'
- en: ''
  id: totrans-133
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-134
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`tint_with(0x00FF00, 0xFFFFFF)` changes black to green, leaves white intact.'
  id: totrans-135
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tint_with(0x00FF00, 0xFFFFFF)` 将黑色改为绿色，保留白色不变。'
- en: ''
  id: totrans-136
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-137
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`tint_with(0xFF0000, 0x0000FF)` changes black to red and white to blue.'
  id: totrans-138
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tint_with(0xFF0000, 0x0000FF)` 将黑色改为红色，白色改为蓝色。'
- en: '[PRE13]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Apply a gamma factor to a pixmap, i.e. lighten or darken it. Pixmaps with colorspace
    *None* are ignored with a warning.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 将伽马因子应用于像素图，即使图像变亮或变暗。颜色空间为*None*的像素图将被忽略并显示警告。
- en: 'Parameters:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**gamma** (*float*) – *gamma = 1.0* does nothing, *gamma < 1.0* lightens, *gamma
    > 1.0* darkens the image.'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '**gamma**（*float*）– *gamma = 1.0* 不起作用，*gamma < 1.0* 变亮，*gamma > 1.0* 变暗。'
- en: '[PRE14]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Shrink the pixmap by dividing both, its width and height by 2:sup:`n`.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 将像素图的宽度和高度都除以2:sup:`n`来缩小像素图。
- en: 'Parameters:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**n** (*int*) – determines the new pixmap (samples) size. For example, a value
    of 2 divides width and height by 4 and thus results in a size of one 16^(th) of
    the original. Values less than 1 are ignored with a warning.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**n** (*整数*) – 确定新像素图（样本）的大小。例如，值为 2 将宽度和高度除以 4，因此结果是原始大小的 1/16。小于 1 的值会被忽略并显示警告。'
- en: Note
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Use this methods to reduce a pixmap’s size retaining its proportion. The pixmap
    is changed “in place”. If you want to keep original and also have more granular
    choices, use the resp. copy constructor above.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些方法可以保持比例减小像素图的大小。像素图会被“就地”修改。如果想要保留原始图像并且有更多细粒度的选择，可以使用上面的相应复制构造函数。
- en: '[PRE15]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '*New in version:: 1.14.5:* Return the value of the pixel at location (x, y)
    (column, line).'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '*自版本 1.14.5 新增:* 返回位于位置 (x, y)（列，行）的像素的值。'
- en: 'Parameters:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**x** (*int*) – the column number of the pixel. Must be in `range(pix.width)`.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x** (*整数*) – 像素的列数。必须在`range(pix.width)`内。'
- en: '**y** (*int*) – the line number of the pixel, Must be in `range(pix.height)`.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**y** (*整数*) – 像素的行数，必须在`range(pix.height)`内。'
- en: 'Return type:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '返回类型:'
- en: list
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 列表
- en: 'Returns:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: a list of color values and, potentially the alpha value. Its length and content
    depend on the pixmap’s colorspace and the presence of an alpha. For RGBA pixmaps
    the result would e.g. be *[r, g, b, a]*. All items are integers in `range(256)`.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 一个颜色值列表，可能还包括 alpha 值。其长度和内容取决于像素图的颜色空间和 alpha 的存在。对于 RGBA 像素图，结果可能是 *[r, g,
    b, a]*。所有项都是`range(256)`内的整数。
- en: '[PRE16]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*New in version 1.14.7:* Manipulate the pixel at location (x, y) (column, line).'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '*自版本 1.14.7 新增:* 操纵位于位置 (x, y)（列，行）的像素。'
- en: 'Parameters:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**x** (*int*) – the column number of the pixel. Must be in `range(pix.width)`.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x** (*整数*) – 像素的列数。必须在`range(pix.width)`内。'
- en: '**y** (*int*) – the line number of the pixel. Must be in `range(pix.height)`.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**y** (*整数*) – 像素的行数。必须在`range(pix.height)`内。'
- en: '**color** (*sequence*) – the desired pixel value given as a sequence of integers
    in `range(256)`. The length of the sequence must equal [`Pixmap.n`](#Pixmap.n
    "Pixmap.n"), which includes any alpha byte.'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**color** (*序列*) – 作为整数序列给出的期望像素值，范围在`range(256)`内。序列的长度必须等于 [`Pixmap.n`](#Pixmap.n
    "Pixmap.n")，其中包括任何 alpha 字节。'
- en: '[PRE17]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '*New in version 1.14.8:* Set the pixels of a rectangle to a value.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '*自版本 1.14.8 新增:* 将矩形的像素设置为一个值。'
- en: 'Parameters:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**irect** (*irect_like*) – the rectangle to be filled with the value. The actual
    area is the intersection of this parameter and [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect"). For an empty intersection (or an invalid parameter), no change
    will happen.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**irect** (*irect_like*) – 要用值填充的矩形。实际区域是该参数与 [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect") 的交集。对于空交集（或无效参数），不会发生任何更改。'
- en: '**color** (*sequence*) – the desired value, given as a sequence of integers
    in `range(256)`. The length of the sequence must equal [`Pixmap.n`](#Pixmap.n
    "Pixmap.n"), which includes any alpha byte.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**color** (*序列*) – 期望的值，作为`range(256)`内的整数序列给出。序列的长度必须等于 [`Pixmap.n`](#Pixmap.n
    "Pixmap.n")，其中包括任何 alpha 字节。'
- en: 'Return type:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '返回类型:'
- en: bool
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 布尔值
- en: 'Returns:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: '*False* if the rectangle was invalid or had an empty intersection with [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect"), else *True*.'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 如果矩形无效或与 [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect") 的交集为空，则为 *False*，否则为
    *True*。
- en: Note
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method is equivalent to [`Pixmap.set_pixel()`](#Pixmap.set_pixel "Pixmap.set_pixel")
    executed for each pixel in the rectangle, but is obviously **very much faster**
    if many pixels are involved.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这种方法相当于对矩形中的每个像素执行 [`Pixmap.set_pixel()`](#Pixmap.set_pixel "Pixmap.set_pixel")，但是如果涉及到许多像素，这显然**速度更快**。
- en: 'This method can be used similar to [`Pixmap.clear_with()`](#Pixmap.clear_with
    "Pixmap.clear_with") to initialize a pixmap with a certain color like this: *pix.set_rect(pix.irect,
    (255, 255, 0))* (RGB example, colors the complete pixmap with yellow).'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '可以使用此方法类似于 [`Pixmap.clear_with()`](#Pixmap.clear_with "Pixmap.clear_with")
    来初始化具有特定颜色的像素图，例如: *pix.set_rect(pix.irect, (255, 255, 0))*（RGB 示例，将整个像素图着色为黄色）。'
- en: '[PRE18]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: New in v1.17.7
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增于 v1.17.7
- en: Set the x and y values of the pixmap’s top-left point.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 设置像素图左上角点的 x 和 y 值。
- en: 'Parameters:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**x** (*int*) – x coordinate'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x** (*整数*) – x 坐标'
- en: '**y** (*int*) – y coordinate'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**y** (*整数*) – y 坐标'
- en: '[PRE19]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: New in v1.16.17
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增于 v1.16.17
- en: 'Changed in v1.18.0: When saving as a PNG image, these values will be stored
    now.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'v1.18.0 中更改: 将这些值保存为 PNG 图像时，现在会存储这些值。'
- en: Set the resolution (dpi) in x and y direction.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 设置 x 和 y 方向的分辨率（dpi）。
- en: 'Parameters:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**xres** (*int*) – resolution in x direction.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**xres** (*整数*) – x 方向的分辨率。'
- en: '**yres** (*int*) – resolution in y direction.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**yres** (*整数*) – y 方向的分辨率。'
- en: '[PRE20]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Changed in v 1.18.13
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v 1.18.13 中更改
- en: Change the alpha values. The pixmap must have an alpha channel.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 更改 alpha 值。像素图必须具有 alpha 通道。
- en: 'Parameters:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**alphavalues** (*bytes**,**bytearray**,**BytesIO*) – the new alpha values.
    If provided, its length must be at least *width * height*. If omitted (`None`),
    all alpha values are set to 255 (no transparency). *Changed in version 1.14.13:*
    *io.BytesIO* is now also accepted.'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**alphavalues** (*bytes**,**bytearray**,**BytesIO*) – 新的 alpha 值。如果提供，其长度必须至少为
    *width * height*。如果省略 (`None`)，则所有 alpha 值都设置为 255（不透明）。*从版本 1.14.13 开始更改:* 现在还接受
    *io.BytesIO*。'
- en: '**premultiply** (*bool*) – *New in v1.18.13:* whether to premultiply color
    components with the alpha value.'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**premultiply** (*bool*) – *v1.18.13 新增:* 是否使用 alpha 值预乘颜色分量。'
- en: '**opaque** (*list**,**tuple*) – ignore the alpha value and set this color to
    fully transparent. A sequence of integers in `range(256)` with a length of [`Pixmap.n`](#Pixmap.n
    "Pixmap.n"). Default is *None*. For example, a typical choice for RGB would be
    `opaque=(255, 255, 255)` (white).'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**opaque** (*list**,**tuple*) – 忽略 alpha 值，并将此颜色设置为完全透明。长度为 [`Pixmap.n`](#Pixmap.n
    "Pixmap.n") 的 `range(256)` 整数序列。默认为 *None*。例如，RGB 的典型选择可能是 `opaque=(255, 255,
    255)`（白色）。'
- en: '[PRE21]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Invert the color of all pixels in [IRect](irect.html#irect) *irect*. Will have
    no effect if colorspace is *None*.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 反转 [IRect](irect.html#irect) *irect* 区域中所有像素的颜色。如果颜色空间为 *None*，则不会产生任何效果。
- en: 'Parameters:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**irect** (*irect_like*) – The area to be inverted. Omit to invert everything.'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '**irect** (*irect_like*) – 要反转的区域。省略以反转所有内容。'
- en: '[PRE22]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Copy the *irect* part of the *source* pixmap into the corresponding area of
    this one. The two pixmaps may have different dimensions and can each have [`CS_GRAY`](vars.html#CS_GRAY
    "CS_GRAY") or [`CS_RGB`](vars.html#CS_RGB "CS_RGB") colorspaces, but they currently
    **must** have the same alpha property [[2]](#f2). The copy mechanism automatically
    adjusts discrepancies between source and target like so:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 复制源像素图的 *irect* 部分到此像素图的相应区域。这两个像素图可能具有不同的尺寸，并且每个都可以具有 [`CS_GRAY`](vars.html#CS_GRAY
    "CS_GRAY") 或 [`CS_RGB`](vars.html#CS_RGB "CS_RGB") 颜色空间，但它们当前必须具有相同的 alpha 属性
    [[2]](#f2)。复制机制会自动调整源和目标之间的差异，方法如下：
- en: If copying from [`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY") to [`CS_RGB`](vars.html#CS_RGB
    "CS_RGB"), the source gray-shade value will be put into each of the three rgb
    component bytes. If the other way round, *(r + g + b) / 3* will be taken as the
    gray-shade value of the target.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如果从 [`CS_GRAY`](vars.html#CS_GRAY "CS_GRAY") 复制到 [`CS_RGB`](vars.html#CS_RGB
    "CS_RGB")，源灰阶值将放入每个 RGB 组件字节中。如果反过来，则目标的灰阶值将取为 *(r + g + b) / 3*。
- en: Between *irect* and the target pixmap’s rectangle, an “intersection” is calculated
    at first. This takes into account the rectangle coordinates and the current attribute
    values [`Pixmap.x`](#Pixmap.x "Pixmap.x") and [`Pixmap.y`](#Pixmap.y "Pixmap.y")
    (which you are free to modify for this purpose via [`Pixmap.set_origin()`](#Pixmap.set_origin
    "Pixmap.set_origin")). Then the corresponding data of this intersection are copied.
    If the intersection is empty, nothing will happen.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 首先计算 *irect* 和目标像素图矩形的“交集”。这考虑了矩形坐标以及当前属性值 [`Pixmap.x`](#Pixmap.x "Pixmap.x")
    和 [`Pixmap.y`](#Pixmap.y "Pixmap.y")（您可以通过 [`Pixmap.set_origin()`](#Pixmap.set_origin
    "Pixmap.set_origin") 自由修改以达到此目的）。然后复制此交集的相应数据。如果交集为空，则什么也不会发生。
- en: 'Parameters:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**source** ([Pixmap](#pixmap)) – source pixmap.'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**source** ([Pixmap](#pixmap)) – 源像素图。'
- en: '**irect** (*irect_like*) – The area to be copied.'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**irect** (*irect_like*) – 要复制的区域。'
- en: Note
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Example: Suppose you have two pixmaps, `pix1` and `pix2` and you want to copy
    the lower right quarter of `pix2` to `pix1` such that it starts at the top-left
    point of `pix1`. Use the following snippet:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：假设您有两个像素图 `pix1` 和 `pix2`，您想将 `pix2` 的右下角四分之一复制到 `pix1`，使其从 `pix1` 的左上角点开始。请使用以下代码片段：
- en: '[PRE23]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '[![_images/img-pixmapcopy.jpg](../Images/320db08e8f18c0a5ba863ee171f2b2bd.png)](_images/img-pixmapcopy.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-pixmapcopy.jpg](../Images/320db08e8f18c0a5ba863ee171f2b2bd.png)](_images/img-pixmapcopy.jpg)'
- en: '[PRE24]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Changed in v1.22.0: Added **direct support of JPEG** images. Image quality
    can be controlled via parameter “jpg_quality”.'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: v1.22.0 中更改：直接支持 JPEG 图像。可以通过参数 “jpg_quality” 控制图像质量。
- en: Save pixmap as an image file. Depending on the output chosen, only some or all
    colorspaces are supported and different file extensions can be chosen. Please
    see the table below.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 将像素图保存为图像文件。根据选择的输出，仅支持一些或所有颜色空间，并且可以选择不同的文件扩展名。请参见下表。
- en: 'Parameters:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**filename** (*str**,**Path**,**file*) – The file to save to. May be provided
    as a string, as a `pathlib.Path` or as a Python file object. In the latter two
    cases, the filename is taken from the resp. object. The filename’s extension determines
    the image format, which can be overruled by the output parameter.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** (*str**,**Path**,**file*) – 要保存到的文件。可以提供为字符串，作为 `pathlib.Path`
    或作为 Python 文件对象。在后两种情况下，文件名取自相应的对象。文件名的扩展名确定图像格式，可以通过输出参数覆盖。'
- en: '**output** (*str*) – The desired image format. The default is the filename’s
    extension. If both, this value and the file extension are unsupported, an exception
    is raised. For possible values see [Supported Output Image Formats](#pixmapoutput).'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**output** (*str*) – 所需的图像格式。默认为文件名的扩展名。如果此值和文件扩展名都不受支持，则会引发异常。可能的值请参阅 [支持的输出图像格式](#pixmapoutput)。'
- en: '**jpg_quality** (*int*) – The desired image quality, default 95\. Only applies
    to JPEG images, else ignored. This parameter trades quality against file size.
    A value of 98 is close to lossless. Higher values should not lead to better quality.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**jpg_quality** (*int*) – 所需的图像质量，默认为 95。仅适用于 JPEG 图像，否则忽略。此参数在质量和文件大小之间进行权衡。值为
    98 接近无损。更高的值不应导致更好的质量。'
- en: 'Raises:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 引发：
- en: '**ValueError** – For unsupported image formats.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '**ValueError** – 不支持的图像格式。'
- en: '[PRE25]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'New in version 1.14.5: Return the pixmap as a *bytes* memory object of the
    specified format – similar to [`save()`](#Pixmap.save "Pixmap.save").'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从版本 1.14.5 新增：将像素图作为指定格式的 *bytes* 内存对象返回 – 类似于 [`save()`](#Pixmap.save "Pixmap.save")。
- en: 'Changed in v1.22.0: Added **direct JPEG support**. Image quality can be influenced
    via new parameter “jpg_quality”.'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.22.0 版本更改：添加 **直接的 JPEG 支持**。可以通过新参数“jpg_quality”影响图像质量。
- en: 'Parameters:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**output** (*str*) – The desired image format. The default is “png”. For possible
    values see [Supported Output Image Formats](#pixmapoutput).'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**output** (*str*) – 所需的图像格式。默认为“png”。可能的值请参阅 [支持的输出图像格式](#pixmapoutput)。'
- en: '**jpg_quality** (*int*) – The desired image quality, default 95\. Only applies
    to JPEG images, else ignored. This parameter trades quality against file size.
    A value of 98 is close to lossless. Higher values should not lead to better quality.'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**jpg_quality** (*int*) – 所需的图像质量，默认为 95。仅适用于 JPEG 图像，否则忽略。此参数在质量和文件大小之间进行权衡。值为
    98 接近无损。更高的值不应导致更好的质量。'
- en: '**output** – The requested image format. The default is “png”. For other possible
    values see [Supported Output Image Formats](#pixmapoutput).'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**output** – 请求的图像格式。默认为“png”。其他可能的值请参阅 [支持的输出图像格式](#pixmapoutput)。'
- en: 'Raises:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 引发：
- en: '**ValueError** – For unsupported image formats.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**ValueError** – 不支持的图像格式。'
- en: 'Return type:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: bytes
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 字节
- en: '[PRE26]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: New in v1.19.0
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.19.0 新增
- en: 'Changed in v1.22.5: Support of new parameter for Tesseract’s tessdata.'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.22.5 版本更改：支持 Tesseract 的 tessdata 的新参数。
- en: Perform text recognition using Tesseract and save the image as a 1-page PDF
    with an OCR text layer.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Tesseract 执行文本识别，并将图像保存为带有 OCR 文本层的 1 页 PDF。
- en: 'Parameters:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**filename** (*str**,**fp*) – identifies the file to save to. May be either
    a string or a pointer to a file opened with “wb” (includes `io.BytesIO()` objects).'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**filename** (*str**,**fp*) – 要保存的文件标识。可以是字符串，也可以是以“wb”打开的文件指针（包括 `io.BytesIO()`
    对象）。'
- en: '**compress** (*bool*) – whether to compress the resulting PDF, default is `True`.'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**compress** (*bool*) – 是否压缩生成的 PDF，默认为 `True`。'
- en: '**language** (*str*) – the languages occurring in the image. This must be specified
    in Tesseract format. Default is “eng” for English. Use “+”-separated Tesseract
    language codes for multiple languages, like “eng+spa” for English and Spanish.'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**language** (*str*) – 图像中出现的语言。必须以 Tesseract 格式指定。默认为“eng”表示英语。对于多种语言，请使用以“+”分隔的
    Tesseract 语言代码，如“eng+spa”表示英语和西班牙语。'
- en: '**tessdata** (*str*) – folder name of Tesseract’s language support. If omitted,
    this information must be present as environment variable [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX").'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**tessdata** (*str*) – Tesseract 语言支持的文件夹名称。如果省略，则必须存在此信息作为环境变量 [`TESSDATA_PREFIX`](functions.html#TESSDATA_PREFIX
    "TESSDATA_PREFIX")。'
- en: Note
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '**Will fail** if Tesseract is not installed or if the environment variable
    “TESSDATA_PREFIX” is not set to the `tessdata` folder name and not provided as
    parameter.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 如果未安装 Tesseract 或者环境变量“TESSDATA_PREFIX”未设置为 `tessdata` 文件夹名称且未作为参数提供，则会失败。
- en: '[PRE27]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: New in v1.19.0
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.19.0 新增
- en: 'Changed in v1.22.5: Support of new parameter for Tesseract’s tessdata.'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.22.5 版本更改：支持 Tesseract 的 tessdata 的新参数。
- en: Perform text recognition using Tesseract and convert the image to a 1-page PDF
    with an OCR text layer. Internally invokes [`Pixmap.pdfocr_save()`](#Pixmap.pdfocr_save
    "Pixmap.pdfocr_save").
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Tesseract 执行文本识别，并将图像转换为带有 OCR 文本层的单页 PDF。内部调用 [`Pixmap.pdfocr_save()`](#Pixmap.pdfocr_save
    "Pixmap.pdfocr_save")。
- en: 'Returns:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: A 1-page PDF file in memory. Could be opened like `doc=pymupdf.open("pdf", pix.pdfocr_tobytes())`,
    and text extractions could be performed on its `page=doc[0]`.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 内存中的单页 PDF 文件。可以像这样打开 `doc=pymupdf.open("pdf", pix.pdfocr_tobytes())`，并可以在其上执行文本提取
    `page=doc[0]`。
- en: Note
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Another possible use is insertion into some pdf. The following snippet reads
    the images of a folder and stores them as pages in a new PDF that contain an OCR
    text layer:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个可能的用途是插入到某些 PDF 中。以下代码片段读取文件夹中的图像，并将其存储为包含 OCR 文本层的新 PDF 的页面：
- en: '[PRE28]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '[PRE29]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: New in v1.17.3
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能在 v1.17.3 中引入。
- en: Write the pixmap as an image file using Pillow. Use this method for output unsupported
    by MuPDF. Examples are
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Pillow 将像素图写入图像文件。用此方法输出 MuPDF 不支持的内容。示例包括：
- en: Formats JPX, J2K, WebP, etc.
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 格式 JPX、J2K、WebP 等。
- en: Storing EXIF information.
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储 EXIF 信息。
- en: If you do not provide dpi information, the values *xres*, *yres* stored with
    the pixmap are automatically used.
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果未提供 dpi 信息，则将自动使用像素图存储的 *xres*、*yres* 值。
- en: 'A simple example: `pix.pil_save("some.webp", optimize=True, dpi=(150, 150))`.'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 简单示例：`pix.pil_save("some.webp", optimize=True, dpi=(150, 150))`。
- en: 'Parameters:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**unmultiply** (*bool*) – If the pixmap’s colorspace is RGB with transparency,
    the alpha values may or may not already be multiplied into the color components
    ref/green/blue (called “premultiplied”). To enforce undoing premultiplication,
    set this parameter to `True`. To learn about some background, e.g. look for “Premultiplied
    alpha” [here](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P).'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '**unmultiply** (*bool*) – 如果像素图的颜色空间为 RGB 且带有透明度，则 alpha 值可能已经或未经过乘入颜色分量 ref/green/blue（称为“预乘
    alpha”）。若要强制取消预乘，将此参数设置为 `True`。有关背景信息，请参阅例如此处的“预乘 alpha” [页面](https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P)。'
- en: For details on other parameters see the Pillow documentation.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 有关其他参数的详细信息，请参阅 Pillow 文档。
- en: Since v1.22.0, PyMuPDF supports JPEG output directly. We recommended to no longer
    use this method for JPEG output – for performance reasons and for avoiding unnecessary
    external dependencies.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 自 v1.22.0 起，PyMuPDF 直接支持 JPEG 输出。基于性能原因和避免不必要的外部依赖，我们建议不再使用此方法进行 JPEG 输出。
- en: 'Raises:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 抛出异常：
- en: '**ImportError** – if Pillow is not installed.'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '**ImportError** – 如果未安装 Pillow。'
- en: '[PRE30]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: New in v1.17.3
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能在 v1.17.3 中引入。
- en: Return an image as a bytes object in the specified format using Pillow. For
    example `stream = pix.pil_tobytes(format="WEBP", optimize=True, dpi=(150, 150))`.
    Also see above. For details on other parameters see the Pillow documentation.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Pillow 返回指定格式的图像作为字节对象。例如 `stream = pix.pil_tobytes(format="WEBP", optimize=True,
    dpi=(150, 150))`。同样请参阅上文。有关其他参数的详细信息，请参阅 Pillow 文档。
- en: 'Raises:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 抛出异常：
- en: '**ImportError** – if Pillow is not installed.'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '**ImportError** – 如果未安装 Pillow。'
- en: 'Return type:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: bytes
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 字节
- en: '[PRE31]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: New in v1.19.3
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能在 v1.19.3 中引入。
- en: Return a new pixmap by “warping” the quad such that the quad corners become
    the new pixmap’s corners. The target pixmap’s [IRect](irect.html) will be `(0,
    0, width, height)`.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 返回通过“扭曲”四边形以使四边形角点成为新像素图角点的新像素图。目标像素图的 [IRect](irect.html) 将是 `(0, 0, width,
    height)`。
- en: 'Parameters:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**quad** (*quad_like*) – a convex quad with coordinates inside [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect") (including the border points).'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**quad** (*quad_like*) – 一个凸四边形，其坐标位于 [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect")
    内（包括边界点）。'
- en: '**width** (*int*) – desired resulting width.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**width** (*int*) – 期望的结果宽度。'
- en: '**height** (*int*) – desired resulting height.'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**height** (*int*) – 期望的结果高度。'
- en: 'Returns:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'A new pixmap where the quad corners are mapped to the pixmap corners in a clockwise
    fashion: `quad.ul -> irect.tl`, `quad.ur -> irect.tr`, etc.'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 新的像素图，在四边形角点以顺时针方向映射到像素图的角点：`quad.ul -> irect.tl`，`quad.ur -> irect.tr`，等等。
- en: 'Return type:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: '[Pixmap](#pixmap)'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '[Pixmap](#pixmap)'
- en: '[![_images/img-warp.png](../Images/153b2284232ec54e56424c176d17a43e.png)](_images/img-warp.png)'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '[![_images/img-warp.png](../Images/153b2284232ec54e56424c176d17a43e.png)](_images/img-warp.png)'
- en: '[PRE32]'
  id: totrans-283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: New in v1.19.2
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能在 v1.19.2 中引入。
- en: Changed in v1.19.3
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 v1.19.3 中更改。
- en: Determine the pixmap’s unique colors and their count.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 确定像素图的唯一颜色及其计数。
- en: 'Parameters:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**colors** (*bool*) – *(changed in v1.19.3)* If `True` return a dictionary
    of color pixels and their usage count, else just the number of unique colors.'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**colors** (*bool*) – *(在 v1.19.3 中更改)* 如果为 `True`，返回颜色像素及其使用计数的字典，否则仅返回唯一颜色的数量。'
- en: '**clip** (*rect_like*) – a rectangle inside [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect"). If provided, only those pixels are considered. This allows inspecting
    sub-rectangles of a given pixmap directly – instead of building sub-pixmaps.'
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*） – [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect") 内的一个矩形。如果提供，则仅考虑这些像素。这允许直接检查给定像素图的子矩形，而无需构建子像素图。'
- en: 'Return type:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: dict or int
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 字典或整型
- en: 'Returns:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'either the number of colors, or a dictionary with the items `pixel: count`.
    The pixel key is a `bytes` object of length [`Pixmap.n`](#Pixmap.n "Pixmap.n").'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: '要么颜色数量，要么带有 `pixel: count` 项目的字典。像素键是长度为 [`Pixmap.n`](#Pixmap.n "Pixmap.n")
    的 `bytes` 对象。'
- en: Note
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: To recover the **tuple** of a pixel, use `tuple(colors.keys()[i])` for the i-th
    item.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 要恢复像素的**元组**，使用 `tuple(colors.keys()[i])` 获取第 i 项。
- en: The response time depends on the pixmap’s samples size and may be more than
    a second for very large pixmaps.
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 响应时间取决于像素图的样本大小，对于非常大的像素图可能超过一秒钟。
- en: Where applicable, pixels with different alpha values will be treated as different
    colors.
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在适用的情况下，具有不同 alpha 值的像素将被视为不同颜色。
- en: '[PRE33]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: New in v1.19.3
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能，版本号为 v1.19.3
- en: Return the most frequently used color and its relative frequency.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 返回最常用的颜色及其相对频率。
- en: 'Parameters:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**clip** (*rect_like*) – A rectangle inside [`Pixmap.irect`](#Pixmap.irect
    "Pixmap.irect"). If provided, only those pixels are considered. This allows inspecting
    sub-rectangles of a given pixmap directly – instead of building sub-pixmaps.'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '**clip**（*rect_like*） – [`Pixmap.irect`](#Pixmap.irect "Pixmap.irect") 内的一个矩形。如果提供，则仅考虑这些像素。这允许直接检查给定像素图的子矩形，而无需构建子像素图。'
- en: 'Return type:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 返回类型：
- en: tuple
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 元组
- en: 'Returns:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: 'A tuple `(ratio, pixel)` where `0 < ratio <= 1` and *pixel* is the pixel value
    of the color. Use this to decide if the image is “almost” unicolor: a response
    `(0.95, b"x00x00x00")` means that 95% of all pixels are black. See an example
    here [How to Use Pixmaps: Checking Text Visibility](recipes-images.html#recipesimages-p).'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 一个元组 `(ratio, pixel)`，其中 `0 < ratio <= 1`，*pixel* 是颜色的像素值。使用这个来判断图像是否“几乎”单色：响应
    `(0.95, b"x00x00x00")` 表示所有像素中有 95% 是黑色。查看示例 [如何使用像素图：检查文本可见性](recipes-images.html#recipesimages-p)。
- en: '[PRE34]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Indicates whether the pixmap contains transparency information.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 指示像素图是否包含透明信息。
- en: 'Type:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bool
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 布尔型
- en: '[PRE35]'
  id: totrans-311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: The MD5 hashcode (16 bytes) of the pixmap. This is a technical value used for
    unique identifications.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 像素图的 MD5 哈希码（16 字节）。这是用于唯一标识的技术值。
- en: 'Type:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bytes
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 字节
- en: '[PRE36]'
  id: totrans-315
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: The colorspace of the pixmap. This value may be *None* if the image is to be
    treated as a so-called *image mask* or *stencil mask* (currently happens for extracted
    PDF document images only).
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 像素图的颜色空间。如果图像被视为所谓的“图像掩码”或“模板掩码”（目前仅适用于提取的 PDF 文档图像），此值可能为 *None*。
- en: 'Type:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[Colorspace](colorspace.html#colorspace)'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '[颜色空间](colorspace.html#colorspace)'
- en: '[PRE37]'
  id: totrans-319
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Contains the length of one row of image data in [`Pixmap.samples`](#Pixmap.samples
    "Pixmap.samples"). This is primarily used for calculation purposes. The following
    expressions are true:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples") 中图像数据的一行长度。这主要用于计算目的。以下表达式是真实的：
- en: '`len(samples) == height * stride`'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`len(samples) == height * stride`'
- en: '`width * n == stride`'
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`width * n == stride`'
- en: 'Type:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 整型
- en: '[PRE38]'
  id: totrans-325
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: New in v1.19.2
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能，版本号为 v1.19.2
- en: Is `True` for a gray pixmap which only has the colors black and white.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 如果灰度像素图只有黑色和白色，则为 `True`。
- en: 'Type:'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bool
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 布尔型
- en: '[PRE39]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: New in v1.19.2
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新功能，版本号为 v1.19.2
- en: Is `True` if all pixels are identical (any colorspace). Where applicable, pixels
    with different alpha values will be treated as different colors.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 如果所有像素相同（任何颜色空间），则为 `True`。在适用的情况下，具有不同 alpha 值的像素将被视为不同颜色。
- en: 'Type:'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bool
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 布尔型
- en: '[PRE40]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Contains the [IRect](irect.html#irect) of the pixmap.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 包含像素图的 [IRect](irect.html#irect)。
- en: 'Type:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: '[IRect](irect.html#irect)'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '[IRect](irect.html#irect)'
- en: '[PRE41]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: The color and (if [`Pixmap.alpha`](#Pixmap.alpha "Pixmap.alpha") is true) transparency
    values for all pixels. It is an area of `width * height * n` bytes. Each n bytes
    define one pixel. Each successive n bytes yield another pixel in scanline order.
    Subsequent scanlines follow each other with no padding. E.g. for an RGBA colorspace
    this means, *samples* is a sequence of bytes like *…, R, G, B, A, …*, and the
    four byte values R, G, B, A define one pixel.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 所有像素的颜色（如果[`Pixmap.alpha`](#Pixmap.alpha "Pixmap.alpha")为 true，则还包括透明度值）。这是一个大小为
    `width * height * n` 字节的区域。每 n 字节定义一个像素。每个后续的 n 字节按扫描线顺序给出另一个像素。后续扫描线相继排列，没有填充。例如，对于
    RGBA 颜色空间，这意味着 *samples* 是一个像 *…, R, G, B, A, …* 的字节序列，四个字节值 R, G, B, A 定义一个像素。
- en: This area can be passed to other graphics libraries like PIL (Python Imaging
    Library) to do additional processing like saving the pixmap in other image formats.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 此区域可以传递给其他图形库（如 PIL - Python Imaging Library）进行额外处理，例如将像素图保存为其他图像格式。
- en: Note
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The underlying data is typically a **large** memory area, from which a `bytes`
    copy is made for this attribute … each time you access it: for example an RGB-rendered
    letter page has a samples size of almost 1.4 MB. So consider assigning a new variable
    to it or use the `memoryview` version [`Pixmap.samples_mv`](#Pixmap.samples_mv
    "Pixmap.samples_mv") (new in v1.18.17).'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 底层数据通常是一个**大**的内存区域，每次访问时会为此属性创建一个 `bytes` 复制 … 例如，一个 RGB 渲染的字母页具有接近 1.4 MB
    的样本大小。因此，请考虑为其分配一个新变量或使用 `memoryview` 版本 [`Pixmap.samples_mv`](#Pixmap.samples_mv
    "Pixmap.samples_mv")（自 v1.18.17 新增）。
- en: Any changes to the underlying data are available only after accessing this attribute
    again. This is different from using the memoryview version.
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅在重新访问此属性后才能获得底层数据的任何更改。这与使用 memoryview 版本不同。
- en: 'Type:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bytes
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: bytes
- en: '[PRE42]'
  id: totrans-347
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: New in v1.18.17
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.18.17 新增
- en: Like [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples"), but in Python `memoryview`
    format. It is built pointing to the memory in the pixmap – not from a copy of
    it. So its creation speed is independent from the pixmap size, and any changes
    to pixels will be available immediately.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于 [`Pixmap.samples`](#Pixmap.samples "Pixmap.samples")，但以 Python `memoryview`
    格式呈现。它是指向像素图中内存的指针，而不是从中复制出来的。因此，其创建速度与像素图大小无关，对像素的任何更改都将立即生效。
- en: Copies like `bytearray(pix.samples_mv)`, or `bytes(pixmap.samples_mv)` are equivalent
    to and can be used in place of `pix.samples`.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '`bytearray(pix.samples_mv)` 或 `bytes(pixmap.samples_mv)` 的复制与 `pix.samples`
    等效，并可用于替代其位置。'
- en: We also have `len(pix.samples) == len(pix.samples_mv)`.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有 `len(pix.samples) == len(pix.samples_mv)`。
- en: 'Look at this example from a 2 MB JPEG: the memoryview is **ten thousand times
    faster**:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 看看这个来自 2 MB JPEG 的例子：memoryview **快一万倍**：
- en: '[PRE43]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Type:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: memoryview
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: memoryview
- en: '[PRE44]'
  id: totrans-356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: New in v1.18.17
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 v1.18.17 新增
- en: 'Python pointer to the pixel area. This is a special integer format, which can
    be used by supporting applications (such as PyQt) to directly address the samples
    area and thus build their images extremely fast. For example:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: Python 指向像素区域的指针。这是一种特殊的整数格式，支持应用程序（如 PyQt）可以直接访问样本区域，从而极大地加速图像构建过程。例如：
- en: '[PRE45]'
  id: totrans-359
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Both of the above lead to the same Qt image, but (2) can be **many hundred times
    faster**, because it avoids an additional copy of the pixel area.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 上述两者都导致相同的 Qt 图像，但 (2) 可能**快几百倍**，因为它避免了像素区域的额外复制。
- en: 'Type:'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE46]'
  id: totrans-363
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Contains *len(pixmap)*. This will generally equal *len(pix.samples)* plus some
    platform-specific value for defining other attributes of the object.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 *len(pixmap)*。通常会等于 *len(pix.samples)* 加上某些平台特定的值，用于定义对象的其他属性。
- en: 'Type:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE47]'
  id: totrans-367
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '[PRE48]'
  id: totrans-368
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Width of the region in pixels.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 区域的宽度，以像素为单位。
- en: 'Type:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE49]'
  id: totrans-372
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '[PRE50]'
  id: totrans-373
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Height of the region in pixels.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 区域的高度，以像素为单位。
- en: 'Type:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE51]'
  id: totrans-377
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: X-coordinate of top-left corner in pixels. Cannot directly be changed – use
    [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin").
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 左上角 X 坐标，以像素为单位。不能直接更改 —— 使用 [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin")。
- en: 'Type:'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE52]'
  id: totrans-381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Y-coordinate of top-left corner in pixels. Cannot directly be changed – use
    [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin").
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 左上角 Y 坐标，以像素为单位。不能直接更改 —— 使用 [`Pixmap.set_origin()`](#Pixmap.set_origin "Pixmap.set_origin")。
- en: 'Type:'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE53]'
  id: totrans-385
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Number of components per pixel. This number depends on colorspace and alpha.
    If colorspace is not *None* (stencil masks), then *Pixmap.n - Pixmap.alpha ==
    pixmap.colorspace.n* is true. If colorspace is *None*, then *n == alpha == 1*.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 每像素组件数。此数字取决于颜色空间和 alpha 值。如果颜色空间不是 *None*（模板掩码），那么 *Pixmap.n - Pixmap.alpha
    == pixmap.colorspace.n* 为真。如果颜色空间为 *None*，则 *n == alpha == 1*。
- en: 'Type:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE54]'
  id: totrans-389
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Horizontal resolution in dpi (dots per inch). Please also see [`resolution`](glossary.html#resolution
    "resolution"). Cannot directly be changed – use [`Pixmap.set_dpi()`](#Pixmap.set_dpi
    "Pixmap.set_dpi").
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 水平分辨率，单位为 dpi（每英寸点数）。请参阅 [`resolution`](glossary.html#resolution "resolution")。不能直接更改
    —— 使用 [`Pixmap.set_dpi()`](#Pixmap.set_dpi "Pixmap.set_dpi")。
- en: 'Type:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE55]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Vertical resolution in dpi (dots per inch). Please also see [`resolution`](glossary.html#resolution
    "resolution"). Cannot directly be changed – use [`Pixmap.set_dpi()`](#Pixmap.set_dpi
    "Pixmap.set_dpi").
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 垂直分辨率，单位为 dpi（每英寸点数）。请参阅 [`resolution`](glossary.html#resolution "resolution")。不能直接更改
    —— 使用 [`Pixmap.set_dpi()`](#Pixmap.set_dpi "Pixmap.set_dpi")。
- en: 'Type:'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: int
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: int
- en: '[PRE56]'
  id: totrans-397
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: An information-only boolean flag set to *True* if the image will be drawn using
    “linear interpolation”. If *False* “nearest neighbour sampling” will be used.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 一个仅用于信息的布尔标志，如果使用“线性插值”绘制图像，则设置为 *True*。如果使用“最近邻采样”，则设置为 *False*。
- en: 'Type:'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 类型：
- en: bool
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 布尔值
- en: '## Supported Input Image Formats'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: '## 支持的输入图像格式'
- en: 'The following file types are supported as **input** to construct pixmaps: **BMP,
    JPEG, GIF, TIFF, JXR, JPX**, **PNG**, **PAM** and all of the **Portable Anymap**
    family (**PBM, PGM, PNM, PPM**). This support is two-fold:'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 以下文件类型支持作为 **输入** 构建像素图：**BMP, JPEG, GIF, TIFF, JXR, JPX**, **PNG**, **PAM**
    和所有 **Portable Anymap** 家族的文件 (**PBM, PGM, PNM, PPM**)。这种支持是双重的：
- en: Directly create a pixmap with *Pixmap(filename)* or *Pixmap(byterray)*. The
    pixmap will then have properties as determined by the image.
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 *Pixmap(filename)* 或 *Pixmap(byterray)* 直接创建一个像素图。然后，该像素图的属性将由图像确定。
- en: 'Open such files with *pymupdf.open(…)*. The result will then appear as a document
    containing one single page. Creating a pixmap of this page offers all the options
    available in this context: apply a matrix, choose colorspace and alpha, confine
    the pixmap to a clip area, etc.'
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 *pymupdf.open(…)* 打开此类文件。结果将显示为包含单个页面的文档。创建此页面的像素图可在此上下文中提供所有可用的选项：应用矩阵、选择颜色空间和
    alpha、将像素图限制在剪辑区域内等。
- en: '**SVG images** are only supported via method 2 above, not directly as pixmaps.
    But remember: the result of this is a **raster image** as is always the case with
    pixmaps [[1]](#f1).  ## Supported Output Image Formats'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: '**SVG 图像** 仅通过上述方法 2 支持，而不是直接作为像素图。但请记住：这个结果是一个 **光栅图像**，这在像素图中总是如此 [[1]](#f1)。
    ## 支持的输出图像格式'
- en: A number of image **output** formats are supported. You have the option to either
    write an image directly to a file ([`Pixmap.save()`](#Pixmap.save "Pixmap.save")),
    or to generate a bytes object ([`Pixmap.tobytes()`](#Pixmap.tobytes "Pixmap.tobytes")).
    Both methods accept a string identifying the desired format (**Format** column
    below). Please note that not all combinations of pixmap colorspace, transparency
    support (alpha) and image format are possible.
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 支持多种图像 **输出** 格式。您可以选择将图像直接写入文件（[`Pixmap.save()`](#Pixmap.save "Pixmap.save")），或生成一个字节对象（[`Pixmap.tobytes()`](#Pixmap.tobytes
    "Pixmap.tobytes")）。这两种方法都接受一个字符串，用于标识所需的格式（下面的 **格式** 列）。请注意，并非所有像素图颜色空间、透明度支持（alpha）和图像格式的组合都可能。
- en: '| **Format** | **Colorspaces** | **alpha** | **Extensions** | **Description**
    |'
  id: totrans-407
  prefs: []
  type: TYPE_TB
  zh: '| **格式** | **颜色空间** | **alpha** | **扩展名** | **描述** |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-408
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| jpg, jpeg | gray, rgb, cmyk | no | .jpg, .jpeg | Joint Photographic Experts
    Group |'
  id: totrans-409
  prefs: []
  type: TYPE_TB
  zh: '| jpg, jpeg | 灰度, RGB, CMYK | 否 | .jpg, .jpeg | Joint Photographic Experts
    Group |'
- en: '| pam | gray, rgb, cmyk | yes | .pam | Portable Arbitrary Map |'
  id: totrans-410
  prefs: []
  type: TYPE_TB
  zh: '| pam | 灰度, RGB, CMYK | 是 | .pam | Portable Arbitrary Map |'
- en: '| pbm | gray, rgb | no | .pbm | Portable Bitmap |'
  id: totrans-411
  prefs: []
  type: TYPE_TB
  zh: '| pbm | 灰度, RGB | 否 | .pbm | Portable Bitmap |'
- en: '| pgm | gray, rgb | no | .pgm | Portable Graymap |'
  id: totrans-412
  prefs: []
  type: TYPE_TB
  zh: '| pgm | 灰度, RGB | 否 | .pgm | Portable Graymap |'
- en: '| png | gray, rgb | yes | .png | Portable Network Graphics |'
  id: totrans-413
  prefs: []
  type: TYPE_TB
  zh: '| png | 灰度, RGB | 是 | .png | Portable Network Graphics |'
- en: '| pnm | gray, rgb | no | .pnm | Portable Anymap |'
  id: totrans-414
  prefs: []
  type: TYPE_TB
  zh: '| pnm | 灰度, RGB | 否 | .pnm | Portable Anymap |'
- en: '| ppm | gray, rgb | no | .ppm | Portable Pixmap |'
  id: totrans-415
  prefs: []
  type: TYPE_TB
  zh: '| ppm | 灰度, RGB | 否 | .ppm | Portable Pixmap |'
- en: '| ps | gray, rgb, cmyk | no | .ps | Adobe PostScript Image |'
  id: totrans-416
  prefs: []
  type: TYPE_TB
  zh: '| ps | 灰度, RGB, CMYK | 否 | .ps | Adobe PostScript 图像 |'
- en: '| psd | gray, rgb, cmyk | yes | .psd | Adobe Photoshop Document |'
  id: totrans-417
  prefs: []
  type: TYPE_TB
  zh: '| psd | 灰度, RGB, CMYK | 是 | .psd | Adobe Photoshop 文档 |'
- en: Note
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Not all image file types are supported (or at least common) on all OS platforms.
    E.g. PAM and the Portable Anymap formats are rare or even unknown on Windows.
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 并非所有图像文件类型都在所有操作系统平台上都受支持（或至少常见）。例如，PAM 和 Portable Anymap 格式在 Windows 上可能很少甚至未知。
- en: Especially pertaining to CMYK colorspaces, you can always convert a CMYK pixmap
    to an RGB pixmap with *rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)* and
    then save that in the desired format.
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特别是在 CMYK 颜色空间方面，您始终可以使用 *rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)*
    将 CMYK 像素图转换为 RGB 像素图，然后以所需格式保存。
- en: As can be seen, MuPDF’s image support range is different for input and output.
    Among those supported both ways, PNG and JPEG are probably the most popular.
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可见，MuPDF 的图像支持范围在输入和输出方面是不同的。在双向支持的图像中，PNG 和 JPEG 可能是最流行的。
- en: 'We also recommend using “ppm” formats as input to tkinter’s *PhotoImage* method
    like this: *tkimg = tkinter.PhotoImage(data=pix.tobytes(“ppm”))* (also see the
    tutorial). This is **very** fast (**60 times** faster than PNG).'
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还建议将 “ppm” 格式作为 tkinter 的 *PhotoImage* 方法的输入，如 *tkimg = tkinter.PhotoImage(data=pix.tobytes(“ppm”))*（也请参阅教程）。这是非常快速的（比
    PNG 快 **60 倍**）。
- en: Footnotes
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 脚注
- en: Do you have any feedback on this page?
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 您对本页面有任何反馈吗？
- en: '* * *'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 此软件按“原样”提供，不附带任何明示或暗示的担保。此软件在许可下分发，除非在该许可条款明确授权下，否则不得复制、修改或分发。请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)上的许可信息或联系美国加利福尼亚州旧金山
    Mesa Street 39 号 108A 室 Artifex Software Inc. 获取更多信息。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 本文档覆盖了直至版本 1.24.4。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)
    ## Supported Input Image Formats'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)
    ## 支持的输入图像格式'
- en: 'The following file types are supported as **input** to construct pixmaps: **BMP,
    JPEG, GIF, TIFF, JXR, JPX**, **PNG**, **PAM** and all of the **Portable Anymap**
    family (**PBM, PGM, PNM, PPM**). This support is two-fold:'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 以下文件类型支持作为**输入**以构建像素图：**BMP, JPEG, GIF, TIFF, JXR, JPX**, **PNG**, **PAM**
    和所有**便携式任意映射**系列（**PBM, PGM, PNM, PPM**）。此支持具有双重性：
- en: Directly create a pixmap with *Pixmap(filename)* or *Pixmap(byterray)*. The
    pixmap will then have properties as determined by the image.
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直接使用*Pixmap(filename)*或*Pixmap(byterray)*创建像素图。然后，像素图将具有由图像确定的属性。
- en: 'Open such files with *pymupdf.open(…)*. The result will then appear as a document
    containing one single page. Creating a pixmap of this page offers all the options
    available in this context: apply a matrix, choose colorspace and alpha, confine
    the pixmap to a clip area, etc.'
  id: totrans-431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用 *pymupdf.open(...)* 打开此类文件。结果将显示为包含单个页面的文档。在此上下文中创建此页面的像素图提供了所有可用的选项：应用矩阵、选择颜色空间和透明度、将像素图限制为剪辑区域等。
- en: '**SVG images** are only supported via method 2 above, not directly as pixmaps.
    But remember: the result of this is a **raster image** as is always the case with
    pixmaps [[1]](#f1).'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: '**SVG 图像**只能通过上述第二种方法支持，而不能直接作为像素图。但请记住：这样做的结果是一幅**光栅图像**，这在像素图中总是如此 [[1]](#f1)。'
- en: '## Supported Output Image Formats'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '## 支持的输出图像格式'
- en: A number of image **output** formats are supported. You have the option to either
    write an image directly to a file ([`Pixmap.save()`](#Pixmap.save "Pixmap.save")),
    or to generate a bytes object ([`Pixmap.tobytes()`](#Pixmap.tobytes "Pixmap.tobytes")).
    Both methods accept a string identifying the desired format (**Format** column
    below). Please note that not all combinations of pixmap colorspace, transparency
    support (alpha) and image format are possible.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 支持多种图像**输出**格式。您可以选择直接将图像写入文件（[`Pixmap.save()`](#Pixmap.save "Pixmap.save")），或生成一个字节对象（[`Pixmap.tobytes()`](#Pixmap.tobytes
    "Pixmap.tobytes")）。这两种方法均接受一个字符串，用于标识所需格式（下面的**格式**列）。请注意，并非所有像素图颜色空间、透明度支持（alpha）和图像格式的组合都可能。
- en: '| **Format** | **Colorspaces** | **alpha** | **Extensions** | **Description**
    |'
  id: totrans-435
  prefs: []
  type: TYPE_TB
  zh: '| **格式** | **颜色空间** | **alpha** | **扩展名** | **描述** |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-436
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| jpg, jpeg | gray, rgb, cmyk | no | .jpg, .jpeg | Joint Photographic Experts
    Group |'
  id: totrans-437
  prefs: []
  type: TYPE_TB
  zh: '| jpg, jpeg | 灰度, RGB, CMYK | 否 | .jpg, .jpeg | 联合摄影专家小组 |'
- en: '| pam | gray, rgb, cmyk | yes | .pam | Portable Arbitrary Map |'
  id: totrans-438
  prefs: []
  type: TYPE_TB
  zh: '| pam | 灰度, RGB, CMYK | 是 | .pam | 便携式任意映射 |'
- en: '| pbm | gray, rgb | no | .pbm | Portable Bitmap |'
  id: totrans-439
  prefs: []
  type: TYPE_TB
  zh: '| pbm | 灰度, RGB | 否 | .pbm | 便携式位图 |'
- en: '| pgm | gray, rgb | no | .pgm | Portable Graymap |'
  id: totrans-440
  prefs: []
  type: TYPE_TB
  zh: '| pgm | 灰度, RGB | 否 | .pgm | 便携式灰度图 |'
- en: '| png | gray, rgb | yes | .png | Portable Network Graphics |'
  id: totrans-441
  prefs: []
  type: TYPE_TB
  zh: '| png | 灰度, RGB | 是 | .png | 便携式网络图形 |'
- en: '| pnm | gray, rgb | no | .pnm | Portable Anymap |'
  id: totrans-442
  prefs: []
  type: TYPE_TB
  zh: '| pnm | 灰度, RGB | 否 | .pnm | 便携式任意映射 |'
- en: '| ppm | gray, rgb | no | .ppm | Portable Pixmap |'
  id: totrans-443
  prefs: []
  type: TYPE_TB
  zh: '| ppm | 灰度, RGB | 否 | .ppm | 便携式像素图 |'
- en: '| ps | gray, rgb, cmyk | no | .ps | Adobe PostScript Image |'
  id: totrans-444
  prefs: []
  type: TYPE_TB
  zh: '| ps | 灰度, RGB, CMYK | 否 | .ps | Adobe PostScript 图像 |'
- en: '| psd | gray, rgb, cmyk | yes | .psd | Adobe Photoshop Document |'
  id: totrans-445
  prefs: []
  type: TYPE_TB
  zh: '| psd | 灰度, RGB, CMYK | 是 | .psd | Adobe Photoshop 文档 |'
- en: Note
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 注
- en: Not all image file types are supported (or at least common) on all OS platforms.
    E.g. PAM and the Portable Anymap formats are rare or even unknown on Windows.
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 并非所有图像文件类型在所有操作系统平台上都受支持（或至少是常见的）。例如，PAM 和便携式任意映射格式在 Windows 上很少见，甚至是未知的。
- en: Especially pertaining to CMYK colorspaces, you can always convert a CMYK pixmap
    to an RGB pixmap with *rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)* and
    then save that in the desired format.
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特别是关于 CMYK 色彩空间，您始终可以使用 *rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)*
    将 CMYK 像素图转换为 RGB 像素图，然后以所需格式保存。
- en: As can be seen, MuPDF’s image support range is different for input and output.
    Among those supported both ways, PNG and JPEG are probably the most popular.
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如所见，MuPDF的图像支持范围对输入和输出是不同的。在双向支持中，PNG和JPEG可能是最流行的格式。
- en: 'We also recommend using “ppm” formats as input to tkinter’s *PhotoImage* method
    like this: *tkimg = tkinter.PhotoImage(data=pix.tobytes(“ppm”))* (also see the
    tutorial). This is **very** fast (**60 times** faster than PNG).'
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还建议将“ppm”格式作为输入传递给tkinter的*PhotoImage*方法，像这样：*tkimg = tkinter.PhotoImage(data=pix.tobytes("ppm"))*（也请参阅教程）。这种方式**非常**快（比PNG快**60倍**）。
- en: Footnotes
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 脚注
- en: Do you have any feedback on this page?
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 对本页面有任何反馈吗？
- en: '* * *'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 本软件按原样提供，不提供任何明示或暗示的担保。本软件在许可下分发，未经明确授权不得复制、修改或分发。请参阅[artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)上的许可信息或联系美国旧金山CA
    94129 Mesa街39号108A套房的Artifex Software Inc.以获取更多信息。
- en: This documentation covers all versions up to 1.24.4.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 本文档覆盖所有1.24.4版本。
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Discord标志](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
