- en: Contributing to JAX
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 贡献给 JAX
- en: 原文：[`jax.readthedocs.io/en/latest/contributing.html`](https://jax.readthedocs.io/en/latest/contributing.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[`jax.readthedocs.io/en/latest/contributing.html`](https://jax.readthedocs.io/en/latest/contributing.html)
- en: 'Everyone can contribute to JAX, and we value everyone’s contributions. There
    are several ways to contribute, including:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 每个人都可以贡献到 JAX，并且我们重视每个人的贡献。有几种贡献方式，包括：
- en: Answering questions on JAX’s [discussions page](https://github.com/google/jax/discussions)
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 JAX 的[讨论页面](https://github.com/google/jax/discussions)上回答问题
- en: Improving or expanding JAX’s [documentation](http://jax.readthedocs.io/)
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进或扩展 JAX 的[文档](http://jax.readthedocs.io/)
- en: Contributing to JAX’s [code-base](http://github.com/google/jax/)
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 贡献给 JAX 的[代码库](http://github.com/google/jax/)
- en: Contributing in any of the above ways to the broader ecosystem of [libraries
    built on JAX](https://github.com/google/jax#neural-network-libraries)
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在贡献到基于 JAX 构建的[库的更广泛生态系统](https://github.com/google/jax#neural-network-libraries)
- en: The JAX project follows [Google’s Open Source Community Guidelines](https://opensource.google/conduct/).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: JAX 项目遵循[Google 的开源社区准则](https://opensource.google/conduct/)。
- en: Ways to contribute
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 贡献的方式
- en: We welcome pull requests, in particular for those issues marked with [contributions
    welcome](https://github.com/google/jax/issues?q=is%3Aopen+is%3Aissue+label%3A%22contributions+welcome%22)
    or [good first issue](https://github.com/google/jax/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎拉取请求，特别是对于那些标记有[欢迎贡献](https://github.com/google/jax/issues?q=is%3Aopen+is%3Aissue+label%3A%22contributions+welcome%22)或[好的首次问题](https://github.com/google/jax/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22)的问题。
- en: For other proposals, we ask that you first open a GitHub [Issue](https://github.com/google/jax/issues/new/choose)
    or [Discussion](https://github.com/google/jax/discussions) to seek feedback on
    your planned contribution.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于其他建议，我们要求您首先在 GitHub 的[问题](https://github.com/google/jax/issues/new/choose)或[讨论](https://github.com/google/jax/discussions)中寻求对您计划贡献的反馈。
- en: Contributing code using pull requests
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用拉取请求贡献代码
- en: We do all of our development using git, so basic knowledge is assumed.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所有的开发都是使用 git 进行的，所以假定您具备基本知识。
- en: 'Follow these steps to contribute code:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤贡献代码：
- en: Sign the [Google Contributor License Agreement (CLA)](https://cla.developers.google.com/).
    For more information, see the Pull Request Checklist below.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 签署[Google 贡献者许可协议 (CLA)](https://cla.developers.google.com/)。有关更多信息，请参阅下面的拉取请求检查清单。
- en: Fork the JAX repository by clicking the **Fork** button on the [repository page](http://www.github.com/google/jax).
    This creates a copy of the JAX repository in your own account.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[存储库页面](http://www.github.com/google/jax)上点击**Fork**按钮来分叉 JAX 存储库。这将在您自己的账户中创建
    JAX 存储库的副本。
- en: Install Python >= 3.9 locally in order to run tests.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在本地安装 Python >= 3.9 以便运行测试。
- en: '`pip` installing your fork from source. This allows you to modify the code
    and immediately test it out:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`pip`从源码安装您的分支。这允许您修改代码并立即测试：
- en: '[PRE0]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Add the JAX repo as an upstream remote, so you can use it to sync your changes.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 JAX 存储库添加为上游远程，以便您可以使用它来同步您的更改。
- en: '[PRE1]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Create a branch where you will develop from:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个分支，在该分支上进行开发：
- en: '[PRE2]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: And implement your changes using your favorite editor (we recommend [Visual
    Studio Code](https://code.visualstudio.com/)).
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 并使用您喜欢的编辑器实现您的更改（我们推荐[Visual Studio Code](https://code.visualstudio.com/)）。
- en: 'Make sure your code passes JAX’s lint and type checks, by running the following
    from the top of the repository:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从存储库顶部运行以下命令来确保您的代码通过 JAX 的 lint 和类型检查：
- en: '[PRE3]'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: See Linting and Type-checking for more details.
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关更多详细信息，请参阅代码规范和类型检查。
- en: 'Make sure the tests pass by running the following command from the top of the
    repository:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保通过从存储库顶部运行以下命令来通过测试：
- en: '[PRE4]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'JAX’s test suite is quite large, so if you know the specific test file that
    covers your changes, you can limit the tests to that; for example:'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: JAX 的测试套件非常庞大，因此如果您知道涵盖您更改的特定测试文件，您可以限制测试为该文件；例如：
- en: '[PRE5]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You can narrow the tests further by using the `pytest -k` flag to match particular
    test names:'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以使用`pytest -k`标志进一步缩小测试范围以匹配特定的测试名称：
- en: '[PRE6]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: JAX also offers more fine-grained control over which particular tests are run;
    see Running the tests for more information.
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: JAX 还提供了对运行哪些特定测试有更精细控制的方式；有关更多信息，请参阅运行测试。
- en: 'Once you are satisfied with your change, create a commit as follows ( [how
    to write a commit message](https://chris.beams.io/posts/git-commit/)):'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您对自己的更改感到满意，请按如下方式创建提交（[如何编写提交消息](https://chris.beams.io/posts/git-commit/)）：
- en: '[PRE7]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then sync your code with the main repo:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后将您的代码与主存储库同步：
- en: '[PRE8]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Finally, push your commit on your development branch and create a remote branch
    in your fork that you can use to create a pull request from:'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最后，将您的提交推送到开发分支，并在您的分支中创建一个远程分支，以便从中创建拉取请求：
- en: '[PRE9]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Please ensure your contribution is a single commit (see Single-change commits
    and pull requests)
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请确保您的贡献是一个单一提交（参见单一更改提交和拉取请求）
- en: Create a pull request from the JAX repository and send it for review. Check
    the JAX pull request checklist for considerations when preparing your PR, and
    consult [GitHub Help](https://help.github.com/articles/about-pull-requests/) if
    you need more information on using pull requests.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 JAX 仓库创建一个拉取请求并发送进行审查。在准备您的 PR 时，请检查 JAX 拉取请求检查列表，并在需要更多关于使用拉取请求的信息时参考 [GitHub
    帮助](https://help.github.com/articles/about-pull-requests/)。
- en: '## JAX pull request checklist'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '## JAX 拉取请求检查列表'
- en: 'As you prepare a JAX pull request, here are a few things to keep in mind:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当您准备一个 JAX 拉取请求时，请牢记以下几点：
- en: Google contributor license agreement
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Google 贡献者许可协议
- en: Contributions to this project must be accompanied by a Google Contributor License
    Agreement (CLA). You (or your employer) retain the copyright to your contribution;
    this simply gives us permission to use and redistribute your contributions as
    part of the project. Head over to [`cla.developers.google.com/`](https://cla.developers.google.com/)
    to see your current agreements on file or to sign a new one.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 参与此项目必须附有 Google 贡献者许可协议（CLA）。您（或您的雇主）保留对您贡献的版权；这只是让我们可以在项目的一部分中使用和重新分发您的贡献的许可。请访问
    [`cla.developers.google.com/`](https://cla.developers.google.com/) 查看您当前已有的协议或签署新协议。
- en: You generally only need to submit a CLA once, so if you’ve already submitted
    one (even if it was for a different project), you probably don’t need to do it
    again. If you’re not certain whether you’ve signed a CLA, you can open your PR
    and our friendly CI bot will check for you.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 通常您只需要提交一次 CLA，所以如果您已经提交过一个（即使是为不同的项目），您可能不需要再次提交。如果您不确定是否已签署了 CLA，您可以打开您的 PR，我们友好的
    CI 机器人将为您检查。
- en: '### Single-change commits and pull requests'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '### 单一更改提交和拉取请求'
- en: A git commit ought to be a self-contained, single change with a descriptive
    message. This helps with review and with identifying or reverting changes if issues
    are uncovered later on.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 一个 git 提交应该是一个独立的、单一的更改，并带有描述性的消息。这有助于审查和在后期发现问题时识别或还原更改。
- en: '**Pull requests typically comprise a single git commit.** (In some cases, for
    instance for large refactors or internal rewrites, they may contain several.)
    In preparing a pull request for review, you may need to squash together multiple
    commits. We ask that you do this prior to sending the PR for review if possible.
    The `git rebase -i` command might be useful to this end.  ### Linting and Type-checking'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**拉取请求通常由单一 git 提交组成。**（在某些情况下，例如进行大型重构或内部重写时，可能会包含多个提交。）在准备进行审查的拉取请求时，如果可能的话，请提前将多个提交合并。可能会使用
    `git rebase -i` 命令来实现这一点。### 代码风格检查和类型检查'
- en: 'JAX uses [mypy](https://mypy.readthedocs.io/) and [ruff](https://docs.astral.sh/ruff/)
    to statically test code quality; the easiest way to run these checks locally is
    via the [pre-commit](https://pre-commit.com/) framework:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: JAX 使用 [mypy](https://mypy.readthedocs.io/) 和 [ruff](https://docs.astral.sh/ruff/)
    来静态测试代码质量；在本地运行这些检查的最简单方法是通过 [pre-commit](https://pre-commit.com/) 框架：
- en: '[PRE10]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: If your pull request touches documentation notebooks, this will also run some
    checks on those (See Update notebooks for more details).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的拉取请求涉及文档笔记本，请注意还将对其运行一些检查（有关更多详细信息，请参阅更新笔记本）。
- en: Full GitHub test suite
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 完整的 GitHub 测试套件
- en: Your PR will automatically be run through a full test suite on GitHub CI, which
    covers a range of Python versions, dependency versions, and configuration options.
    It’s normal for these tests to turn up failures that you didn’t catch locally;
    to fix the issues you can push new commits to your branch.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 您的 PR 将自动通过 GitHub CI 运行完整的测试套件，该套件涵盖了多个 Python 版本、依赖版本和配置选项。这些测试通常会发现您在本地没有捕捉到的失败；为了修复问题，您可以将新的提交推送到您的分支。
- en: Restricted test suite
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 受限测试套件
- en: Once your PR has been reviewed, a JAX maintainer will mark it as `Pull Ready`.
    This will trigger a larger set of tests, including tests on GPU and TPU backends
    that are not available via standard GitHub CI. Detailed results of these tests
    are not publicly viewable, but the JAX maintainer assigned to your PR will communicate
    with you regarding any failures these might uncover; it’s not uncommon, for example,
    that numerical tests need different tolerances on TPU than on CPU.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的 PR 被审查通过，JAX 的维护者将其标记为 `Pull Ready`。这将触发一系列更广泛的测试，包括在标准 GitHub CI 中不可用的
    GPU 和 TPU 后端的测试。这些测试的详细结果不对公众可见，但负责审查您的 PR 的 JAX 维护者将与您沟通任何可能揭示的失败；例如，TPU 上的数值测试通常需要与
    CPU 不同的容差。
