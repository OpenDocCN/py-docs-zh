- en: Relationship Configuration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.sqlalchemy.org/en/20/orm/relationships.html](https://docs.sqlalchemy.org/en/20/orm/relationships.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This section describes the [`relationship()`](relationship_api.html#sqlalchemy.orm.relationship
    "sqlalchemy.orm.relationship") function and in depth discussion of its usage.
    For an introduction to relationships, start with [Working with ORM Related Objects](../tutorial/orm_related_objects.html#tutorial-orm-related-objects)
    in the [SQLAlchemy Unified Tutorial](../tutorial/index.html#unified-tutorial).
  prefs: []
  type: TYPE_NORMAL
- en: '[Basic Relationship Patterns](basic_relationships.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Declarative vs. Imperative Forms](basic_relationships.html#declarative-vs-imperative-forms)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[One To Many](basic_relationships.html#one-to-many)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using Sets, Lists, or other Collection Types for One To Many](basic_relationships.html#using-sets-lists-or-other-collection-types-for-one-to-many)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Configuring Delete Behavior for One to Many](basic_relationships.html#configuring-delete-behavior-for-one-to-many)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Many To One](basic_relationships.html#many-to-one)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Nullable Many-to-One](basic_relationships.html#nullable-many-to-one)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[One To One](basic_relationships.html#one-to-one)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Setting uselist=False for non-annotated configurations](basic_relationships.html#setting-uselist-false-for-non-annotated-configurations)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Many To Many](basic_relationships.html#many-to-many)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Setting Bi-Directional Many-to-many](basic_relationships.html#setting-bi-directional-many-to-many)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using a late-evaluated form for the “secondary” argument](basic_relationships.html#using-a-late-evaluated-form-for-the-secondary-argument)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using Sets, Lists, or other Collection Types for Many To Many](basic_relationships.html#using-sets-lists-or-other-collection-types-for-many-to-many)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Deleting Rows from the Many to Many Table](basic_relationships.html#deleting-rows-from-the-many-to-many-table)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Association Object](basic_relationships.html#association-object)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Combining Association Object with Many-to-Many Access Patterns](basic_relationships.html#combining-association-object-with-many-to-many-access-patterns)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Late-Evaluation of Relationship Arguments](basic_relationships.html#late-evaluation-of-relationship-arguments)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Adding Relationships to Mapped Classes After Declaration](basic_relationships.html#adding-relationships-to-mapped-classes-after-declaration)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using a late-evaluated form for the “secondary” argument of many-to-many](basic_relationships.html#using-a-late-evaluated-form-for-the-secondary-argument-of-many-to-many)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Adjacency List Relationships](self_referential.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Composite Adjacency Lists](self_referential.html#composite-adjacency-lists)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Self-Referential Query Strategies](self_referential.html#self-referential-query-strategies)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Configuring Self-Referential Eager Loading](self_referential.html#configuring-self-referential-eager-loading)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Configuring how Relationship Joins](join_conditions.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Handling Multiple Join Paths](join_conditions.html#handling-multiple-join-paths)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Specifying Alternate Join Conditions](join_conditions.html#specifying-alternate-join-conditions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Creating Custom Foreign Conditions](join_conditions.html#creating-custom-foreign-conditions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using custom operators in join conditions](join_conditions.html#using-custom-operators-in-join-conditions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Custom operators based on SQL functions](join_conditions.html#custom-operators-based-on-sql-functions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Overlapping Foreign Keys](join_conditions.html#overlapping-foreign-keys)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Non-relational Comparisons / Materialized Path](join_conditions.html#non-relational-comparisons-materialized-path)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Self-Referential Many-to-Many Relationship](join_conditions.html#self-referential-many-to-many-relationship)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Composite “Secondary” Joins](join_conditions.html#composite-secondary-joins)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Relationship to Aliased Class](join_conditions.html#relationship-to-aliased-class)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Integrating AliasedClass Mappings with Typing and Avoiding Early Mapper Configuration](join_conditions.html#integrating-aliasedclass-mappings-with-typing-and-avoiding-early-mapper-configuration)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using the AliasedClass target in Queries](join_conditions.html#using-the-aliasedclass-target-in-queries)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Row-Limited Relationships with Window Functions](join_conditions.html#row-limited-relationships-with-window-functions)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Building Query-Enabled Properties](join_conditions.html#building-query-enabled-properties)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Notes on using the viewonly relationship parameter](join_conditions.html#notes-on-using-the-viewonly-relationship-parameter)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[In-Python mutations including backrefs are not appropriate with viewonly=True](join_conditions.html#in-python-mutations-including-backrefs-are-not-appropriate-with-viewonly-true)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[viewonly=True collections / attributes do not get re-queried until expired](join_conditions.html#viewonly-true-collections-attributes-do-not-get-re-queried-until-expired)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Working with Large Collections](large_collections.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Write Only Relationships](large_collections.html#write-only-relationships)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Creating and Persisting New Write Only Collections](large_collections.html#creating-and-persisting-new-write-only-collections)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Adding New Items to an Existing Collection](large_collections.html#adding-new-items-to-an-existing-collection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Querying Items](large_collections.html#querying-items)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Removing Items](large_collections.html#removing-items)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bulk INSERT of New Items](large_collections.html#bulk-insert-of-new-items)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bulk UPDATE and DELETE of Items](large_collections.html#bulk-update-and-delete-of-items)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Write Only Collections - API Documentation](large_collections.html#write-only-collections-api-documentation)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Dynamic Relationship Loaders](large_collections.html#dynamic-relationship-loaders)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Dynamic Relationship Loaders - API](large_collections.html#dynamic-relationship-loaders-api)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Setting RaiseLoad](large_collections.html#setting-raiseload)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using Passive Deletes](large_collections.html#using-passive-deletes)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Collection Customization and API Details](collection_api.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Customizing Collection Access](collection_api.html#customizing-collection-access)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Dictionary Collections](collection_api.html#dictionary-collections)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Custom Collection Implementations](collection_api.html#custom-collection-implementations)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Annotating Custom Collections via Decorators](collection_api.html#annotating-custom-collections-via-decorators)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Custom Dictionary-Based Collections](collection_api.html#custom-dictionary-based-collections)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Instrumentation and Custom Types](collection_api.html#instrumentation-and-custom-types)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Collection API](collection_api.html#collection-api)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`attribute_keyed_dict()`](collection_api.html#sqlalchemy.orm.attribute_keyed_dict)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`column_keyed_dict()`](collection_api.html#sqlalchemy.orm.column_keyed_dict)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`keyfunc_mapping()`](collection_api.html#sqlalchemy.orm.keyfunc_mapping)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`attribute_mapped_collection`](collection_api.html#sqlalchemy.orm.attribute_mapped_collection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`column_mapped_collection`](collection_api.html#sqlalchemy.orm.column_mapped_collection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`mapped_collection`](collection_api.html#sqlalchemy.orm.mapped_collection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`KeyFuncDict`](collection_api.html#sqlalchemy.orm.KeyFuncDict)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`MappedCollection`](collection_api.html#sqlalchemy.orm.MappedCollection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Collection Internals](collection_api.html#collection-internals)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`bulk_replace()`](collection_api.html#sqlalchemy.orm.collections.bulk_replace)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`collection`](collection_api.html#sqlalchemy.orm.collections.collection)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`collection_adapter`](collection_api.html#sqlalchemy.orm.collections.collection_adapter)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`CollectionAdapter`](collection_api.html#sqlalchemy.orm.collections.CollectionAdapter)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`InstrumentedDict`](collection_api.html#sqlalchemy.orm.collections.InstrumentedDict)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`InstrumentedList`](collection_api.html#sqlalchemy.orm.collections.InstrumentedList)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`InstrumentedSet`](collection_api.html#sqlalchemy.orm.collections.InstrumentedSet)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`prepare_instrumentation()`](collection_api.html#sqlalchemy.orm.collections.prepare_instrumentation)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Special Relationship Persistence Patterns](relationship_persistence.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Rows that point to themselves / Mutually Dependent Rows](relationship_persistence.html#rows-that-point-to-themselves-mutually-dependent-rows)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Mutable Primary Keys / Update Cascades](relationship_persistence.html#mutable-primary-keys-update-cascades)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Simulating limited ON UPDATE CASCADE without foreign key support](relationship_persistence.html#simulating-limited-on-update-cascade-without-foreign-key-support)'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Using the legacy ‘backref’ relationship parameter](backref.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Backref Default Arguments](backref.html#backref-default-arguments)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Specifying Backref Arguments](backref.html#specifying-backref-arguments)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Relationships API](relationship_api.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`relationship()`](relationship_api.html#sqlalchemy.orm.relationship)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`backref()`](relationship_api.html#sqlalchemy.orm.backref)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`dynamic_loader()`](relationship_api.html#sqlalchemy.orm.dynamic_loader)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`foreign()`](relationship_api.html#sqlalchemy.orm.foreign)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`remote()`](relationship_api.html#sqlalchemy.orm.remote)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
