- en: 'Working together: DisplayList and TextPage'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pymupdf.readthedocs.io/en/latest/coop_low.html](https://pymupdf.readthedocs.io/en/latest/coop_low.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here are some instructions on how to use these classes together.
  prefs: []
  type: TYPE_NORMAL
- en: In some situations, performance improvements may be achievable, when you fall
    back to the detail level explained here.
  prefs: []
  type: TYPE_NORMAL
- en: Create a DisplayList
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A [DisplayList](displaylist.html#displaylist) represents an interpreted document
    page. Methods for pixmap creation, text extraction and text search are – behind
    the curtain – all using the page’s display list to perform their tasks. If a page
    must be rendered several times (e.g. because of changed zoom levels), or if text
    search and text extraction should both be performed, overhead can be saved, if
    the display list is created only once and then used for all other tasks.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: You can also create display lists for many pages “on stack” (in a list), may
    be during document open, during idling times, or you store it when a page is visited
    for the first time (e.g. in GUI scripts).
  prefs: []
  type: TYPE_NORMAL
- en: Note, that for everything what follows, only the display list is needed – the
    corresponding [Page](page.html#page) object could have been deleted.
  prefs: []
  type: TYPE_NORMAL
- en: Generate Pixmap
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The following creates a Pixmap from a [DisplayList](displaylist.html#displaylist).
    Parameters are the same as for [`Page.get_pixmap()`](page.html#Page.get_pixmap
    "Page.get_pixmap").
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The execution time of this statement may be up to 50% shorter than that of [`Page.get_pixmap()`](page.html#Page.get_pixmap
    "Page.get_pixmap").
  prefs: []
  type: TYPE_NORMAL
- en: Perform Text Search
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the display list from above, we can also search for text.
  prefs: []
  type: TYPE_NORMAL
- en: For this we need to create a [TextPage](textpage.html#textpage).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Extract Text
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the same [TextPage](textpage.html#textpage) object from above, we can now
    immediately use any or all of the 5 text extraction methods.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: Above, we have created our text page without argument. This leads to a default
    argument of 3 (`ligatures` and white-space are preserved), IAW images will **not**
    be extracted – see below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Further Performance improvements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Pixmap
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'As explained in the [Page](page.html#page) chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: If you do not need transparency set *alpha = 0* when creating pixmaps. This
    will save 25% memory (if RGB, the most common case) and possibly 5% execution
    time (depending on the GUI software).
  prefs: []
  type: TYPE_NORMAL
- en: TextPage
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If you do not need images extracted alongside the text of a page, you can set
    the following option:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: This will save ca. 25% overall execution time for the HTML, XHTML and JSON text
    extractions and **hugely** reduce the amount of storage (both, memory and disk
    space) if the document is graphics oriented.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you however do need images, use a value of 7 for flags:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Do you have any feedback on this page?
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  prefs: []
  type: TYPE_NORMAL
- en: This documentation covers all versions up to 1.24.4.
  prefs: []
  type: TYPE_NORMAL
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  prefs: []
  type: TYPE_NORMAL
- en: Create a DisplayList
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A [DisplayList](displaylist.html#displaylist) represents an interpreted document
    page. Methods for pixmap creation, text extraction and text search are – behind
    the curtain – all using the page’s display list to perform their tasks. If a page
    must be rendered several times (e.g. because of changed zoom levels), or if text
    search and text extraction should both be performed, overhead can be saved, if
    the display list is created only once and then used for all other tasks.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: You can also create display lists for many pages “on stack” (in a list), may
    be during document open, during idling times, or you store it when a page is visited
    for the first time (e.g. in GUI scripts).
  prefs: []
  type: TYPE_NORMAL
- en: Note, that for everything what follows, only the display list is needed – the
    corresponding [Page](page.html#page) object could have been deleted.
  prefs: []
  type: TYPE_NORMAL
- en: Generate Pixmap
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The following creates a Pixmap from a [DisplayList](displaylist.html#displaylist).
    Parameters are the same as for [`Page.get_pixmap()`](page.html#Page.get_pixmap
    "Page.get_pixmap").
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: The execution time of this statement may be up to 50% shorter than that of [`Page.get_pixmap()`](page.html#Page.get_pixmap
    "Page.get_pixmap").
  prefs: []
  type: TYPE_NORMAL
- en: Perform Text Search
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the display list from above, we can also search for text.
  prefs: []
  type: TYPE_NORMAL
- en: For this we need to create a [TextPage](textpage.html#textpage).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Extract Text
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the same [TextPage](textpage.html#textpage) object from above, we can now
    immediately use any or all of the 5 text extraction methods.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: Above, we have created our text page without argument. This leads to a default
    argument of 3 (`ligatures` and white-space are preserved), IAW images will **not**
    be extracted – see below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Further Performance improvements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Pixmap
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'As explained in the [Page](page.html#page) chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: If you do not need transparency set *alpha = 0* when creating pixmaps. This
    will save 25% memory (if RGB, the most common case) and possibly 5% execution
    time (depending on the GUI software).
  prefs: []
  type: TYPE_NORMAL
- en: TextPage
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If you do not need images extracted alongside the text of a page, you can set
    the following option:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: This will save ca. 25% overall execution time for the HTML, XHTML and JSON text
    extractions and **hugely** reduce the amount of storage (both, memory and disk
    space) if the document is graphics oriented.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you however do need images, use a value of 7 for flags:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Do you have any feedback on this page?
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  prefs: []
  type: TYPE_NORMAL
- en: This documentation covers all versions up to 1.24.4.
  prefs: []
  type: TYPE_NORMAL
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  prefs: []
  type: TYPE_NORMAL
- en: Pixmap
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'As explained in the [Page](page.html#page) chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: If you do not need transparency set *alpha = 0* when creating pixmaps. This
    will save 25% memory (if RGB, the most common case) and possibly 5% execution
    time (depending on the GUI software).
  prefs: []
  type: TYPE_NORMAL
- en: TextPage
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If you do not need images extracted alongside the text of a page, you can set
    the following option:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: This will save ca. 25% overall execution time for the HTML, XHTML and JSON text
    extractions and **hugely** reduce the amount of storage (both, memory and disk
    space) if the document is graphics oriented.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you however do need images, use a value of 7 for flags:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Do you have any feedback on this page?
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: This software is provided AS-IS with no warranty, either express or implied.
    This software is distributed under license and may not be copied, modified or
    distributed except as expressly authorized under the terms of that license. Refer
    to licensing information at [artifex.com](https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link)
    or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA
    94129, United States for further information.
  prefs: []
  type: TYPE_NORMAL
- en: This documentation covers all versions up to 1.24.4.
  prefs: []
  type: TYPE_NORMAL
- en: '[![Discord logo](../Images/66cbb5081103a580193aa66c87b90d9a.png)](https://discord.gg/TSpYGBW4eq)'
  prefs: []
  type: TYPE_NORMAL
